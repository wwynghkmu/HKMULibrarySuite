<html><head>
        <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1">
        <meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0,user-scalable=yes">

        
        <title>HKMU Library</title>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">

          <script type="text/javascript" src="/nidp/javascript/jquery.min.js"></script>
        <link rel="stylesheet" href="/nidp/javascript/smart-app-banner.css">
        <script src="/nidp/javascript/smart-app-banner.js"></script>

        <script>
            
            
            
            
            
            
            
            
            
            
            

            
            

            
            
            
            
            
            
            
            
            
            
            
            
            
        </script>

        <script>
            banner = undefined;
            function run(force) {
                var n = document.querySelector('.smartbanner');
                if (n) {
                    n.parentNode.removeChild(n);
                }
                new SmartBanner({
                        daysHidden: 0, // days to hide banner after close button is clicked (defaults to 15)
                        daysReminder: 0, // days to hide banner after "VIEW" button is clicked (defaults to 90)
                        appStoreLanguage: 'us', // language code for the App Store (defaults to user's browser language)
                        title: 'MobileAccess 2',
                        author: 'MicroFocus',
                        button: 'OPEN',
                        force: force
                });
            }
        </script>

	<link href="/nidp/css/ux_access.css" rel="stylesheet" type="text/css" media="screen">
	<script type="text/javascript" src="/nidp/javascript/jquery.min.js"></script>

	














<style>
.masthead {
    position: relative;
    color:#ffffff;
    background:#000080;
    min-height: 25px;
    max-height: 80px;
    margin:0;
    vertical-align: middle;
    background-color:#000080;
    padding-top: 5px;
}

.mast-title {
    vertical-align: middle;
    margin-left: 15px;
    color:#ffffff;
    font-family:Arial, Helvetica, sans-serif;
    font-size:medium;
    font-weight: 100;
    display: inline;
}

.user-menu {
    position: absolute;
    top: 15px;
    right: 15px;
    font-size: 13px;
    color:#ffffff;
}

#nam-ham-menu {
    top: 110px;
}

#nam-ham-but {
   z-index: 610;
}

.glass-auth-menu {
    display: none;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: transparent;
    z-index: 610;
}

.glass-auth-user {
    display: none;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: transparent;
    z-index: 1999;
}

.mast-logo img {
    max-height: 80px;
    vertical-align: middle;
}

</style>





        <script>



        function updateQueryString(key, value, url)
        {
            if (url)
            {
                var re = new RegExp("([?&])" + key + "=.*?(&|#|$)(.*)", "gi"), hash;

                if (re.test(url))
                {
                    if (typeof value !== 'undefined' && value !== null)
                        return url.replace(re, '$1' + key + "=" + value + '$2$3');
                    else
                    {
                        hash = url.split('#');
                        url = hash[0].replace(re, '$1$3').replace(/(&|\?)$/, '');
                        if (typeof hash[1] !== 'undefined' && hash[1] !== null)
                            url += '#' + hash[1];
                       return url;
                    }
                }
                else
                {
                    if (typeof value !== 'undefined' && value !== null)
                    {
                        var separator = url.indexOf('?') !== -1 ? '&' : '?';
                        hash = url.split('#');
                        url = hash[0] + separator + key + '=' + value;
                        if (typeof hash[1] !== 'undefined' && hash[1] !== null)
                            url += '#' + hash[1];
                        return url;
                    }
                    else
                        return url;
                }
            }
        }

            function getToContent(strUrl, strTargetDivId)
            {
                if ((null == strTargetDivId) || (null == strUrl))
                {   // Required parameters missing. Return true to continue processing.
                    return true;
                }
                var elementTargetDiv = document.getElementById(strTargetDivId);
                if (!elementTargetDiv)
                {   // Required element not resolvable. Return true to continue processing.
                    return true;
                }
                strUrl = updateQueryString("uiDestination", "contentDiv", strUrl);
                $.ajaxSetup({xhrFields: { withCredentials: true } });
                $.get(strUrl, function(data) {
                    $(elementTargetDiv).html(data);
                    return false;
                })
                .fail(function(jqXHR, textStatus, errorThrown){
                    if (jqXHR)
                    {
                        if ((0 == jqXHR.readyState) && (0 == jqXHR.status))
                        {
                            setGlobalMessage("The Web Browser experienced an error that did not allow it to successfully initiate the request.");
                        }
                        if (4 == jqXHR.readyState)
                        {
                            if (401 == jqXHR.status)
                            {
                                setGlobalMessage("Access to the requested resource was not allowed. (HTTP 401) (If a browser based authentication was cancelled or failed, please select a new authentication method.)");
                            }
                            else if (404 == jqXHR.status)
                            {
                                setGlobalMessage("The requested resource was not found by the Web Server. (HTTP 404)");
                            }
                            else if (500 == jqXHR.status)
                            {
                                setGlobalMessage("An unexpected error was encountered by the Web Server. (HTTP 500)");
                            }
                            else if (503 == jqXHR.status)
                            {
                                setGlobalMessage("The Web Server is currently unavailable. (HTTP 503)");
                            }
                            else if ((12156 == jqXHR.status) || (12157 == jqXHR.status))
                            {
                                setGlobalMessage("The Web Browser could not create a secure connection to the Web Server. (HTTP 12157)");
                            }
                            else
                            {
                                var strErrorInstance = "The Web Server request failed with error: (HTTP {0})".replace("{0}", jqXHR.status);
                                setGlobalMessage(strErrorInstance);
                            }
                        }
                    }
                });
                return true;
            }

            function postToContent(strUrl, strTargetDivId)
            {
                if ((null == strTargetDivId) || (null == strUrl))
                {   // Required parameters missing. Return true to continue processing.
                    return true;
                }
                var elementTargetDiv = document.getElementById(strTargetDivId);
                if (!elementTargetDiv)
                {   // Required element not resolvable. Return true to continue processing.
                    return true;
                }
                strUrl = updateQueryString("uiDestination", "contentDiv", strUrl);
                $.ajaxSetup({xhrFields: { withCredentials: true } });
                
                $.post(strUrl, {
                		
                		}, function(data) {
                    $(elementTargetDiv).html(data);
                    return false;
                })
                .fail(function(jqXHR, textStatus, errorThrown){
                    if (jqXHR)
                    {
                        if ((0 == jqXHR.readyState) && (0 == jqXHR.status))
                        {
                            setGlobalMessage("The Web Browser experienced an error that did not allow it to successfully initiate the request.");
                        }
                        if (4 == jqXHR.readyState)
                        {
                            if (401 == jqXHR.status)
                            {
                                setGlobalMessage("Access to the requested resource was not allowed. (HTTP 401) (If a browser based authentication was cancelled or failed, please select a new authentication method.)");
                            }
                            else if (404 == jqXHR.status)
                            {
                                setGlobalMessage("The requested resource was not found by the Web Server. (HTTP 404)");
                            }
                            else if (500 == jqXHR.status)
                            {
                                setGlobalMessage("An unexpected error was encountered by the Web Server. (HTTP 500)");
                            }
                            else if (503 == jqXHR.status)
                            {
                                setGlobalMessage("The Web Server is currently unavailable. (HTTP 503)");
                            }
                            else if ((12156 == jqXHR.status) || (12157 == jqXHR.status))
                            {
                                setGlobalMessage("The Web Browser could not create a secure connection to the Web Server. (HTTP 12157)");
                            }
                            else
                            {
                                var strErrorInstance = "The Web Server request failed with error: (HTTP {0})".replace("{0}", jqXHR.status);
                                setGlobalMessage(strErrorInstance);
                            }
                        }
                    }
                });
                return true;
            }
            
            function goToHelp()
            {
                var helpButtonDiv = document.getElementById('helpButton');
                if (helpButtonDiv)
                {
                    var strHelpUrl = helpButtonDiv.getAttribute("data-helpURL");
                    if (strHelpUrl)
                    {
                        var w = window.open(strHelpUrl, "nidsPopupHelp", "toolbar=no,location=no,directories=no,menubar=no,scrollbars=yes,resizable=yes,width=500,height=500");
                        if (w != null)
                        {
                            w.focus();
                        }
                    }
                }
            }

            function setHelpUrl(strHelpUrl)
            {
                var helpButtonDiv = document.getElementById('helpButton');
                if (helpButtonDiv)
                {
                    helpButtonDiv.setAttribute("data-helpURL", strHelpUrl);
                }
            }

            function setFederationsHelp()
            {
                setHelpUrl('/nidp/html/help/en/federations.html');
            }

            function setLogTicketHelp()
            {
                setHelpUrl('/nidp/html/help/en/logTicketsubtab.html');
            }

            function isNumberKey(event)
            {
                var charCode = (event.which) ? event.which : event.keyCode;
                if (charCode > 31 && (charCode < 48 || charCode > 57))
                {
                    return false;
                }
                return true;
            }

            function isEnterKey(event)
            {
                return isKey(event, 13);
            }

            function isSpaceKey(event)
            {
                return isKey(event, 32);
            }

            function isKey(event, targetKeyCode)
            {
                var candidateKeyCode = (event.which) ? event.which : event.keyCode;
                if (candidateKeyCode !=targetKeyCode)
                {
                    return false;
                }
                return true;
            }

            function setGlobalMessage(strMessage)
            {
                var globalMessage = document.getElementById('globalMessage');
                if (globalMessage)
                {
                    globalMessage.innerHTML = strMessage;
                    return true;
                }
                return false;
            }

            $(document).ready(function(){
                $("#nam-ham-but").click(function () {
                    $("#glass-div-auth-menu").show();
                    if ($("#nam-ham-menu").css('display') != 'block')
                    {
                        $('#nam-ham-menu').toggle('slide');
                    }
                });

	         $("#glass-div-auth-menu").click(function () {
                    $(this).hide();
                    if ($("#nam-ham-menu").css('display') == 'block')
                    {
                       $("#nam-ham-menu").toggle('slide');
                    }
                });

	         $("#username-namclient").click(function () {
                    $("#glass-div-auth-user").show();
                    if ($("#username-dialog-namclient").css('display') != 'block')
                    {
                        $("#username-dialog-namclient").slideDown('fast');
                    }
                });

	         $("#glass-div-auth-user").click(function () {
                    $(this).hide();
                    if ($("#username-dialog-namclient").css('display') == 'block')
                    {
                        $("#username-dialog-namclient").slideUp('fast');
                    }
                });

            });
        </script>
    </head>

    <body>
        <div id="runningInEndUserLoginEnvironment" style="display: none"></div>
        <div id="glass-div-auth-menu" class="glass-auth-menu">&nbsp;</div>
        <div id="glass-div-auth-user" class="glass-auth-user">&nbsp;</div>
	<div id="hkmu-logo" class="hkmu-logo" align="center">
                <img id="mastheadImage" src="/nidp/images/hkmu/library-logo.png"><br><br>
	</div>
        <div id="masthead-namclient" class="masthead">
        <div id="branding-namclient">
            <div class="mast-logo">
		<center>

                	<span class="mast-title" id="mastheadTitle">Log in to HKMU Library Account 登入香港都會大學圖書館帳戶</span>

		</center>
<!--
                <img id="mastheadImage" src="/nidp/images/pool/[NAM30IND41V2JgJ2xuCQYfClpYfyUkRyMoYmE3SjoiaGJhEjVTA1RiAAFL/[NAM30IND41V2JgJ2xuCQYfClpYfyUkRyMoYmE3SjoiaGJhEjVTA1RiAAFL.png">
                <span class="mast-title" id="mastheadTitle">Access Manager</span>
-->

            </div>
        </div>

        </div>


        <div id="nam-ham-menu" class="menu" style="display: none">



                    <div class="menu-separator">&nbsp;</div><div class="menu-label">Local Logins</div>

                <div id="19" class="menu-option-mark">

                    <a href="https://auth.lib.hkmu.edu.hk/nidp/jsp/main.jsp?id=19&amp;sid=0" target="">
	                    <img class="access-card" src="/nidp/images/pool/[NAM30IND41IhBSSFI1Ex9ZY2s0FTJmRmI~3D/[NAM30IND41IhBSSFI1Ex9ZY2s0FTJmRmI~3D.png">Name/Password - Basic
                    </a>
                </div>




                    

                <div id="21" class="menu-option-mark">

                    <a href="https://auth.lib.hkmu.edu.hk/nidp/jsp/main.jsp?id=21&amp;sid=0" target="">
	                    <img class="access-card" src="/nidp/images/pool/[NAM30IND41JhpZR2sqGgF7bmo9KT95WQ~3D~3D/[NAM30IND41JhpZR2sqGgF7bmo9KT95WQ~3D~3D.png">Name/Password - Form
                    </a>
                </div>




                    

                <div id="PatronTypeAuthForm" class="menu-option-mark">

                    <a href="https://auth.lib.hkmu.edu.hk/nidp/jsp/main.jsp?id=PatronTypeAuthForm&amp;sid=0" target="">
	                    <img class="access-card" src="/nidp/images/pool/[NAM30IND41JhpZR2sqGgF7bmo9KT95WQ~3D~3D/[NAM30IND41JhpZR2sqGgF7bmo9KT95WQ~3D~3D.png">Patron Type Auth - Form
                    </a>
                </div>




                    

                <div id="HKMU-SP_PatronTypeAuthForm" class="menu-option-mark">

                    <a href="https://auth.lib.hkmu.edu.hk/nidp/jsp/main.jsp?id=HKMU-SP_PatronTypeAuthForm&amp;sid=0" target="">
	                    <img class="access-card" src="/nidp/images/pool/[NAM30IND41JhpZR2sqGgF7bmo9KT95WQ~3D~3D/[NAM30IND41JhpZR2sqGgF7bmo9KT95WQ~3D~3D.png">Patron Type Auth - Form
                    </a>
                </div>




                    

                <div id="PatronTypeAuthForm4ExternalSP" class="menu-option-mark">

                    <a href="https://auth.lib.hkmu.edu.hk/nidp/jsp/main.jsp?id=PatronTypeAuthForm4ExternalSP&amp;sid=0" target="">
	                    <img class="access-card" src="/nidp/images/pool/[NAM30IND41JhpZR2sqGgF7bmo9KT95WQ~3D~3D/[NAM30IND41JhpZR2sqGgF7bmo9KT95WQ~3D~3D.png">Patron Type Auth - Form
                    </a>
                </div>




                    

                <div id="Westlas-PatronTypeAuthForm" class="menu-option-mark">

                    <a href="https://auth.lib.hkmu.edu.hk/nidp/jsp/main.jsp?id=Westlas-PatronTypeAuthForm&amp;sid=0" target="">
	                    <img class="access-card" src="/nidp/images/pool/[NAM30IND41JhpZR2sqGgF7bmo9KT95WQ~3D~3D/[NAM30IND41JhpZR2sqGgF7bmo9KT95WQ~3D~3D.png">PatronTypeAuthForm
                    </a>
                </div>




                    

                <div id="Primo-PatronTypeAuthForm" class="menu-option-mark">

                    <a href="https://auth.lib.hkmu.edu.hk/nidp/jsp/main.jsp?id=Primo-PatronTypeAuthForm&amp;sid=0" target="">
	                    <img class="access-card" src="/nidp/images/pool/[NAM30IND41JhpZR2sqGgF7bmo9KT95WQ~3D~3D/[NAM30IND41JhpZR2sqGgF7bmo9KT95WQ~3D~3D.png">PatronTypeAuthForm
                    </a>
                </div>




                    

                <div id="Alma-PatronTypeAuthForm" class="menu-option-mark">

                    <a href="https://auth.lib.hkmu.edu.hk/nidp/jsp/main.jsp?id=Alma-PatronTypeAuthForm&amp;sid=0" target="">
	                    <img class="access-card" src="/nidp/images/pool/[NAM30IND41JhpZR2sqGgF7bmo9KT95WQ~3D~3D/[NAM30IND41JhpZR2sqGgF7bmo9KT95WQ~3D~3D.png">PatronTypeAuthForm
                    </a>
                </div>




                    

                <div id="20" class="menu-option-mark">

                    <a href="https://auth.lib.hkmu.edu.hk/nidp/jsp/main.jsp?id=20&amp;sid=0" target="">
	                    <img class="access-card" src="/nidp/images/pool/[NAM30IND41MwVXUVoNGhJVSEIlEgBHWmwzMQNSbVY~3D/[NAM30IND41MwVXUVoNGhJVSEIlEgBHWmwzMQNSbVY~3D.png">Secure Name/Password - Basic
                    </a>
                </div>




                    

                <div id="22" class="menu-option-mark">

                    <a href="https://auth.lib.hkmu.edu.hk/nidp/jsp/main.jsp?id=22&amp;sid=0" target="">
	                    <img class="access-card" src="/nidp/images/pool/[NAM30IND41MwVXUVoNHhheR3s6Gx5lV206DQ5Ncg~3D~3D/[NAM30IND41MwVXUVoNHhheR3s6Gx5lV206DQ5Ncg~3D~3D.png">Secure Name/Password - Form
                    </a>
                </div>






        </div>
    

    <div class="tabs">



        <div id="nam-login-tabs-div">
            <div id="multi-login-div">



            </div>
            <div id="globalMessage"><!--This Identity Provider needs to validate your identity. Please login to your existing account here so that we can return verification back to your local service.--></div>
        </div>
    </div>

    <div id="contentContainer" class="content login-page" style="margin: 0px;"></div>


        <div id="currentCardDisplay" class="content login-page" style="margin: 0px; display: block">

        </div>


        <div id="theNidpContent">











    <div id="theContentContent">

        




















    <script src="/nidp/javascript/login_util.js"></script>
    <script>
    function safeSetGlobalMessage(strMessage)
    {
        setGlobalMessage(strMessage); //GLOBAL MESSAGE NOW NEEDS TO BE ACCESSIBLE FROM BOTH CONTEXTS.
    }

    function preprocessUsername(usernameFromRequest) {
        if ( !usernameFromRequest ) {
            return ""
        }
        if(window.DOMParser)
        {
            // parse any HTML codes from the string (i.e. put &amp; back to &)
            var doc = new DOMParser().parseFromString(usernameFromRequest, "text/html");

            // Hook to preprocess the usernameFromRequest
            return doc.documentElement.textContent;
        }
        return usernameFromRequest;
    }

    function submitForm()
    {
        var userNameEditBox = document.getElementById('Ecom_User_ID');
        var passwordEditBox = document.getElementById('Ecom_Password');
        if ((null != userNameEditBox) && (null != passwordEditBox))
        {
            if ((0 == userNameEditBox.value.length) || (0 == passwordEditBox.value.length))
            {
                safeSetGlobalMessage("Please enter values for the user name and password.");
                userNameEditBox.focus();
                return;
            }

          //if recaptcha is enabled just let the recaptcha code submit the document after verification 
        	
            
            // Get some values from elements on the page:
            var form = document.getElementById('IDPLogin');
            var url = form.action;
            safeSetGlobalMessage("Validating credentials...");

            var proofOfEndUserEnvironment= document.getElementById('runningInEndUserLoginEnvironment');
            if (proofOfEndUserEnvironment)
            {
                url = updateQueryString("uiDestination", "contentDiv", url);

                // Send the data using post
                var posting = $.post( url, $("#IDPLogin" ).serialize());
 
                // Put the results in a div
                posting.done(function( data )
                {
                    safeSetGlobalMessage("");
                    $('#theNidpContent').html(data);
                });

                posting.fail(function()
                {
                    safeSetGlobalMessage("Error communicating with the identity server");
                });
            }
            else
            {
                document.IDPLogin.submit();
            }
        }
    }

    function submitForm2() {
    	// Get some values from elements on the page:
        var form = document.getElementById('IDPLogin');
        var url = form.action;

        safeSetGlobalMessage("Validating credentials...");

        var proofOfEndUserEnvironment= document.getElementById('runningInEndUserLoginEnvironment');
        if (proofOfEndUserEnvironment)
        {
            url = updateQueryString("uiDestination", "contentDiv", url);

            // Send the data using post
            var posting = $.post( url, $("#IDPLogin" ).serialize());

            // Put the results in a div
            posting.done(function( data )
            {
                safeSetGlobalMessage("");
                $('#theNidpContent').html(data);
            });

            posting.fail(function()
            {
                safeSetGlobalMessage("Error communicating with the identity server");
            });
        }
        else
        {
            document.IDPLogin.submit();
        }
    }

    function onLoadFocus()
    {
        if (document.IDPLogin.Ecom_User_ID.value)
        {
            document.IDPLogin.Ecom_Password.focus();
        }
        else
        {
            document.IDPLogin.Ecom_User_ID.focus();
        }
    }

    $(document).ready(function(){

   	document.IDPLogin.Ecom_User_ID.value = preprocessUsername("");

        onLoadFocus();
        
        $( "#loginButt