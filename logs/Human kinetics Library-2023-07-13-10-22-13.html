<html lang="en"><head>
<!-- <title>hklp-29</title> -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<link rel="icon" href="bloomsbury_assets/hklp/images/hklfav.png" sizes="16x16" type="image/png">
<meta charset="UTF-8">


            







<script type="text/javascript" async="" src="$starPath"></script><script src="https://apis.google.com/_/scs/abc-static/_/js/k=gapi.lb.en.5o5-TAFr18s.O/m=client/rt=j/sv=1/d=1/ed=1/rs=AHpOoo_qgszOsFrBH7bZ1Rmfwa9Mc03wLQ/cb=gapi.loaded_0?le=scs" async=""></script><script type="text/javascript" async="" src="https://www.gstatic.com/recaptcha/releases/khH7Ei3klcvfRI74FvDcfuOo/recaptcha__en.js" crossorigin="anonymous" integrity="sha384-Pc4kSqgt9HkBUSG4m5s1icZtXtGOiIpAoIevDwoWsE6LISnB5sKY6eY1g4lVKA/D"></script><script src="https://connect.facebook.net/en_US/sdk.js?hash=f8f1eff5a27c61dc7602348c71767641" async="" crossorigin="anonymous"></script><script id="facebook-jssdk" src="//connect.facebook.net/en_US/sdk.js"></script><script type="text/javascript" async="" src="https://apis.google.com/js/client:platform.js" gapi_processed="true"></script><script id="sqtrk" type="text/javascript" async="" src="https://www-humankineticslibrary-com.ezproxy.lib.hkmu.edu.hk/analytics/js/tracker.js"></script><script>
            window.fiveStarSession = "7014093778078FBCB1C5B2C1AC48C4C7";
      </script>




<meta property="og:url" content="http://www.humankineticslibrary.com.ezproxy.lib.hkmu.edu.hk/hklp/encyclopedia">
<meta property="og:title" content="">
<meta property="og:description" content="">



	
			












																																								



























				
					

 









	



	








  
        


	<meta name="description" content="">
	<meta name="keywords" content="">
	<title>Human Kinetics Library Platform - Sports Massage for Injury Care</title>
<meta name="ST.PlatformAPIKey" content="31d35739668eaa1c">

<!-- CSS -->
<link href="/bloomsbury_assets/bloomsbury/css/bootstrap.css" rel="stylesheet" type="text/css">
<link href="/bloomsbury_assets/bloomsbury/css/bootstrap-select.css" rel="stylesheet" type="text/css">
<link href="/bloomsbury_assets/bloomsbury/css/owl-carousel-new.css" rel="stylesheet" type="text/css">
<link href="/bloomsbury_assets/bloomsbury/css/checkbox.css" rel="stylesheet" type="text/css">
<link href="/bloomsbury_assets/bloomsbury/css/font-awesome.min.css" rel="stylesheet" type="text/css">
<link href="/bloomsbury_assets/hklp/css/plyr.css" rel="stylesheet" type="text/css">
<link href="/bloomsbury_assets/bloomsbury/css/bootstrap-slider.css" rel="stylesheet" type="text/css">
<link href="/bloomsbury_assets/bloomsbury/css/jquery-ui.css" rel="stylesheet" type="text/css">



				<link href="/bloomsbury_assets/hklp/css/hklp.css" rel="stylesheet" type="text/css">
		<link href="/bloomsbury_assets/hklp/css/product.css" rel="stylesheet" type="text/css">
	
<link href="/bloomsbury_assets/bloomsbury/css/typography.css" rel="stylesheet" type="text/css">




<!-- JS -->
<script type="text/javascript" src="/bloomsbury_assets/bloomsbury/js/jquery.min.js"></script>
<script type="text/javascript" src="/bloomsbury_assets/bloomsbury/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/bloomsbury_assets/bloomsbury/js/owl-carousel-new.min.js"></script>
<script type="text/javascript" src="/bloomsbury_assets/bloomsbury/js/bootstrap-select.min.js"></script>
<script type="text/javascript" src="/bloomsbury_assets/bloomsbury/js/plyr.js"></script>


<script type="text/javascript" src="/bloomsbury_assets/bloomsbury/js/bootstrap-slider.min.js"></script>
<script type="text/javascript" src="/bloomsbury_assets/bloomsbury/js/jquery-ui.min.js"></script>
<script type="text/javascript" src="/bloomsbury_assets/bloomsbury/js/mousescroll.min.js"></script>
<script type="text/javascript" src="/bloomsbury_assets/bloomsbury/js/jquery-show-first.min.js"></script>
<script type="text/javascript" src="/bloomsbury_assets/bloomsbury/js/clipboard.min.js"></script>
<script type="text/javascript" src="/bloomsbury_assets/bloomsbury/js/jquery.mark.min.js"></script>
<script type="text/javascript" src="/bloomsbury_assets/bloomsbury/js/jquery.cloudinary.js"></script>
<script type="text/javascript" src="/bloomsbury_assets/bloomsbury/js/bloomsbury.min.js?v=80011"></script><meta name="ST.customerId" content="1000648286">
<script type="text/javascript" src="https://www.google.com/jsapi?key=AIzaSyCLpZ_Qv2ZfVXhmCVvhJQg1ifzGNkEcvec"></script>
<script type="text/javascript" src="/bloomsbury_assets/bloomsbury/js/jquery.cookie.min.js"></script>
<script type="text/javascript" src="/bloomsbury_assets/bloomsbury/js/jquery.truncation.js"></script>
<script type="text/javascript" src="/bloomsbury_assets/bloomsbury/js/openseadragon.min.js"></script>
<script type="text/javascript" src="/bloomsbury_assets/bloomsbury/js/openseadragon-svg-overlay.js"></script>
<script type="text/javascript" src="/bloomsbury_assets/bloomsbury/js/snap.svg-min.js"></script>

<script type="text/javascript" src="/bloomsbury_assets/bloomsbury/js/jquery.numeric.min.js"></script>
<script type="text/javascript" src="/bloomsbury_assets/bloomsbury/js/raphael.min.js"></script>
<script type="text/javascript" src="/bloomsbury_assets/bloomsbury/js/URI.min.js"></script>


<style type="text/css" data-fbcssmodules="css:fb.css.base css:fb.css.dialog css:fb.css.iframewidget css:fb.css.customer_chat_plugin_iframe">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:'lucida grande', tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}@keyframes fb_transform{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.fb_animate{animation:fb_transform .3s forwards}
.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:'lucida grande', tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}@keyframes fb_transform{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.fb_animate{animation:fb_transform .3s forwards}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_dialog_advanced{border-radius:8px;padding:10px}.fb_dialog_content{background:#fff;color:#373737}.fb_dialog_close_icon{background:url(https://connect.facebook.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{left:5px;right:auto;top:5px}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(https://connect.facebook.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent}.fb_dialog_close_icon:active{background:url(https://connect.facebook.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #365899;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(https://connect.facebook.net/rsrc.php/v3/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{height:100%;left:0;margin:0;overflow:visible;position:absolute;top:-10000px;transform:none;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(https://connect.facebook.net/rsrc.php/v3/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{background:none;height:auto;min-height:initial;min-width:initial;width:auto}.fb_dialog.fb_dialog_mobile.loading.centered #fb_dialog_loader_spinner{width:100%}.fb_dialog.fb_dialog_mobile.loading.centered .fb_dialog_content{background:none}.loading.centered #fb_dialog_loader_close{clear:both;color:#fff;display:block;font-size:18px;padding-top:20px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .4);bottom:0;left:0;min-height:100%;position:absolute;right:0;top:0;width:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_mobile .fb_dialog_iframe{position:sticky;top:0}.fb_dialog_content .dialog_header{background:linear-gradient(from(#738aba), to(#2c4987));border-bottom:1px solid;border-color:#043b87;box-shadow:white 0 1px 1px -1px inset;color:#fff;font:bold 14px Helvetica, sans-serif;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:linear-gradient(from(#4267B2), to(#2a4887));background-clip:padding-box;border:1px solid #29487d;border-radius:3px;display:inline-block;line-height:18px;margin-top:3px;max-width:85px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{background:none;border:none;color:#fff;font:bold 12px Helvetica, sans-serif;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(https://connect.facebook.net/rsrc.php/v3/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #4a4a4a;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f5f6f7;border:1px solid #4a4a4a;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}#fb_dialog_loader_spinner{animation:rotateSpinner 1.2s linear infinite;background-color:transparent;background-image:url(https://connect.facebook.net/rsrc.php/v3/yD/r/t-wz8gw1xG1.png);background-position:50% 50%;background-repeat:no-repeat;height:24px;width:24px}@keyframes rotateSpinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_fluid_desktop,.fb_iframe_widget_fluid_desktop span,.fb_iframe_widget_fluid_desktop iframe{max-width:100%}.fb_iframe_widget_fluid_desktop iframe{min-width:220px;position:relative}.fb_iframe_widget_lift{z-index:1}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}
.fb_mpn_mobile_landing_page_slide_out{animation-duration:200ms;animation-name:fb_mpn_landing_page_slide_out;transition-timing-function:ease-in}.fb_mpn_mobile_landing_page_slide_out_from_left{animation-duration:200ms;animation-name:fb_mpn_landing_page_slide_out_from_left;transition-timing-function:ease-in}.fb_mpn_mobile_landing_page_slide_up{animation-duration:500ms;animation-name:fb_mpn_landing_page_slide_up;transition-timing-function:ease-in}.fb_mpn_mobile_bounce_in{animation-duration:300ms;animation-name:fb_mpn_bounce_in;transition-timing-function:ease-in}.fb_mpn_mobile_bounce_out{animation-duration:300ms;animation-name:fb_mpn_bounce_out;transition-timing-function:ease-in}.fb_mpn_mobile_bounce_out_v2{animation-duration:300ms;animation-name:fb_mpn_fade_out;transition-timing-function:ease-in}.fb_customer_chat_bounce_in_v2{animation-duration:300ms;animation-name:fb_bounce_in_v2;transition-timing-function:ease-in}.fb_customer_chat_bounce_in_from_left{animation-duration:300ms;animation-name:fb_bounce_in_from_left;transition-timing-function:ease-in}.fb_customer_chat_bounce_out_v2{animation-duration:300ms;animation-name:fb_bounce_out_v2;transition-timing-function:ease-in}.fb_customer_chat_bounce_out_from_left{animation-duration:300ms;animation-name:fb_bounce_out_from_left;transition-timing-function:ease-in}.fb_invisible_flow{display:inherit;height:0;overflow-x:hidden;width:0}@keyframes fb_mpn_landing_page_slide_out{0%{margin:0 12px;width:100% - 24px}60%{border-radius:18px}100%{border-radius:50%;margin:0 24px;width:60px}}@keyframes fb_mpn_landing_page_slide_out_from_left{0%{left:12px;width:100% - 24px}60%{border-radius:18px}100%{border-radius:50%;left:12px;width:60px}}@keyframes fb_mpn_landing_page_slide_up{0%{bottom:0;opacity:0}100%{bottom:24px;opacity:1}}@keyframes fb_mpn_bounce_in{0%{opacity:.5;top:100%}100%{opacity:1;top:0}}@keyframes fb_mpn_fade_out{0%{bottom:30px;opacity:1}100%{bottom:0;opacity:0}}@keyframes fb_mpn_bounce_out{0%{opacity:1;top:0}100%{opacity:.5;top:100%}}@keyframes fb_bounce_in_v2{0%{opacity:0;transform:scale(0, 0);transform-origin:bottom right}50%{transform:scale(1.03, 1.03);transform-origin:bottom right}100%{opacity:1;transform:scale(1, 1);transform-origin:bottom right}}@keyframes fb_bounce_in_from_left{0%{opacity:0;transform:scale(0, 0);transform-origin:bottom left}50%{transform:scale(1.03, 1.03);transform-origin:bottom left}100%{opacity:1;transform:scale(1, 1);transform-origin:bottom left}}@keyframes fb_bounce_out_v2{0%{opacity:1;transform:scale(1, 1);transform-origin:bottom right}100%{opacity:0;transform:scale(0, 0);transform-origin:bottom right}}@keyframes fb_bounce_out_from_left{0%{opacity:1;transform:scale(1, 1);transform-origin:bottom left}100%{opacity:0;transform:scale(0, 0);transform-origin:bottom left}}@keyframes slideInFromBottom{0%{opacity:.1;transform:translateY(100%)}100%{opacity:1;transform:translateY(0)}}@keyframes slideInFromBottomDelay{0%{opacity:0;transform:translateY(100%)}97%{opacity:0;transform:translateY(100%)}100%{opacity:1;transform:translateY(0)}}</style></head>

<body>
<div style="position: absolute;top:-10000px;" class="skip-content-div">
<a href="javascript:void(0);" id="skip-content" tabindex="0" style="color:#ffffff;">Skip to main content</a>
</div>

<input type="hidden" id="copytocliptxt" name="copytoclipboard" value="Copy to Clipboard">
<input type="hidden" id="copiedtocliptxt" name="copiedtoclipboard" value="Copied">
<input id="counterEnabled" type="hidden" value="true">
<div id="messageBoxFull" tabindex="0" aria-live="assertive" style="position:absolute;top:-10000;left:-10000" aria-relevant="additions removals"></div>

<a href="#" id="back-to-top" title="Back to Top" alt="Back to Top" style="display:none;">
    <div class="back_circle"><span class="icon-backtotop"></span></div>
    <div class="hidden-xs">Back to Top</div>
</a>

<div class="loading-hidden hide">
    <div class="loading-image"><img src="/bloomsbury_assets/bloomsbury/images/loader.gif" alt="Loading" title="Loading"> </div>
</div>

<div class="content-loader hide">
  <img src="/bloomsbury_assets/bloomsbury/images/loader.gif" alt="Loading" title="Loading" class="loader-icon">
</div>

<input type="hidden" id="imageAuthEnabled" value="false">

<script>
var sqtrkq = sqtrkq || [];

function showAjaxLoader(element) {
    $(".content-loader").clone().removeClass("hide").appendTo(element);
}

function hideAjaxLoader(element) {
    $(element).find(".content-loader").remove();
}

(function(){
    var sqtrk=document.createElement('script');
    sqtrk.id='sqtrk';
    sqtrk.type='text/javascript';
    sqtrk.async=true;
    sqtrk.src=(('https:'==document.location.protocol)?'https':'http')+'://'+document.location.host+'/analytics/js/tracker.js';
    var selm=document.getElementsByTagName('script')[0];
    selm.parentNode.insertBefore(sqtrk,selm);
})();


	// default language code setting
	if (typeof $.cookie('seleLang') === 'undefined'){
		$.cookie("seleLang", "en");
		$.cookie("taxonomy", "");
		$.cookie("contenttype", "");
		$.cookie("fromYear", "");
		$.cookie("toYear", "");
	}
	
   
 $(document).ready(function() {
  $(window).resize(function() {
   var width = $(window).width();
   if (width >= 1024) {
       } else if ((width <= 1023) && (width >= 768)) {
       } else {
       }
  });
  
	$(".lang_list a").on("click",function(){
	   var oldLang = $(".lang_list a.active").attr("data-lang");
	   var newLang = $(this).attr("data-lang");
	   $.cookie("seleLang", newLang);
	   location.reload();
	});
 }); 

function getCoverSheetDate(){
    var d = new Date();
    var year = d.getFullYear();
    var month = d.toLocaleString([], { month: "short" });
    var day = d.toLocaleString([], { day: "2-digit" });
    var time = d.getTime();
    var minutes = d.getTimezoneOffset();
    var offset =  minutes / 60;
    var utc = day + ' ' + month + ' ' + year +' at '+  d.getUTCHours() + ':'+d.getUTCMinutes()+':'+ d.getUTCSeconds() + "." + d.getUTCMilliseconds() + ''+ Math.floor(offset) + ":00";
    return utc;
 }
 
 function isIEBrowser() {
	   var ua = window.navigator.userAgent;
	   var msie = ua.indexOf("MSIE");
		// If Internet Explorer
	   if (msie > 0 || !!navigator.userAgent.match(/Trident.*rv\:11\./))  
	   {
		  return true;
	   }
	   else
	   {
		return false;
	   }
 }
 
 function downloadPDF(filePath, downloadName) {
		if (isIEBrowser()){
			var _window = window.open(filePath, '_blank');
			//_window.document.close();
			//_window.document.execCommand('SaveAs', true, downloadName)
			//_window.close(); 
		} else {
			var link=document.createElement('a');
			link.href= filePath;
			link.download= downloadName;
			var isSafari = Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor') > 0 || (function (p) { return p.toString() === "[object SafariRemoteNotification]"; })(!window['safari'] || safari.pushNotification);
			if (isSafari) {
				window.location.href=filePath;
			} else {
				var evt = document.createEvent('MouseEvents');
				evt.initMouseEvent('click', true, true, window, 1, 0, 0, 0, 0, false, false, false, false, 0, null);
				link.dispatchEvent(evt);
			}
		}
 }	
 function getMobileOperatingSystem() {
  var userAgent = navigator.userAgent || navigator.vendor || window.opera;

      // Windows Phone must come first because its UA also contains "Android"
    if (/windows phone/i.test(userAgent)) {
        return "Windows Phone";
    }

    if (/android/i.test(userAgent)) {
        return "Android";
    }

    // iOS detection from: http://stackoverflow.com/a/9039885/177710
    if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
        return "iOS";
    }

    return "unknown";
}
 
  function openPrint(content) {
  		var OS = getMobileOperatingSystem();
        if (OS == "iOS") {
          $("#printFrame").remove();
        }
		var frame1 = document.createElement('iframe');
		frame1.name = "frame1";
		frame1.id = "printFrame";
		frame1.style.position = "absolute";
		frame1.style.top = "-1000000px";
		document.body.appendChild(frame1);
		var frameDoc = frame1.contentWindow ? frame1.contentWindow : frame1.contentDocument.document ? frame1.contentDocument.document : frame1.contentDocument;
		if (OS == "Android") {
          var originalContents = document.body.innerHTML;
          document.body.innerHTML = xmlreq.responseText;
          setTimeout(function() {
            window.print();
            document.body.innerHTML = originalContents;
            showProgress();
            location.reload();
          }, 1000);
        } else if (OS == "iOS") {
          frameDoc.document.open();
          frameDoc.document.write(xmlreq.responseText);
          frameDoc.document.close();
          setTimeout(function () {
          window.frames["frame1"].focus();
          window.frames["frame1"].print();
          //document.body.removeChild(frame1);
          }, 1000);
        } else {
          frameDoc.document.open();
          frameDoc.document.write(xmlreq.responseText);
          frameDoc.document.close();
          setTimeout(function () {
          window.frames["frame1"].focus();
          window.frames["frame1"].print();
          document.body.removeChild(frame1);
          }, 500);
		}
 }
</script>

<!-- Script for login via Googlep+ Begins-->

<script>
var tweetUrl;
function validateUserExists(profId){
	var dbflag=false;
	  $.ajax({
			type: "POST",
			url: '/app/myprofile',
			dataType: 'text',
			data: {id: profId},
			async:false,
			success: function(e){
			  var response = JSON.parse(e);	
			  if(response.result=='true'){
				dbflag=true;
			  } 
			}
			
	 });
	return dbflag;
}

function gp_login() {
	$('#signin_modal').modal('hide');
    gapi.auth.signIn({
        callback: gPSignInCallback,
        clientid: '137382995256-288t1hdo1mq3a021s9c7pcbd26m1sb8j.apps.googleusercontent.com',
        cookiepolicy: "single_host_origin",
        requestvisibleactions: "https://schema.org/AddAction",
        scope: "https://www.googleapis.com/auth/userinfo.profile email"
    });
}

function gPSignInCallback(e) {
    if (e["status"]["signed_in"]) {
        gapi.client.load("plus", "v1", function() {
            if (e["access_token"]) {
                getProfile()
            } else if (e["error"]) {
               // console.log("There was an error: " + e["error"])
            }
        })
    } else {
        //console.log("Sign-in state: " + e["error"])
    }
}

function getProfile() {
    var e = gapi.client.plus.people.get({
        userId: "me"
    });
    e.execute(function(e) {
        if (e.error) {
            //console.log(e.message);
            return
        } else if (e.id) {
            // Useful data for your client-side scripts:
            //message = 'Thanks for logging in, ' + e.displayName + '!';
            //console.log(message);
        
            // populate the signup form via social media
            var fullName = e.displayName;
            var fName = e.name.givenName;
            var lName = e.name.familyName;
            var email = e.emails[0].value;
			var id = e.id;
            var profilePicUrl = e.image.url;
			var signUpVia = "Sign Up Via";
            document.getElementById("sn-signup-media-title").innerHTML = signUpVia+" Google+";
            document.getElementById("sn-full-name").innerHTML = fullName;
            document.getElementById("sn-email").innerHTML = email;
            document.getElementById("sn-profile-pic").setAttribute("src", profilePicUrl);
			document.getElementById("sn-signup-icon").setAttribute("src", "/bloomsbury_assets/bloomsbury/images/signin_google.png");
			document.getElementById("sn-social-verify-email").setAttribute("class", "col-lg-6 col-md-6 col-sm-6 col-xs-12 hide");
			//document.getElementById("sn-social-verify-email").className+=" hide";
			document.getElementById("signup-social-label").innerHTML = 'Google+';
			            
            document.getElementById("sn-signup-first-name").value = fName + " " + lName;
            document.getElementById("sn-signup-sur-name").value = lName;
            document.getElementById("sn-signup-email-addr").value = email;
            document.getElementById("sn-signup-verify-email").value = email;
			document.getElementById("sn-password").value = id;
			document.getElementById("sn-signup-social").value = 'googleplus';
			
			var dbFlag = validateUserExists(id);
			if(dbFlag) {
				window.location.href = '/signin?id=' + id + '&recentUrl=/encyclopedia?docid=b-9781718209565';
			} else {
				// now popup the signup modal
				$('#signup-social-media').modal('show');
			}
            
        }
    })
}(function() {
    var e = document.createElement("script");
    e.type = "text/javascript";
    e.async = true;
    e.src = "https://apis.google.com/js/client:platform.js";
    var t = document.getElementsByTagName("script")[0];
    t.parentNode.insertBefore(e, t)
})();
</script>
<!-- Script for login via Googlep+ Ends-->

<!-- Script for login via Facebook Begins-->

<script>
window.fbAsyncInit = function() {
    FB.init({
        appId   : '341380242927890',
        oauth   : true,
        status  : true, // check login status
        cookie  : true, // enable cookies to allow the server to access the session
        xfbml   : true, // parse XFBML
        version : 'v2.5' // use graph api version 2.5
    });

};

// This is called with the results from from FB.getLoginStatus().
function statusChangeCallback(response) {
    // The response object is returned with a status field that lets the
    // app know the current login status of the person.
    if (response.status === 'connected') {
     // console.log('You are connected.');
      
      // get Facebook user info (name, last_name, first_name, email)
      getFacebookUserInfo();
    } else if (response.status === 'not_authorized') {
      // The person is logged into Facebook, but not your app.
     // console.log('Please log into this app.');
    } else {
      //console.log('Please log into Facebook.');
    }
}

function checkLoginState() {
    FB.getLoginStatus(function(response) {
      statusChangeCallback(response);
    });
}

function getFacebookUserInfo() {
    FB.api('/me', {fields: 'name, last_name, first_name, email, id, picture'}, function(response) {
        //message = 'Thanks for logging in, ' + response.name + '!';
        //console.log(message);
        
        // populate the signup form via social media
        var fullName = response.name;
        var fName = response.first_name;
        var lName = response.last_name;
        var email = response.email;
		if (email === undefined || email === null) {
			 email = '';
		} else {
			document.getElementById("sn-social-verify-email").setAttribute("class", "col-lg-6 col-md-6 col-sm-6 col-xs-12 hide");
		}
		
        var id = response.id;
        var profilePicUrl = response.picture.data.url;
		var signUpViaFace = "Sign Up Via";	
        document.getElementById("sn-signup-media-title").innerHTML = signUpViaFace+" Facebook";
        document.getElementById("sn-full-name").innerHTML = fullName;
        document.getElementById("sn-email").innerHTML = email;
        document.getElementById("sn-profile-pic").setAttribute("src", profilePicUrl);
		document.getElementById("sn-signup-icon").setAttribute("src", "/bloomsbury_assets/bloomsbury/images/fb-signup-icon.png");
        document.getElementById("signup-social-label").innerHTML = 'Facebook';
		
        document.getElementById("sn-signup-first-name").value = fName + " " + lName;
        document.getElementById("sn-signup-sur-name").value = lName;
        document.getElementById("sn-signup-email-addr").value = email;
        document.getElementById("sn-signup-verify-email").value = email;
        document.getElementById("sn-password").value = id;
		document.getElementById("sn-signup-social").value = 'facebook';
		
		var dbFlag = validateUserExists(id);
		if(dbFlag) {
			window.location.href = '/signin?id=' + id + '&recentUrl=/encyclopedia?docid=b-9781718209565';
			} else {
			 // now popup the signup modal
			$('#signup-social-media').modal('show');
		}
       
	});
}

function fb_login() {
	$('#signin_modal').modal('hide');
    FB.login( checkLoginState, { scope: 'email, public_profile' } );
}
(function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/sdk.js";
    fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
</script>
<!-- Script for login via Facebook Ends-->

<!-- Script for login via Twitter Begins-->
<script>
function tw_login() {
    if (tweetUrl) {
        window.open(tweetUrl,'', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');
    }
}
</script>
<!-- Script for login via Twitter Ends-->



<!--Modal Window for Alert Reset (for Signup via Social Media)-->
  
<script>
	$(document).ready(function(){

		//Signup Form
		$("#sn-signup-title-option, #signup-title-option").on('change', function() {
			if ($(this).val() == 'Other'){
				$("#sn-signup-other-txt-box, #signup-other-txt-box").removeClass("hide");
			} else {
				$("#sn-signup-other-txt-box, #signup-other-txt-box").addClass("hide");
			}
		});
		$("#sn-signup-occupation-select, #signup-occupation-select").on('change', function() {
			if ($(this).val() == 'Other'){
				$("#sn-signup-occupation-text-box, #signup-occupation-text-box").removeClass("hide");
			} else {
				$("#sn-signup-occupation-text-box, #signup-occupation-text-box").addClass("hide");
			}
		});	
	
	});
  
  $("#sn-signup-send-btn").click(function(e) {
  $.cookie('signupbtnflag', 'true');
    var socialType = $("#sn-signup-social").val();
    var email = $("#sn-signup-email-addr").val();

        showProgress();
       $.ajax({
           type: "POST",
           url: '/app/sams',
           dataType: 'text',
           data: {username: email},
           success: function(e){
             if(e=="-1"){
              $('#sn-signup-emailexists').addClass('hide');
               $("#sn-signup-form").submit();
             } else {
				hideProgress();
               $('#sn-signup-emailexists').removeClass('hide');
             }
           },
           error: function(error){
           }
    	});
  }); 

</script>


 
<div class="modal fade" id="signin_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-backdrop="static" data-keyboard="false">
    <div class="vertical-alignment-helper">
    <div class="modal-dialog signin-modal vertical-align-center" role="document">
        <div class="modal-content">
            <div class="modal-body">
                <div class="signin_close"><a title="Close" aria-hidden="true" href="javascript:;" data-dismiss="modal" tabindex="-1" role="application"><img src="/bloomsbury_assets/bloomsbury/images/signin_close.png" alt="Close" role="button" tabindex="0" aria-label="Close"></a></div>
                                <h2 tabindex="0" aria-label="Sign in to Your Personal Account ">Sign in to Your Personal Account </h2>
                                <div tabindex="0" class="signinwith  hide signup_social" aria-label="Sign in with"><span>Sign in with:</span>
					<a href="javascript:;" onclick="if(confirm('You are being redirected to an external link. Do you wish to continue?')) {gp_login();return false;}
					else {return false;}" title="Google"><span class="icon-Social_Google" title="Google"></span></a>
					<a href="javascript:;" onclick="if(confirm('You are being redirected to an external link. Do you wish to continue?')) {fb_login();return false;}
					else {return false;}" title="Facebook"><span class="icon-Social_Facebook" title="Facebook"></span></a>
    				<a href="javascript:;" onclick="if(confirm('You are being redirected to an external link. Do you wish to continue?')) {tw_login();return false;}
					else {return false;}" title="Twitter"><span class="icon-Social_Twitter" title="Twitter"></span></a>
				</div>
                <p align="center" tabindex="0" aria-label="or" class=" hide">Or</p>
                <form method="post" id="signin-form">
				<span class="err-msg hide" id="signinerr" tabindex="0" aria-live="polite" aria-label="Incorrect username or password. Please try again.">Incorrect username or password. Please try again.</span>
                   <div class="form-group">
                        <label tabindex="0" aria-label="Username">Username</label>
                        <input type="text" class="form-control" id="signin-username" name="signin-username" placeholder="Enter your Email Address" autocomplete="off">   
						<span class="err-msg hide" tabindex="0" aria-live="assertive" aria-label="Invalid Username">Invalid Username</span>
                    </div>
                    <div class="form-group">
                        <label tabindex="0" aria-label="Password">Password</label>
                        <input type="password" class="form-control" id="signin-password" name="signin-password" placeholder="Enter password" autocomplete="off">
						<!-- <span class="err-msg hide" tabindex="0" aria-label="Invalid Password">Invalid Password</span> -->
                        <div class="forget_pass"><a href="pre-forgot-password">Forgot Password?</a></div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="form-group" align="center">
                       <input type="button" id="signin-btn" class="primary_btn disabled-btn" value="Sign in">
                    </div>
										<div>
                    	With a personal account, you can save books, chapters, images or other items to view later.
                    </div>
                                    </form>
                <p class="personal_acc" tabindex="0" aria-label="Don't have a personal account yet? Sign up now">
                    Don't have a personal account yet?<br>
                    <!-- <a href="sign-up?recentUrl=/encyclopedia?docid=b-9781718209565">Sign up now.</a> -->
                    <a href="https://p13n-bloomsbury.highwire.org/register?return-url=https://www-humankineticslibrary-com.ezproxy.lib.hkmu.edu.hk%2Fencyclopedia%3Fdocid%3Db-9781718209565">Sign up now.</a>
                </p>
            </div>
        </div>
    </div>
    </div>
</div>


<div class="modal fade" id="changepass" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-backdrop="static" data-keyboard="false">
    <div class="vertical-alignment-helper">
        <div class="modal-dialog signin-modal change_password vertical-align-center" role="document">
        <div class="modal-content">
            <div class="modal-body">
                <div class="close_icon"><a title="Close" aria-hidden="true" href="javascript:;" data-dismiss="modal" aria-label="Close" tabindex="-1" role="application"><img src="/bloomsbury_assets/bloomsbury/images/signin_close.png" alt="Close" role="button" tabindex="0" aria-label="Close"></a></div>
                <h2 id="head-changepwd" tabindex="0" aria-labelledby="head-changepwd">Change Password</h2>
                <form method="post" id="change-password-form">
                    <div class="form-group">
                        <label id="head-currentpwd" tabindex="0" aria-labelledby="head-currentpwd">Current Password</label>
                        <input name="oldpassword" id="change-old-pwd" type="password" class="form-control" placeholder="Enter Current Password" maxlength="20" autocomplete="off">
						<span id="head-currentpwd-err" class="err-msg hide" tabindex="0" aria-live="polite" aria-labelledby="head-currentpwd">Current Password doesn't match</span>
					</div>
                    <div class="form-group">
                        <label id="head-newpwd" tabindex="0" aria-labelledby="head-newpwd">New Password</label>
                        <input name="newpassword" id="change-new-pwd" type="password" class="form-control" placeholder="Enter new password" maxlength="20" autocomplete="off">
						<span id="head-newpwd-err" class="err-msg hide" tabindex="0" aria-live="polite" aria-labelledby="head-newpwd-err">Enter min 6 Characters</span>
					</div>
                    <div class="form-group">
                        <label id="head-confirm-newpwd" tabindex="0" aria-labelledby="head-confirm-newpwd">Confirm New Password</label>
                        <input name="confnewpassword" id="change-confirm-pwd" type="password" class="form-control" placeholder="Re-enter password" maxlength="20" autocomplete="off">
						<span id="head-confirm-newpwd-err" class="err-msg hide" tabindex="0" aria-live="polite" aria-labelledby="head-confirm-newpwd">Entered password does not match</span>
					</div>
                    <div class="form-group no_margin" align="center">
                        <input type="button" id="change-pwd-btn" value="Save" class="primary_btn disabled-btn" aria-label="save">
                        <input type="button" value="Cancel" class="secondary_btn" data-dismiss="modal" aria-label="cancel">
                    </div>
                </form>
            </div>
        </div>
    </div>
    </div>
</div>


<!-- Signup via Social Media Modal starts Here-->
<div class="modal fade" id="signup-social-media" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog" role="document">
	<div class="modal-content">		
		<div class="modal-body fb-signup">
			<div class="signin_close">
				<a title="Close" aria-hidden="true" href="javascript:;" data-dismiss="modal" id="social-signup-close" tabindex="-1" role="application"><img src="/bloomsbury_assets/bloomsbury/images/signin_close.png" alt="Close" role="button" tabindex="0" aria-label="Close"></a>
			</div>
			  <h3 id="sn-signup-media-title" tabindex="0" aria-labelledby="sn-signup-media-title">Sign Up Via FaceBook</h3>
			  
			  <!-- <div class="row prof-pic"> -->
				<!-- <div class="col-lg-3 col-sm-3 col-md-3 col-xs-3 profile-icon"> -->
				<!-- <img id="sn-profile-pic" src="/bloomsbury_assets/bloomsbury/images/fb-prof-pic.jpg" style="margin: 0 auto; width: 70px; height: 70px;" class="img-rounded" alt="prof pic" tabindex="0"> -->
			    <!-- </div> -->
				<!-- <div class="col-lg-9 col-sm-9 col-md-9 col-xs-9"> -->
			    <!-- <h5 id="sn-full-name" tabindex="0" aria-labelledby="sn-full-name">John Doe</h5> -->
			    <!-- <p id="sn-email" class="mail-id" tabindex="0" aria-labelledby="sn-email">johndoe@gmail.com</p>	 -->
                <!-- <div class="fb-icon">				 -->
				<!-- <img id="sn-signup-icon" src="/bloomsbury_assets/bloomsbury/images/fb-signup-icon.png" alt="fb-icon" tabindex="0"> -->
				<!-- <span id="signup-social-label" tabindex="0" aria-labelledby="signup-social-label">&nbsp;Facebook</span></div> -->
			  <!-- </div> -->
			  <!-- </div> -->
			  
			  <div class="clearfix prof-pic">
				<div class="profile-icon">
				<img id="sn-profile-pic" src="/bloomsbury_assets/bloomsbury/images/fb-prof-pic.jpg" width="75" height="75" class="img-rounded" alt="prof pic" tabindex="0">
			    </div>
				<div class="profile-text">
			    <h5 id="sn-full-name" tabindex="0" aria-labelledby="sn-full-name">John Doe</h5>
			    <p id="sn-email" class="mail-id" tabindex="0" aria-labelledby="sn-email">johndoe@gmail.com</p>	
                <div class="fb-icon">				
				<img id="sn-signup-icon" src="/bloomsbury_assets/bloomsbury/images/fb-signup-icon.png" width="25" height="25" alt="fb-icon" tabindex="0">
				<span id="signup-social-label" tabindex="0" aria-labelledby="signup-social-label">&nbsp;Facebook</span></div>
			  </div>
			  </div>
			  
			  <div class="clearfix"></div>

			  <h4 id="head-addInfo" tabindex="0" aria-labelledby="head-addInfo">Additional info required</h4>
			  <div class="row">
				<form id="sn-signup-form" class="fb-signup-form" method="post">
					<div class="col-lg-6 col-md-6 col-sm-12 col-xs-12 signup-title hide">
						<div class="title_cont">
							<div class="form-group clearfix">
								<label id="head-social-titlab" tabindex="0" aria-labelledby="head-social-titlab">Title<sup>*</sup></label>
								<div class="clearfix"></div>
								<div class="btn-group bootstrap-select form-control title_style col-lg-6 col-md-6 col-sm-6 col-xs-6"><button type="button" class="btn dropdown-toggle btn-default" data-toggle="dropdown" data-id="sn-signup-title-option" title="Select"><span class="filter-option pull-left">Select</span>&nbsp;<span class="bs-caret"><span class="caret"></span></span></button><div class="dropdown-menu open"><ul class="dropdown-menu inner" role="menu"><li data-original-index="0" class="selected"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Select</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="1"><a tabindex="0" class="" style="" data-tokens="null"><span class="text"> Mr. </span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="2"><a tabindex="0" class="" style="" data-tokens="null"><span class="text"> Mrs. </span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="3"><a tabindex="0" class="" style="" data-tokens="null"><span class="text"> Miss. </span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="4"><a tabindex="0" class="" style="" data-tokens="null"><span class="text"> Ms. </span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="5"><a tabindex="0" class="" style="" data-tokens="null"><span class="text"> Dr. </span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="6"><a tabindex="0" class="" style="" data-tokens="null"><span class="text"> Prof. </span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="7"><a tabindex="0" class="" style="" data-tokens="null"><span class="text"> Other </span><span class="glyphicon glyphicon-ok check-mark"></span></a></li></ul></div><select id="sn-signup-title-option" name="title" class="selectpicker form-control title_style col-lg-6 col-md-6 col-sm-6 col-xs-6" tabindex="-98">
									<option value="">Select</option>
																														<option value="Mr."> Mr. </option>
																					<option value="Mrs."> Mrs. </option>
																					<option value="Miss."> Miss. </option>
																					<option value="Ms."> Ms. </option>
																					<option value="Dr."> Dr. </option>
																					<option value="Prof."> Prof. </option>
																					<option value="Other"> Other </option>
																											</select></div>
							<input type="text" id="sn-signup-other-txt-box" name="otherTitle" class="hide form-control title_style other-txt-box col-lg-6 col-md-6 col-sm-6 col-xs-6" autocomplete="off">
							</div>
						</div>
					</div>
					<div class="clearfix"></div>
					
					<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
						<div class="form-group">
							<label id="head-social-frsnme" tabindex="0" aria-labelledby="head-social-frsnme">First Name<sup>*</sup></label>
							<input id="sn-signup-first-name" name="firstname" type="text" class="form-control" placeholder="First Name" maxlength="30" autocomplete="off">
						</div>
					</div>

					<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 hide">
						<div class="form-group">
							<label id="head-social-surnme" tabindex="0" aria-labelledby="head-social-surnme">Surname<sup>*</sup></label>
						<input id="sn-signup-sur-name" class="form-control" name="surname" type="text" placeholder="Surname" maxlength="30" autocomplete="off">
						</div>
					</div>
					<div class="clearfix"></div>
					
					<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 hide">
						<div class="form-group">
							<label id="head-social-occup" tabindex="0" aria-labelledby="head-social-occup">Occupation<sup>*</sup></label>
							<div class="btn-group bootstrap-select form-control"><button type="button" class="btn dropdown-toggle btn-default" data-toggle="dropdown" data-id="sn-signup-occupation-select" title="Select"><span class="filter-option pull-left">Select</span>&nbsp;<span class="bs-caret"><span class="caret"></span></span></button><div class="dropdown-menu open"><ul class="dropdown-menu inner" role="menu"><li data-original-index="0" class="selected"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Select</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="1"><a tabindex="0" class="" style="" data-tokens="null"><span class="text"> Librarian </span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="2"><a tabindex="0" class="" style="" data-tokens="null"><span class="text"> Academic/Faculty </span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="3"><a tabindex="0" class="" style="" data-tokens="null"><span class="text"> Administrator </span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="4"><a tabindex="0" class="" style="" data-tokens="null"><span class="text"> Student </span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="5"><a tabindex="0" class="" style="" data-tokens="null"><span class="text"> Other </span><span class="glyphicon glyphicon-ok check-mark"></span></a></li></ul></div><select id="sn-signup-occupation-select" name="occupation" class="selectpicker form-control" tabindex="-98">
								<option value="">Select</option>
																											<option value="Librarian"> Librarian </option>
																			<option value="Academic/Faculty"> Academic/Faculty </option>
																			<option value="Administrator"> Administrator </option>
																			<option value="Student"> Student </option>
																			<option value="Other"> Other </option>
																								</select></div>
						</div>
						<div class="clearfix"></div>
						<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 no_pad">
							<input type="text" id="sn-signup-occupation-text-box" name="occupationTitle" class="hide form-control" autocomplete="off">
						</div>
					</div>

					<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 hide">
						<div class="form-group">
							<label id="head-social-crty" tabindex="0" aria-labelledby="head-social-crty">Country<sup>*</sup></label>
							<div class="btn-group bootstrap-select form-control"><button type="button" class="btn dropdown-toggle btn-default" data-toggle="dropdown" data-id="sn-signup-country" title="Select"><span class="filter-option pull-left">Select</span>&nbsp;<span class="bs-caret"><span class="caret"></span></span></button><div class="dropdown-menu open"><ul class="dropdown-menu inner" role="menu"><li data-original-index="0" class="selected"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Select</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="1"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Afghanistan</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="2"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Aland Islands</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="3"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Albania</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="4"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Algeria</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="5"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">American Samoa</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="6"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Andorra</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="7"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Angola</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="8"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Anguilla</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="9"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Antarctica</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="10"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Antigua and Barbuda</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="11"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Argentina</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="12"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Armenia</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="13"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Aruba</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="14"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Australia</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="15"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Austria</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="16"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Azerbaijan</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="17"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Bahamas</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="18"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Bahrain</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="19"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Bangladesh</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="20"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Barbados</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="21"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Belarus</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="22"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Belgium</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="23"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Belize</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="24"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Benin</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="25"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Bermuda</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="26"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Bhutan</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="27"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Bolivia, Plurinational State of</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="28"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Bonaire, Sint Eustatius and Saba</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="29"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Bosnia and Herzegovina</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="30"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Botswana</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="31"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Bouvet Island</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="32"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Brazil</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="33"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">British Indian Ocean Territory</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="34"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Brunei Darussalam</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="35"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Bulgaria</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="36"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Burkina Faso</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="37"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Burundi</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="38"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Cambodia</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="39"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Cameroon</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="40"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Canada</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="41"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Cape Verde</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="42"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Cayman Islands</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="43"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Central African Republic</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="44"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Chad</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="45"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Chile</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="46"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">China</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="47"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Christmas Island</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="48"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Cocos (Keeling) Islands</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="49"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Colombia</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="50"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Comoros</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="51"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Congo</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="52"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Congo, the Democratic Republic of the</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="53"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Cook Islands</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="54"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Costa Rica</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="55"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Cte d'Ivoire</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="56"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Croatia</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="57"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Cuba</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="58"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Curaao</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="59"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Cyprus</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="60"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Czech Republic</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="61"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Denmark</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="62"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Djibouti</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="63"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Dominica</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="64"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Dominican Republic</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="65"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Ecuador</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="66"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Egypt</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="67"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">El Salvador</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="68"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Equatorial Guinea</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="69"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Eritrea</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="70"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Estonia</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="71"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Ethiopia</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="72"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Falkland Islands (Malvinas)</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="73"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Faroe Islands</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="74"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Fiji</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="75"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Finland</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="76"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">France</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="77"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">French Guiana</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="78"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">French Polynesia</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="79"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">French Southern Territories</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="80"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Gabon</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="81"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Gambia</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="82"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Georgia</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="83"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Germany</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="84"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Ghana</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="85"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Gibraltar</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="86"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Greece</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="87"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Greenland</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="88"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Grenada</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="89"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Guadeloupe</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="90"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Guam</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="91"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Guatemala</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="92"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Guernsey</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="93"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Guinea</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="94"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Guinea-Bissau</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="95"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Guyana</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="96"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Haiti</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="97"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Heard Island and McDonald Islands</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="98"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Holy See (Vatican City State)</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="99"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Honduras</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="100"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Hong Kong</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="101"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Hungary</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="102"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Iceland</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="103"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">India</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="104"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Indonesia</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="105"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Iran, Islamic Republic of</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="106"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Iraq</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="107"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Ireland</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="108"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Isle of Man</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="109"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Israel</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="110"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Italy</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="111"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Jamaica</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="112"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Japan</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="113"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Jersey</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="114"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Jordan</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="115"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Kazakhstan</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="116"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Kenya</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="117"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Kiribati</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="118"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Korea, Democratic People's Republic of</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="119"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Korea, Republic of</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="120"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Kuwait</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="121"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Kyrgyzstan</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="122"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Lao People's Democratic Republic</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="123"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Latvia</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="124"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Lebanon</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="125"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Lesotho</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="126"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Liberia</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="127"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Libya</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="128"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Liechtenstein</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="129"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Lithuania</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="130"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Luxembourg</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="131"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Macao</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="132"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Macedonia, the Former Yugoslav Republic of</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="133"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Madagascar</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="134"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Malawi</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="135"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Malaysia</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="136"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Maldives</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="137"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Mali</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="138"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Malta</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="139"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Marshall Islands</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="140"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Martinique</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="141"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Mauritania</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="142"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Mauritius</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="143"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Mayotte</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="144"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Mexico</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="145"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Micronesia, Federated States of</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="146"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Moldova, Republic of</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="147"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Monaco</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="148"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Mongolia</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="149"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Montenegro</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="150"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Montserrat</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="151"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Morocco</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="152"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Mozambique</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="153"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Myanmar</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="154"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Namibia</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="155"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Nauru</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="156"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Nepal</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="157"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Netherlands</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="158"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">New Caledonia</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="159"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">New Zealand</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="160"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Nicaragua</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="161"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Niger</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="162"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Nigeria</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="163"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Niue</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="164"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Norfolk Island</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="165"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Northern Mariana Islands</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="166"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Norway</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="167"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Oman</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="168"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Pakistan</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="169"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Palau</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="170"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Palestine, State of</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="171"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Panama</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="172"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Papua New Guinea</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="173"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Paraguay</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="174"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Peru</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="175"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Philippines</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="176"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Pitcairn</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="177"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Poland</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="178"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Portugal</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="179"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Puerto Rico</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="180"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Qatar</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="181"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Runion</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="182"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Romania</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="183"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Russian Federation</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="184"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Rwanda</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="185"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Saint Barthlemy</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="186"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Saint Helena, Ascension and Tristan da Cunha</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="187"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Saint Kitts and Nevis</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="188"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Saint Lucia</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="189"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Saint Martin (French part)</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="190"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Saint Pierre and Miquelon</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="191"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Saint Vincent and the Grenadines</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="192"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Samoa</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="193"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">San Marino</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="194"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Sao Tome and Principe</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="195"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Saudi Arabia</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="196"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Senegal</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="197"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Serbia</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="198"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Seychelles</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="199"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Sierra Leone</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="200"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Singapore</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="201"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Sint Maarten (Dutch part)</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="202"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Slovakia</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="203"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Slovenia</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="204"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Solomon Islands</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="205"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Somalia</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="206"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">South Africa</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="207"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">South Georgia and the South Sandwich Islands</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="208"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">South Sudan</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="209"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Spain</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="210"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Sri Lanka</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="211"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Sudan</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="212"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Suriname</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="213"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Svalbard and Jan Mayen</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="214"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Swaziland</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="215"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Sweden</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="216"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Switzerland</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="217"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Syrian Arab Republic</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="218"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Taiwan, Province of China</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="219"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Tajikistan</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="220"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Tanzania, United Republic of</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="221"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Thailand</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="222"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Timor-Leste</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="223"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Togo</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="224"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Tokelau</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="225"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Tonga</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="226"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Trinidad and Tobago</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="227"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Tunisia</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="228"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Turkey</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="229"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Turkmenistan</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="230"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Turks and Caicos Islands</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="231"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Tuvalu</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="232"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Uganda</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="233"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Ukraine</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="234"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">United Arab Emirates</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="235"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">United Kingdom</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="236"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">United States</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="237"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">United States Minor Outlying Islands</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="238"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Uruguay</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="239"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Uzbekistan</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="240"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Vanuatu</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="241"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Venezuela, Bolivarian Republic of</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="242"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Viet Nam</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="243"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Virgin Islands, British</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="244"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Virgin Islands, U.S.</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="245"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Wallis and Futuna</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="246"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Western Sahara</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="247"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Yemen</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="248"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Zambia</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li><li data-original-index="249"><a tabindex="0" class="" style="" data-tokens="null"><span class="text">Zimbabwe</span><span class="glyphicon glyphicon-ok check-mark"></span></a></li></ul></div><select id="sn-signup-country" name="signup-country" class="selectpicker form-control" tabindex="-98">
								<option value="">Select</option>
																											<option value="af" title="Afghanistan">Afghanistan</option>
																			<option value="ax" title="Aland Islands">Aland Islands</option>
																			<option value="al" title="Albania">Albania</option>
																			<option value="dz" title="Algeria">Algeria</option>
																			<option value="as" title="American Samoa">American Samoa</option>
																			<option value="ad" title="Andorra">Andorra</option>
																			<option value="ao" title="Angola">Angola</option>
																			<option value="ai" title="Anguilla">Anguilla</option>
																			<option value="aq" title="Antarctica">Antarctica</option>
																			<option value="ag" title="Antigua and Barbuda">Antigua and Barbuda</option>
																			<option value="ar" title="Argentina">Argentina</option>
																			<option value="am" title="Armenia">Armenia</option>
																			<option value="aw" title="Aruba">Aruba</option>
																			<option value="au" title="Australia">Australia</option>
																			<option value="at" title="Austria">Austria</option>
																			<option value="az" title="Azerbaijan">Azerbaijan</option>
																			<option value="bs" title="Bahamas">Bahamas</option>
																			<option value="bh" title="Bahrain">Bahrain</option>
																			<option value="bd" title="Bangladesh">Bangladesh</option>
																			<option value="bb" title="Barbados">Barbados</option>
																			<option value="by" title="Belarus">Belarus</option>
																			<option value="be" title="Belgium">Belgium</option>
																			<option value="bz" title="Belize">Belize</option>
																			<option value="bj" title="Benin">Benin</option>
																			<option value="bm" title="Bermuda">Bermuda</option>
																			<option value="bt" title="Bhutan">Bhutan</option>
																			<option value="bo" title="Bolivia, Plurinational State of">Bolivia, Plurinational State of</option>
																			<option value="bq" title="Bonaire, Sint Eustatius and Saba">Bonaire, Sint Eustatius and Saba</option>
																			<option value="ba" title="Bosnia and Herzegovina">Bosnia and Herzegovina</option>
																			<option value="bw" title="Botswana">Botswana</option>
																			<option value="bv" title="Bouvet Island">Bouvet Island</option>
																			<option value="br" title="Brazil">Brazil</option>
																			<option value="io" title="British Indian Ocean Territory">British Indian Ocean Territory</option>
																			<option value="bn" title="Brunei Darussalam">Brunei Darussalam</option>
																			<option value="bg" title="Bulgaria">Bulgaria</option>
																			<option value="bf" title="Burkina Faso">Burkina Faso</option>
																			<option value="bi" title="Burundi">Burundi</option>
																			<option value="kh" title="Cambodia">Cambodia</option>
																			<option value="cm" title="Cameroon">Cameroon</option>
																			<option value="ca" title="Canada">Canada</option>
																			<option value="cv" title="Cape Verde">Cape Verde</option>
																			<option value="ky" title="Cayman Islands">Cayman Islands</option>
																			<option value="cf" title="Central African Republic">Central African Republic</option>
																			<option value="td" title="Chad">Chad</option>
																			<option value="cl" title="Chile">Chile</option>
																			<option value="cn" title="China">China</option>
																			<option value="cx" title="Christmas Island">Christmas Island</option>
																			<option value="cc" title="Cocos (Keeling) Islands">Cocos (Keeling) Islands</option>
																			<option value="co" title="Colombia">Colombia</option>
																			<option value="km" title="Comoros">Comoros</option>
																			<option value="cg" title="Congo">Congo</option>
																			<option value="cd" title="Congo, the Democratic Republic of the">Congo, the Democratic Republic of the</option>
																			<option value="ck" title="Cook Islands">Cook Islands</option>
																			<option value="cr" title="Costa Rica">Costa Rica</option>
																			<option value="ci" title="Cte d'Ivoire">Cte d'Ivoire</option>
																			<option value="hr" title="Croatia">Croatia</option>
																			<option value="cu" title="Cuba">Cuba</option>
																			<option value="cw" title="Curaao">Curaao</option>
																			<option value="cy" title="Cyprus">Cyprus</option>
																			<option value="cz" title="Czech Republic">Czech Republic</option>
																			<option value="dk" title="Denmark">Denmark</option>
																			<option value="dj" title="Djibouti">Djibouti</option>
																			<option value="dm" title="Dominica">Dominica</option>
																			<option value="do" title="Dominican Republic">Dominican Republic</option>
																			<option value="ec" title="Ecuador">Ecuador</option>
																			<option value="eg" title="Egypt">Egypt</option>
																			<option value="sv" title="El Salvador">El Salvador</option>
																			<option value="gq" title="Equatorial Guinea">Equatorial Guinea</option>
																			<option value="er" title="Eritrea">Eritrea</option>
																			<option value="ee" title="Estonia">Estonia</option>
																			<option value="et" title="Ethiopia">Ethiopia</option>
																			<option value="fk" title="Falkland Islands (Malvinas)">Falkland Islands (Malvinas)</option>
																			<option value="fo" title="Faroe Islands">Faroe Islands</option>
																			<option value="fj" title="Fiji">Fiji</option>
																			<option value="fi" title="Finland">Finland</option>
																			<option value="fr" title="France">France</option>
																			<option value="gf" title="French Guiana">French Guiana</option>
																			<option value="pf" title="French Polynesia">French Polynesia</option>
																			<option value="tf" title="French Southern Territories">French Southern Territories</option>
																			<option value="ga" title="Gabon">Gabon</option>
																			<option value="gm" title="Gambia">Gambia</option>
																			<option value="ge" title="Georgia">Georgia</option>
																			<option value="de" title="Germany">Germany</option>
																			<option value="gh" title="Ghana">Ghana</option>
																			<option value="gi" title="Gibraltar">Gibraltar</option>
																			<option value="gr" title="Greece">Greece</option>
																			<option value="gl" title="Greenland">Greenland</option>
																			<option value="gd" title="Grenada">Grenada</option>
																			<option value="gp" title="Guadeloupe">Guadeloupe</option>
																			<option value="gu" title="Guam">Guam</option>
																			<option value="gt" title="Guatemala">Guatemala</option>
																			<option value="gg" title="Guernsey">Guernsey</option>
																			<option value="gn" title="Guinea">Guinea</option>
																			<option value="gw" title="Guinea-Bissau">Guinea-Bissau</option>
																			<option value="gy" title="Guyana">Guyana</option>
																			<option value="ht" title="Haiti">Haiti</option>
																			<option value="hm" title="Heard Island and McDonald Islands">Heard Island and McDonald Islands</option>
																			<option value="va" title="Holy See (Vatican City State)">Holy See (Vatican City State)</option>
																			<option value="hn" title="Honduras">Honduras</option>
																			<option value="hk" title="Hong Kong">Hong Kong</option>
																			<option value="hu" title="Hungary">Hungary</option>
																			<option value="is" title="Iceland">Iceland</option>
																			<option value="in" title="India">India</option>
																			<option value="id" title="Indonesia">Indonesia</option>
																			<option value="ir" title="Iran, Islamic Republic of">Iran, Islamic Republic of</option>
																			<option value="iq" title="Iraq">Iraq</option>
																			<option value="ie" title="Ireland">Ireland</option>
																			<option value="im" title="Isle of Man">Isle of Man</option>
																			<option value="il" title="Israel">Israel</option>
																			<option value="it" title="Italy">Italy</option>
																			<option value="jm" title="Jamaica">Jamaica</option>
																			<option value="jp" title="Japan">Japan</option>
																			<option value="je" title="Jersey">Jersey</option>
																			<option value="jo" title="Jordan">Jordan</option>
																			<option value="kz" title="Kazakhstan">Kazakhstan</option>
																			<option value="ke" title="Kenya">Kenya</option>
																			<option value="ki" title="Kiribati">Kiribati</option>
																			<option value="kp" title="Korea, Democratic People's Republic of">Korea, Democratic People's Republic of</option>
																			<option value="kr" title="Korea, Republic of">Korea, Republic of</option>
																			<option value="kw" title="Kuwait">Kuwait</option>
																			<option value="kg" title="Kyrgyzstan">Kyrgyzstan</option>
																			<option value="la" title="Lao People's Democratic Republic">Lao People's Democratic Republic</option>
																			<option value="lv" title="Latvia">Latvia</option>
																			<option value="lb" title="Lebanon">Lebanon</option>
																			<option value="ls" title="Lesotho">Lesotho</option>
																			<option value="lr" title="Liberia">Liberia</option>
																			<option value="ly" title="Libya">Libya</option>
																			<option value="li" title="Liechtenstein">Liechtenstein</option>
																			<option value="lt" title="Lithuania">Lithuania</option>
																			<option value="lu" title="Luxembourg">Luxembourg</option>
																			<option value="mo" title="Macao">Macao</option>
																			<option value="mk" title="Macedonia, the Former Yugoslav Republic of">Macedonia, the Former Yugoslav Republic of</option>
																			<option value="mg" title="Madagascar">Madagascar</option>
																			<option value="mw" title="Malawi">Malawi</option>
																			<option value="my" title="Malaysia">Malaysia</option>
																			<option value="mv" title="Maldives">Maldives</option>
																			<option value="ml" title="Mali">Mali</option>
																			<option value="mt" title="Malta">Malta</option>
																			<option value="mh" title="Marshall Islands">Marshall Islands</option>
																			<option value="mq" title="Martinique">Martinique</option>
																			<option value="mr" title="Mauritania">Mauritania</option>
																			<option value="mu" title="Mauritius">Mauritius</option>
																			<option value="yt" title="Mayotte">Mayotte</option>
																			<option value="mx" title="Mexico">Mexico</option>
																			<option value="fm" title="Micronesia, Federated States of">Micronesia, Federated States of</option>
																			<option value="md" title="Moldova, Republic of">Moldova, Republic of</option>
																			<option value="mc" title="Monaco">Monaco</option>
																			<option value="mn" title="Mongolia">Mongolia</option>
																			<option value="me" title="Montenegro">Montenegro</option>
																			<option value="ms" title="Montserrat">Montserrat</option>
																			<option value="ma" title="Morocco">Morocco</option>
																			<option value="mz" title="Mozambique">Mozambique</option>
																			<option value="mm" title="Myanmar">Myanmar</option>
																			<option value="na" title="Namibia">Namibia</option>
																			<option value="nr" title="Nauru">Nauru</option>
																			<option value="np" title="Nepal">Nepal</option>
																			<option value="nl" title="Netherlands">Netherlands</option>
																			<option value="nc" title="New Caledonia">New Caledonia</option>
																			<option value="nz" title="New Zealand">New Zealand</option>
																			<option value="ni" title="Nicaragua">Nicaragua</option>
																			<option value="ne" title="Niger">Niger</option>
																			<option value="ng" title="Nigeria">Nigeria</option>
																			<option value="nu" title="Niue">Niue</option>
																			<option value="nf" title="Norfolk Island">Norfolk Island</option>
																			<option value="mp" title="Northern Mariana Islands">Northern Mariana Islands</option>
																			<option value="no" title="Norway">Norway</option>
																			<option value="om" title="Oman">Oman</option>
																			<option value="pk" title="Pakistan">Pakistan</option>
																			<option value="pw" title="Palau">Palau</option>
																			<option value="ps" title="Palestine, State of">Palestine, State of</option>
																			<option value="pa" title="Panama">Panama</option>
																			<option value="pg" title="Papua New Guinea">Papua New Guinea</option>
																			<option value="py" title="Paraguay">Paraguay</option>
																			<option value="pe" title="Peru">Peru</option>
																			<option value="ph" title="Philippines">Philippines</option>
																			<option value="pn" title="Pitcairn">Pitcairn</option>
																			<option value="pl" title="Poland">Poland</option>
																			<option value="pt" title="Portugal">Portugal</option>
																			<option value="pr" title="Puerto Rico">Puerto Rico</option>
																			<option value="qa" title="Qatar">Qatar</option>
																			<option value="re" title="Runion">Runion</option>
																			<option value="ro" title="Romania">Romania</option>
																			<option value="ru" title="Russian Federation">Russian Federation</option>
																			<option value="rw" title="Rwanda">Rwanda</option>
																			<option value="bl" title="Saint Barthlemy">Saint Barthlemy</option>
																			<option value="sh" title="Saint Helena, Ascension and Tristan da Cunha">Saint Helena, Ascension and Tristan da Cunha</option>
																			<option value="kn" title="Saint Kitts and Nevis">Saint Kitts and Nevis</option>
																			<option value="lc" title="Saint Lucia">Saint Lucia</option>
																			<option value="mf" title="Saint Martin (French part)">Saint Martin (French part)</option>
																			<option value="pm" title="Saint Pierre and Miquelon">Saint Pierre and Miquelon</option>
																			<option value="vc" title="Saint Vincent and the Grenadines">Saint Vincent and the Grenadines</option>
																			<option value="ws" title="Samoa">Samoa</option>
																			<option value="sm" title="San Marino">San Marino</option>
																			<option value="st" title="Sao Tome and Principe">Sao Tome and Principe</option>
																			<option value="sa" title="Saudi Arabia">Saudi Arabia</option>
																			<option value="sn" title="Senegal">Senegal</option>
																			<option value="rs" title="Serbia">Serbia</option>
																			<option value="sc" title="Seychelles">Seychelles</option>
																			<option value="sl" title="Sierra Leone">Sierra Leone</option>
																			<option value="sg" title="Singapore">Singapore</option>
																			<option value="sx" title="Sint Maarten (Dutch part)">Sint Maarten (Dutch part)</option>
																			<option value="sk" title="Slovakia">Slovakia</option>
																			<option value="si" title="Slovenia">Slovenia</option>
																			<option value="sb" title="Solomon Islands">Solomon Islands</option>
																			<option value="so" title="Somalia">Somalia</option>
																			<option value="za" title="South Africa">South Africa</option>
																			<option value="gs" title="South Georgia and the South Sandwich Islands">South Georgia and the South Sandwich Islands</option>
																			<option value="ss" title="South Sudan">South Sudan</option>
																			<option value="es" title="Spain">Spain</option>
																			<option value="lk" title="Sri Lanka">Sri Lanka</option>
																			<option value="sd" title="Sudan">Sudan</option>
																			<option value="sr" title="Suriname">Suriname</option>
																			<option value="sj" title="Svalbard and Jan Mayen">Svalbard and Jan Mayen</option>
																			<option value="sz" title="Swaziland">Swaziland</option>
																			<option value="se" title="Sweden">Sweden</option>
																			<option value="ch" title="Switzerland">Switzerland</option>
																			<option value="sy" title="Syrian Arab Republic">Syrian Arab Republic</option>
																			<option value="tw" title="Taiwan, Province of China">Taiwan, Province of China</option>
																			<option value="tj" title="Tajikistan">Tajikistan</option>
																			<option value="tz" title="Tanzania, United Republic of">Tanzania, United Republic of</option>
																			<option value="th" title="Thailand">Thailand</option>
																			<option value="tl" title="Timor-Leste">Timor-Leste</option>
																			<option value="tg" title="Togo">Togo</option>
																			<option value="tk" title="Tokelau">Tokelau</option>
																			<option value="to" title="Tonga">Tonga</option>
																			<option value="tt" title="Trinidad and Tobago">Trinidad and Tobago</option>
																			<option value="tn" title="Tunisia">Tunisia</option>
																			<option value="tr" title="Turkey">Turkey</option>
																			<option value="tm" title="Turkmenistan">Turkmenistan</option>
																			<option value="tc" title="Turks and Caicos Islands">Turks and Caicos Islands</option>
																			<option value="tv" title="Tuvalu">Tuvalu</option>
																			<option value="ug" title="Uganda">Uganda</option>
																			<option value="ua" title="Ukraine">Ukraine</option>
																			<option value="ae" title="United Arab Emirates">United Arab Emirates</option>
																			<option value="gb" title="United Kingdom">United Kingdom</option>
																			<option value="us" title="United States">United States</option>
																			<option value="um" title="United States Minor Outlying Islands">United States Minor Outlying Islands</option>
																			<option value="uy" title="Uruguay">Uruguay</option>
																			<option value="uz" title="Uzbekistan">Uzbekistan</option>
																			<option value="vu" title="Vanuatu">Vanuatu</option>
																			<option value="ve" title="Venezuela, Bolivarian Republic of">Venezuela, Bolivarian Republic of</option>
																			<option value="vn" title="Viet Nam">Viet Nam</option>
																			<option value="vg" title="Virgin Islands, British">Virgin Islands, British</option>
																			<option value="vi" title="Virgin Islands, U.S.">Virgin Islands, U.S.</option>
																			<option value="wf" title="Wallis and Futuna">Wallis and Futuna</option>
																			<option value="eh" title="Western Sahara">Western Sahara</option>
																			<option value="ye" title="Yemen">Yemen</option>
																			<option value="zm" title="Zambia">Zambia</option>
																			<option value="zw" title="Zimbabwe">Zimbabwe</option>
																								</select></div>
						</div>
					</div>
					<div class="clearfix"></div>
					
					<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
						<div class="form-group">
							<label id="head-social-emaillab" tabindex="0" aria-labelledby="head-social-emaillab">Email Address<sup>*</sup></label>
							<input id="sn-signup-email-addr" type="email" name="email" class="form-control" placeholder="Email Address" autocomplete="off">
                            <span id="sn-signup-emailexists" class="err-msg hide" tabindex="0" aria-live="polite" aria-label="Invalid Email address">Invalid Email address</span>
						</div>
					</div>
					<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12" id="sn-social-verify-email">
						<div class="form-group">
							<label id="head-social-cnfemail" tabindex="0" aria-labelledby="head-social-cnfemail">Confirm Email Address<sup>*</sup></label>
							<input id="sn-signup-verify-email" type="email" class="form-control" placeholder="Confirm Email Address" autocomplete="off">
                            <span id="sn-signup-verify-email-err" class="err-msg hide" tabindex="0" aria-live="polite" aria-labelledby="signup-verify-email-err">Entered Email address does not match</span>
						</div>
					</div>
										<input id="sn-password" type="hidden" name="profile-id">
					<input id="sn-signup-social" type="hidden" name="signup-social-name">
					<div class="clearfix"></div>
					
					<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
						<div class="checkbox ">
							<input id="sn-signup-checkbox1" name="keepintouch" class="styled" type="checkbox">
							<label for="sn-signup-checkbox1" tabindex="0" aria-labelledby="I would like to receive information on Human Kinetics Library Platform and related Bloomsbury products">
								I would like to receive information on Human Kinetics Library Platform and related Bloomsbury products
							</label>
						</div>
						<div class="checkbox">
							<input id="sn-signup-checkbox2" class="styled" type="checkbox">
							<label for="sn-signup-checkbox2" tabindex="0" aria-labelledby="sn-signup-checkbox2">
								I agree with  <a href="terms-and-conditions">Terms &amp; Conditions</a> and <a href="privacy-policy">Privacy &amp; Cookies Policy</a><sup>*</sup>
							</label>
						</div>
					</div>
					
					<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center">
						<div class="form-group button_elements">							
							<input id="sn-signup-send-btn" type="button" value="Submit" class="primary_btn disabled-btn">
							<input type="button" value="Clear" class="secondary_btn" data-toggle="modal" data-target="#sn-signup-reset">
						</div>
					</div>
					
				</form>
			  </div>
		</div>
	</div>
  </div>
</div>
<!-- Signup via Social Media Modal End's Here-->

<div class="modal fade" id="sn-signup-reset" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-backdrop="static" data-keyboard="false">
  <div class="vertical-alignment-helper">
	  <div class="modal-dialog alert_modal vertical-align-center" role="document">
		<div class="modal-content">
		  <div class="modal-body">
			<h2 id="socialsignup-alertmsg" tabindex="0" aria-labelledby="socialsignup-alertmsg">Alert</h2>
			<p id="socialsignup-alertconfirm" tabindex="0" aria-labelledby="socialsignup-alertconfirm">Are you sure you want to reset the form?</p>
			<input type="button" value="Yes" class="primary_btn sn-signup-clear-btn" data-dismiss="modal"> 
			<input data-dismiss="modal" type="button" value="No" class="secondary_btn sn-signup-clear-cancel-btn">
		  </div>
		</div>
	  </div>
	</div> 
</div>

<!-- Shareviaemail model window ---->
<div class="modal fade" id="sharevia-mail" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-backdrop="static" data-keyboard="false">
    <div class="vertical-alignment-helper">
		<div class="modal-dialog share-via-success vertical-align-center" role="document">
			<div class="modal-content">
		   <div class="modal-body text-center">
			<h2 id="socialsignup-successmsg" tabindex="0" aria-labelledby="socialsignup-successmsg">Success</h2>
			<p id="socialsignup-alertconfirmation" tabindex="0" aria-labelledby="socialsignup-alertconfirmation">Your mail has been sent successfully</p>
			<input type="button" value="OK" class="primary_btn sn-signup-clear-btn" data-dismiss="modal"> 
		  </div>
			</div>
		</div>
    </div>
</div>


<!-- Alert Selection-->

<div class="modal fade" id="alertselect" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-backdrop="static" data-keyboard="false">
  <div class="vertical-alignment-helper">
	  <div class="modal-dialog alert_modal vertical-align-center" role="document">
		<div class="modal-content">
		  <div class="modal-body">
			<h2 id="alert-alertmsg" tabindex="0" aria-labelledby="alert-alertmsg">Alert Me</h2>
			<p id="alert-alertconfirm" tabindex="0" aria-labelledby="alert-alertconfirm">Are you sure you want to remove the alert?</p>
			<input type="button" value="Yes" class="primary_btn alert-clear-btn" data-dismiss="modal" id="remove-alert-button"> 
			<input data-dismiss="modal" type="button" value="No" class="secondary_btn alert-clear-cancel-btn">
		  </div>
		</div>
	  </div>
	</div> 
</div>

<script type="text/javascript">
  var emailNotMatchMsg = "Entered Email address does not match";
  function setTwitterUserInfo(id, fullname, firstname, surname, email, profileImageUrl){
    var signUpViaTiw = "Sign Up Via";
    document.getElementById("sn-signup-media-title").innerHTML = signUpViaTiw+" Twitter";
    document.getElementById("sn-full-name").innerHTML = fullname;
    document.getElementById("sn-email").innerHTML = email;
    document.getElementById("sn-profile-pic").setAttribute("src", profileImageUrl);
    document.getElementById("sn-signup-icon").setAttribute("src", "/bloomsbury_assets/bloomsbury/images/signin_twitter.png");
    document.getElementById("signup-social-label").innerHTML = "Twitter";
    document.getElementById("sn-signup-first-name").value = fullname;
    document.getElementById("sn-signup-sur-name").value = surname;
    document.getElementById("sn-password").value = id;
    document.getElementById("sn-signup-social").value = "twitter";
    document.getElementById("sn-signup-email-addr").value = email;
    var dbFlag = validateUserExists(id);
    if(dbFlag) {
      window.location.href = '/signin?id=' + id + '&recentUrl=/encyclopedia?docid=b-9781718209565';
    } else {
      // now popup the signup modal
      $('#signup-social-media').modal('show');
    }
  }

  function twitterDenied(){
    $('#signin-username').css("border","solid red 1px").siblings("span").removeClass("hide").html('Access Denied');
  }

  function SocialSignUpSubmission() {
    var isValid = true;
    var $email_addr=$('#sn-signup-email-addr');
    var $verify_email_addr=$('#sn-signup-verify-email');
    var f_email=$email_addr.val();
    var s_email=$verify_email_addr.val();
    $email_addr.css("border","solid #ccc 1px").siblings("span").addClass("hide");
    $verify_email_addr.css("border","solid #ccc 1px").siblings("span").addClass("hide");
    if(!ValidateEmail(f_email)){
        isValid=false;
        $email_addr.css("border","solid red 1px").siblings("span").removeClass("hide");
    }
    if(f_email!=s_email){
        isValid=false;
		
        $verify_email_addr.css("border","solid red 1px").siblings("span").removeClass("hide").html(emailNotMatchMsg);
    }
    if (isValid) {
        showProgress();
        $.ajax({
            type: "POST",
            url: '/app/sams',
            dataType: 'text',
            data: {username: f_email},
            async: false,
            success: function (e) {
                if (e == "-1") {
                    $("#sn-signup-form").submit();
                } else {
                    hideProgress();
                    $('#sn-signup-email-addr').css("border","solid red 1px").siblings("span").removeClass("hide").html('Email Address already exists');
                }
            },
            error: function (error) {
                console.log(error);
            }
        });
    }
}

$(document).ready(function() {
	$("#change-old-pwd, #change-new-pwd, #change-confirm-pwd").keyup(function(event) {
		$(this).css("border","solid #ccc 1px").siblings("span").addClass("hide");
		if (!$(this).val()) {
			$("#change-pwd-btn").addClass("disabled-btn");
		}
		else {
			if ($("#change-old-pwd").val() != "" && $("#change-new-pwd").val() != "" && $("#change-confirm-pwd").val() != "") {
				$("#change-pwd-btn").removeClass("disabled-btn");
			} else {
				$("#change-pwd-btn").addClass("disabled-btn");
			}
		}
		if(!$("#change-pwd-btn").hasClass('disabled-btn')){
			if(event.keyCode=="13"){
				changePassword();
			}
		}
	});

  	
	$("#social-signup-close").on('click', function(e) {
		$("#signup-social-media").find('.selectpicker').selectpicker('deselectAll');
		$("#signup-social-media").find("input:checkbox").removeAttr("checked");
	});
	
	var input_email_addr;
	$('#signup-social-media').on('show.bs.modal', function (e) {
		input_email_addr = $("#sn-signup-email-addr").val();
	});
	
	$("#sn-signup-email-addr").on('keyup', function() {
		var input_verify_email_addr = $("#sn-signup-email-addr").val();
		if (input_email_addr != input_verify_email_addr) {
			$("#sn-social-verify-email").removeClass("hide");
		} else {
			$("#sn-social-verify-email").addClass("hide");
		}
		var socialSignupMandatory = $("#sn-signup-title-option, #sn-signup-first-name, #sn-signup-sur-name, #sn-signup-email-addr, #sn-signup-verify-email, #sn-signup-occupation-select, #sn-signup-country, #sn-signup-checkbox2, #sn-signup-other-txt-box, #sn-signup-occupation-text-box");
		socialSignupValidate(socialSignupMandatory);
	});

  $(".glyphicon.glyphicon-minus, .glyphicon.glyphicon-plus, .search-fav-icon").on("keyup", function(e){
    if (e.keyCode == 13) {
      $(this).click();
    }
  });
});

$("#changepass").on("hide.bs.modal", function (e) {
	$("#change-pwd-btn").addClass("disabled-btn");
	$(this).find("input[type=password]").val("").css("border","solid #ccc 1px");	
	$(this).find(".err-msg").addClass("hide");
});

function changePassword() {
	var oldPwd =  $("#change-old-pwd").val();
	var newPwd =  $("#change-new-pwd").val();
	var confirmPwd =  $("#change-confirm-pwd").val();
	$("#change-new-pwd").css("border","solid #ccc 1px").siblings("span").addClass("hide");
	$("#change-confirm-pwd").css("border","solid #ccc 1px").siblings("span").addClass("hide");
	if (newPwd.length < 6) {
		$("#change-new-pwd").css("border","solid red 1px").siblings("span").removeClass("hide");
		$("#change-new-pwd").focus();
		return false;
	}
	if (newPwd != confirmPwd) {
		$("#change-confirm-pwd").css("border","solid red 1px").siblings("span").removeClass("hide");
		$("#change-confirm-pwd").focus();
		return false;
	}
	$("#change-password-form").submit();
}

$(document).on('click', "#change-pwd-btn", function() {
	if (!$(this).hasClass('disabled-btn')) {
		changePassword();
	}
});

$(document).on('click', ".signin-success-btn", function() {
	var signinUser = $("#signin-username").val();
	if (!ValidateEmail(signinUser)){
		$("#signin-username").addClass("error-address").css("border","solid red 1px").siblings("span").removeClass("hide");
		$("#signin-username").focus();
	}
	else {
		$("#signin-username").css("border","solid #ccc 1px").siblings("span").addClass("hide");
		showProgress();
		$("#signin-form").submit();
	}
});
$("#signin-username,#signin-password").on('keyup',function(e){
	if($("#signin-username").val() == ""){
		$("#signin-username").css("border","1px solid #ccc");
	}
	if($("#signin-password").val() == ""){
		$("#signin-password").css("border","1px solid #ccc");
	}
	if(!$(this).hasClass('disabled-btn')){
		if(e.keyCode=="13"){
			showProgress();
			$("#signin-form").submit();
		}
	}
});
$("#signin_modal").on('show.bs.modal', function (e) {
	if ($('#signin-username').val().trim().length == 0 || $('#signin-password').val().trim().length == 0) {
		$("#signin-btn").addClass("disabled-btn").removeClass("signin-success-btn");
	}
	else {
		if ($("#signin-username").val() != "" && $("#signin-password").val() != "") {
			$("#signin-btn").removeClass("disabled-btn").addClass("signin-success-btn");
			$("#signin-username").css("border","1px solid #ccc").siblings("span").addClass("hide");
			$("#signin-password").css("border","1px solid #ccc").siblings("span").addClass("hide");
		} else {
		    $("#signin-btn").addClass("disabled-btn").removeClass("signin-success-btn");
		}
	}
});
$("#skip-content").on("click keyup", function(e){
  if (e.type == "click" || e.keyCode == 13) {
        $(".page-content-start").attr("tabindex", "0");
    $(".page-content-start").focus();
    $(".page-content-start").addClass("no-focus");
    $(".page-content-start").attr("id", "pageStart");
    document.getElementById("pageStart").scrollIntoView();
      }
});
$("#skip-content").on("focusin", function(e){
  $(this).parent().removeAttr("style");
});
$("#skip-content").on("focusout", function(e){
  $(this).parent().attr("style", "position: absolute;top:-10000px;");
});

</script>

<input type="hidden" id="userLoggedInFlag" value="true">



<div class="main-container">
<header class="bs-docs-nav navbar header-layout header-temp1">		<div class="top-header">		<div class="container">			<div class="hidden-xs">									<div class="pull-left mt10">						<div class="social-icons">							<ul role="menu">															</ul>						</div>					</div>							</div>			<!-- social Icons for mobile devices starts-->			<div class="visible-xs">									<div class="pull-left">						<div class="social-icons">							<ul role="menu">															</ul>						</div>					</div>							</div>			<!-- social Icons for mobile devices ends-->			<div class="pull-right user-details">								

			<div class="header-dropdown dropdown inline-disp  " id="checkForLogin">
							<a class="login-text hidden-xs hidden-sm default-pointer">
					<img src="/bloomsbury_assets/bloomsbury/images/signin_icon.png" alt="Login" tabindex="0" aria-label="Login Icon"> <span class="hidden-xs hidden-sm" tabindex="0" aria-label="Access Provided by  Hong Kong Metropolitan University">Access Provided by  Hong Kong Metropolitan University</span>
				</a>
				<a class="dropdown-toggle login-text hidden-md hidden-lg" data-toggle="dropdown" aria-expanded="true" tabindex="0">
					<img src="/bloomsbury_assets/bloomsbury/images/signin_icon.png" alt="Login" tabindex="0" aria-label="Login Icon"> <span class="hidden-xs hidden-sm" tabindex="0" aria-label="Access Provided by  Hong Kong Metropolitan University">Access Provided by  Hong Kong Metropolitan University</span> 
					<img src="/bloomsbury_assets/bloomsbury/images/language_arrow.png" alt="Down Arrow" tabindex="0" aria-label="Login Dropdown">
				</a>
			
			<div class="dropdown-menu dropdown-option organize-access" role="menu">
				<form class="form-horizontal signin-form" role="form">
					<div class="form-group hidden-md hidden-lg">
						<ul>
															<li class="hidden-md hidden-lg" aria-label="Access Provided by  Hong Kong Metropolitan University">Access Provided by  Hong Kong Metropolitan University</li>
													</ul>
					</div>
				</form>
			</div>
		</div>
				<div class="header-dropdown dropdown inline-disp hidden-xs hidden-sm">
							<a href="javascript:;" data-toggle="modal" data-target="#signin_modal" alt="SignIn" title="" aria-label="Sign in to your personal account">Sign in </a> to your personal account				<a class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false" href="javascript:;" tabindex="0" aria-label="Help Icon">
					<span class="help_div" aria-label="helpicon">?</span>
				</a>
					<div class="dropdown-menu dropdown-option signin-dropdown-menu" role="menu">
		<div class="signin_close"><img src="/bloomsbury_assets/bloomsbury/images/signin_close.png" alt="Close" id="signin_close" tabindex="0" aria-label="close Icon"> </div>
											<h2 tabindex="-1" aria-label="What is a Personal Account?">What is a Personal Account?</h2>
				<p id="header-persacc" aria-labelledby="header-persacc">With a personal account, you can:</p>
				<ul class="personalacc-help">
					<li id="bpm-header-persacc-Fea1" aria-labelledby="bpm-header-persacc-Fea1" role="menuitem">Save books, chapters, images or other items to view later</li>
					<li id="bpm-header-persacc-Fea2" aria-labelledby="bpm-header-persacc-Fea2" role="menuitem">Organise your saved items into folders</li>
					<li id="bpm-header-persacc-Fea3" aria-labelledby="bpm-header-persacc-Fea3" role="menuitem">Email and export citations</li>
										<li id="bpm-header-persacc-Fea4" aria-labelledby="bpm-header-persacc-Fea4" role="menuitem">Save searches and receive search alerts</li>
										<li class="" id="bpm-header-persacc-Fea5" tabindex="0" aria-labelledby="bpm-header-persacc-Fea5" role="menuitem">Sign up for our newsletters</li>
				</ul>
								<div align="center" class="signup-btn"><a href="https://p13n-bloomsbury.highwire.org/register?return-url=https://www-humankineticslibrary-com.ezproxy.lib.hkmu.edu.hk%2Fencyclopedia%3Fdocid%3Db-9781718209565" class="signup">Sign up Now</a></div>
			</div>
		</div>
		<div class="hidden-md hidden-lg signin-mob dropdown">
			<a class="dropdown-toggle login-text" data-toggle="dropdown" aria-expanded="true" href="javascript:;">
				<img src="/bloomsbury_assets/bloomsbury/images/signin.png" alt="Sign In" aria-label="Sign In Icon">			
				<img src="/bloomsbury_assets/bloomsbury/images/language_arrow.png" alt="Down Arrow" aria-label="Sign In Dropdown">	
			</a>
			<div class="dropdown-menu signin_dropdown_mob" role="menu">
				<h2 tabindex="0" aria-label="Sign in to your personal account"><a href="javascript:;" data-toggle="modal" data-target="#signin_modal" title="SignIn">Sign in</a> to your personal account</h2>										
				<ul role="menu" class="personalacc-help">	
										<h2 tabindex="0" aria-label="What is a Personal Account?">What is a Personal Account?</h2>
					<p id="header-persaccount" tabindex="0" aria-labelledby="header-persaccount">With a personal account, you can:</p>
					<li id="header-persacc-det1" tabindex="0" aria-labelledby="header-persacc-det1" role="menuitem">Save books, chapters, images or other items to view later</li>
					<li id="header-persacc-det2" tabindex="0" aria-labelledby="header-persacc-det2" role="menuitem">Organise your saved items into folders</li>
					<li id="header-persacc-det3" tabindex="0" aria-labelledby="header-persacc-det3" role="menuitem">Email and export citations</li>
										<li id="header-persacc-det4" tabindex="0" aria-labelledby="header-persacc-det4" role="menuitem">Save searches and receive search alerts</li>
										<li class="" id="header-persacc-det5" tabindex="0" aria-labelledby="header-persacc-det5" role="menuitem">Sign up for our newsletters</li>
									</ul>
				<div align="center" class="signup-btn"><a href="https://p13n-bloomsbury.highwire.org/register?return-url=https://www-humankineticslibrary-com.ezproxy.lib.hkmu.edu.hk%2Fencyclopedia%3Fdocid%3Db-9781718209565" class="signup">Sign up Now</a></div>
			</div>
		</div>
				</div>		</div>	</div>				<div class="btm-header">		<div class="container">						<div class="navbar-header"> 				<button aria-controls="bs-navbar" aria-expanded="false" class="collapsed navbar-toggle" data-target="#bs-navbar" data-toggle="collapse" type="button"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> 				</button>					<span class="navbar-brand zero-leftpad single-logo">						<a href="home"><img src="https://res.cloudinary.com/bloomsbury-publishing-public/image/upload/f_auto%2Cq_auto/hkl/Static/HKL_Logo.png" class="img-responsive" alt="Human Kinetics Library Logo" title="Human Kinetics Library Logo"></a>					</span>					<span class="navbar-brand single-logo">											</span>					<div class="hidden-md hidden-lg mob-search-icon">					<a href="javascript:;"><img src="/bloomsbury_assets/bloomsbury/images/search-icon-gray.png" class="img-responsive mob-search" aria-label="Search Button" tabindex="0"></a>				</div>					</div>									<nav class="collapse navbar-collapse arcadian-nav-menu" id="bs-navbar">				<span class="bpm-menu-close hidden-lg hidden-md">X</span>				<ul role="navigation" aria-label="Main" class="nav navbar-nav">								                    	<li class="" role="listitem"><a tabindex="0" aria-label="Home" href="/home" class="no-focus">Home</a></li><li class="dropdown " role="listitem"><a tabindex="0" href="#" data-toggle="dropdown" class="dropdown-toggle no-focus" aria-label="Explore By" aria-expanded="false">Explore By</a><ul class="dropdown-menu" role="list" aria-label="Explore By"><li role="presentation"><a role="listitem" tabindex="0" href="/taxonomy?id=sportandActivities" title="Sport / Activity" aria-label="Sport / Activity" class="no-focus">Sport / Activity</a></li><li role="presentation"><a role="listitem" tabindex="0" href="/taxonomy?id=topic" title="Topic" aria-label="Topic" class="no-focus">Topic</a></li></ul> </li><li class="dropdown " role="listitem"><a tabindex="0" href="#" data-toggle="dropdown" class="dropdown-toggle no-focus" aria-label="Browse Collections" aria-expanded="false">Browse Collections</a><ul class="dropdown-menu" role="list" aria-label="Browse Collections"><li role="presentation"><a role="listitem" tabindex="0" href="/healthcare-in-sport-and-exercise" title="Human Kinetics Health Care in Sport and Exercise" aria-label="Human Kinetics Health Care in Sport and Exercise" class="no-focus">Human Kinetics Health Care in Sport and Exercise</a></li><li role="presentation"><a role="listitem" tabindex="0" href="/category-list?docid=Ebooks" title="Browse All Ebooks" aria-label="Browse All Ebooks" class="no-focus">Browse All Ebooks</a></li><li role="presentation"><a role="listitem" tabindex="0" href="/category-list?docid=Video" title="Browse All Video" aria-label="Browse All Video" class="no-focus">Browse All Video</a></li></ul> </li><li class="dropdown " role="listitem"><a tabindex="0" href="#" data-toggle="dropdown" class="dropdown-toggle no-focus" aria-label="About" aria-expanded="false">About</a><ul class="dropdown-menu" role="list" aria-label="About"><li role="presentation"><a role="listitem" tabindex="0" href="/about-human-kinetics-library" title="About Human Kinetics Library" aria-label="About Human Kinetics Library" class="no-focus">About Human Kinetics Library</a></li><li role="presentation"><a role="listitem" tabindex="0" href="/editorial-advisory-board" title="Editorial Advisory Board" aria-label="Editorial Advisory Board" class="no-focus">Editorial Advisory Board</a></li><li role="presentation"><a role="listitem" tabindex="0" href="/featured-content" title="Featured Content" aria-label="Featured Content" class="no-focus">Featured Content</a></li><li role="presentation"><a role="listitem" tabindex="0" href="/reviews" title="Reviews" aria-label="Reviews" class="no-focus">Reviews</a></li><li role="presentation"><a role="listitem" tabindex="0" href="/about-human-kinetics" title="About Human Kinetics" aria-label="About Human Kinetics" class="no-focus">About Human Kinetics</a></li></ul> </li><li class="" role="listitem"><a tabindex="0" aria-label="Librarians" href="/librarians" class="no-focus" style="background-image: none;">Librarians</a></li>                    							</ul>			</nav>					</div>			</div>		<div class="clearfix"></div></header></div>
<div class="modal fade" id="session-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-backdrop="static" data-keyboard="false">
    <div class="vertical-alignment-helper">
		<div class="modal-dialog session-modal vertical-align-center" role="document">
			<div class="modal-content">
				<div class="modal-body">
										 	<h2>Alert</h2>
						<p id="session-prompttext">Your session is about to expire! You will be signed out in </p>
						<div id="time" class="text-center session-time">10:00</div>
						<p id="session-promptconfirm" tabindex="0" aria-labelledby="session-promptconfirm"> Do you wish to stay signed in?  </p>
						<input type="button" value="Yes, keep me signed in" class="primary_btn clear-btn" id="session-login">
						<input type="button" value="No, sign me out" id="session-logout" class="secondary_btn">
									</div>
			</div>
		</div>
	</div>	
</div>

            
            

<script type="text/javascript">
    function search(request, response) {
	var siteName="hklp";
    var langCode ="en";     
	var country = "HK";
	searchContent = request.term.replace("/", "~");
	    var predicitivexmlreq = new XMLHttpRequest();
	 
        predicitivexmlreq.open("GET","/api/searchresult/searchPredictive/"+searchContent+"/"+siteName+"/"+langCode+"/"+country,true);
 
		
        predicitivexmlreq.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        predicitivexmlreq.send();
	    predicitivexmlreq.onreadystatechange = function() {
        if (predicitivexmlreq.status == 200 ) {
            if(searchContent.replace(/\s/g, "").length>2) {
                var predicitivedata = predicitivexmlreq.response;
                var predicitivedataString = jQuery.parseJSON(predicitivedata);
            }else{
		        predicitivedataString="";
            }
		    response(predicitivedataString);
			 
            }
        }
    }
 
  $(document).ready(function() {
    try {
	$("#global_searchbox").autocomplete({
	    source: search,
        minLength: 1,
        select: function( event, ui ) {
            showProgress();
            localStorage.setItem("selectedCheckBoxItem", null);
            localStorage.setItem("EnabledCheckBoxs",false);
            var text=ui.item.value;
            if(text.trim().length>0){
                var url=window.location.protocol+'//'+window.location.host+'/search-results?any='+text;
                window.location.href=url;
            }
        },
        open: function (event, ui) {
            if (navigator.userAgent.match(/(iPod|iPhone|iPad)/)) {
                $('.ui-autocomplete').off('menufocus hover mouseover mouseenter');
            }
        }
	});
	$.ui.autocomplete.prototype._renderItem = function (ul, item) {
	item.label = item.label.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)(" + $.ui.autocomplete.escapeRegex(this.term) + ")(?![^<>]*>)(?![^&;]+;)", "gi"), "<strong>$1</strong>");
	return $("<li></li>")
                    .data("item.autocomplete", item)
                    .append("<a>" + item.label + "</a>")
                    .appendTo(ul);
    };

    $(document).on('touchstart', '.ui-autocomplete a',function(e){
        $("#global_searchbox").data('ui-autocomplete')._trigger('select', 'autocompleteselect', {item:{value:$(this).text()}});
    });

    } catch (e) {}
  });

</script>





<div class="search" style="text-align: left; background: none;">
	<div class="container">
		<div class="advanced_keyboard">
							<input type="text" name="search_text" id="global_searchbox" title="Enter text to search" placeholder="Search Human Kinetics Library Platform" value="" autocomplete="off" class="ui-autocomplete-input">
			            			<input id="global_searchbtn" type="submit" class="disabled-btn" title="Search Icon">		</div>
                    <div class="advanced_search playsearch-find">
							<div class="flex-col">
                                    <a href="/advanced-search" title="Advanced Search">Advanced Search</a>
                                								</div>
            </div>
        	</div>
   <!--search ends-->
</div>



<script>
    $("#global_searchbox").on("change", function(){
        if ($(this).val().length > 0) {
            $("#global_searchbtn").removeClass('disabled-btn');
        } else {
            $("#global_searchbtn").addClass('disabled-btn');
        }
    });
</script>		

    

	
				



			

<script type="text/javascript">
	$(document).ready(function(){
		var navigationList = $("header li.dropdown");
		navigationList.each(function(){
			var dropdownList = $(this).find(".dropdown-menu li");
			if (dropdownList.length == 0) {
				$(this).addClass('hide');
			}
		});
		$("header nav>ul>li:visible:last a").css("background-image", "none");
	});
</script>




	<div class="container oops hide error-div" id="error-div">
	<div class="row">
		<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
			<div class="error-oops">
				<p tabindex="0" aria-labelledby="lorem-dummy" class="text-center">We're sorry, but that page cant be found.</p>
				<p tabindex="0" aria-labelledby="lorem-dummy" class="text-center">Please visit our Home page or try using the Search, Explore or Browse links above to find what you are looking for.</p>
			</div>				
			<img src="/bloomsbury_assets/hklp/images/error_img.png" class="img-responsive" alt="Error Image" tabindex="0">
		</div>
	</div>
</div>	<div class="row mt30 page_minheight hide" id="territory-restricted">
	<div class="col-lg-8 col-lg-pull-2 col-md-8 col-md-pull-2 col-sm-8 col-sm-pull-2 col-xs-8 col-xs-pull-2 conent_locked">
		<h5>Content Unavailable</h5>
		<p>This content is not available for display due to rights reasons.
		</p>
	</div>
</div>	<script language="javascript">
var contenttype = {
    init: function(options) {
        var self = this;
        this.type = options.type;
        this.docid = options.docid;
        this.tocid = options.tocid;
                this.actid = "";
                this.dispName = options.dispName;
        this.title = $("#title");
        this.login = $("#login");
        this.articleRight = $(".article_right");
        this.mainContainer = $('.content_container,.screenplay_content');
        this.mainArticleContainer = $('.container.article_template');
        this.buyItem = $("#buy-item");
        this.buyLeft = $("#buy-left");
        this.downloadtable = $(".table-download");
        this.downloadimage = $(".image-download");
        this.tablemodal = $("#table-modal");
        this.imagemodal = $("#image-download-modal");
                        this.imageRight = $(".image_right");
                                        this.searchencbtn = $("#srch-enc-btn");
        this.searchencinput = $("#srch-enc");
                        this.truncateContainer = $(".desc-museum-truncation");
        this.buildingGallery = $(".building_galley");
        this.titleTrunk = $(".title_trunk");
        this.authorTrunk = $(".author_trunk");
        this.popoverHide = $('.cat_tab2, #vol-originalTitle');
        this.accordianPanel = $('#accordion-panel');
        this.gotopagebtn = $('#goto_pagenobtn');
        this.gotopageinput = $('#goto_pageno');
                                this.squidFlag = true;
                this.contentImageSlider = $(".playtext-image-slider");
                try {
            this.setTitle();
            this.setMainHeadingForScreenReader();
            if (this.login.length > 0) {
                this.setLoginLink();    
            }
            relatedContent(options.relid, options.lang, options.site, options.type, options.territory, this);
                                    if (options.clientLocation) {
                this.toggleBuyButton(options.clientLocation);
            }
                                    this.pageNumbersInit();
                                                                                                            this.getViewAndDownloadCount();
                                    this.showStudioContent();
                                    this.imageDownloadEnable();
                        this.truncateDescription();
                        this.addResponsiveImageClass();
            viewmoreLink();
                        $.cloudinary.responsive();
            this.subjectsviewmore();
                                    this.externalLinkAlert();
                                    this.initGlossaryPopup();
            this.viewMoreToC();
                        this.addListenerForPrintDownload();
            this.showRecentlyViewed();
            setTimeout(function(){
                self.doHashScroll();
            }, 1000);
                                                this.createPdf();
                        //this.createFrame();
                                    this.bindDocumentPageEventListeners();
                                                                        this.initAuthorBioPopup();
            if (this.contentImageSlider.length > 0) {
                this.loadImageSlider();
            }
            this.imageViewerFullScreenKeyup();
            this.imageViewerControlIconsFocus();
                                                this.sendCounterData();
            this.loadStarJS();
                                    this.sendSquidData();
                                                this.registerRecentlySquidEvents();
            this.registerReferenceSquidEvents();
                                    this.removeDownloadIcon();
                        			             
        } catch (err) {
            console.log("Error in init function::", err);
        }
    },
    getHtmlContent: function(contentType, cachetype) {
        try {
            var self = this;
            var lang = 'en';
                        var privacyPolicy = "";
                                    var docId = "b-9781718209565";
                                    var tocId = "";
                        var relId = tocId;
            var studioId = "";
                        tocId = docId;
            relId = docId;
                                    var site = 'hklp';
            var territoryFlag = true;        
                        var data = {
                tocId : tocId,
                contentType : contentType,
                docId : docId,
                cachepagetype : cachetype,
                privacyPolicy :privacyPolicy,
                debug : ""
            };
                        data.sourceXML = "hklp/29/content-types/encyclopedia/9781718209565_txt_xml.xml";
                                    data.sourceXSL = "/content-types/encyclopedia/volume.xsl";
                                    data.lang = "en";
                                    data.hideDetail = "";
                                    data.pgno = "";
                                    data.partid = "";
                                    data.docIdS = "b-9781718209565";
                                    data.docIdF = "b-9781718209565";
                                                                        var expr = /^[a-zA-Z0-9-_.]+$/;
            var docIdSanity = docId?expr.test(docId): true;
            var tocIdSanity = tocId?expr.test(tocId): true;
            if (docIdSanity && tocIdSanity) {
                showAjaxLoader('#mycontent');
                $.ajax({
                    url: "/app/gethtmlcontent",
                    type: 'POST',
                    data: data,
                    success: function(responseText, status, xhr) {
                        hideProgress();
                        hideAjaxLoader('#mycontent');
                                                if (~responseText.indexOf("territory-restricted")){
                            territoryFlag = false;
                        }
                                                if (responseText && xhr.status == 200 && territoryFlag) {
                            $('#mycontent').append(responseText);
                            $('.emptytest').remove();
                            var options = {
                                docid: docId,
                                tocid: tocId,
                                type: contentType,
                                dispName: "Human Kinetics Library Platform",
                                relid: relId,
                                lang: lang,
                                site: site,
                                territory: "HK",
                                cache: cachetype,
                                clientLocation: "HK",
                                pageLink: "/encyclopedia?docid=b-9781718209565",
                                actid: "$actId",
                                studioid: studioId
                            }
                            self.init(options);
                        } else if (!territoryFlag) {
                            $('#mycontent').addClass('hide');
                            $('#territory-restricted').removeClass('hide');
                        } else {
                            $('#mycontent').addClass('hide');
                            $('#error-div').removeClass('hide');
                        }
                    },
                    error: function(error) {
                        hideProgress();
                        hideAjaxLoader('#mycontent');
                        $('#mycontent').addClass('hide');
                        $('#error-div').removeClass('hide');
                    }
                });
            } else {
                $('#mycontent').addClass('hide');
                $('#error-div').removeClass('hide');
            }
                    } catch (err) {
            console.log("Error in getHtmlContent function::", err);
        }
    },
    bindDocumentPageEventListeners: function() {
        var self = this;
        try {
            $(document).on('keydown', this.printPreview);
            $("#print_page_pre").on('click' , function(e) {self.showPrintDialog(e, self)});
            this.downloadtable.on('click', function(e) {self.showTableModal(e, self, this)});
            this.downloadimage.on('click',  function(e) {self.showImageModal(e, self, this)});
            this.imagemodal.on('hidden.bs.modal', this.onHiddenImageModal);
            this.tablemodal.on('hidden.bs.modal', this.onHiddenTableModal);
            this.tablemodal.on('shown.bs.modal', function() {self.onShowTableModal(self, this)});
            this.imageRight.on("load", function(){self.imageCaptionWidth()});
                                                            this.searchencbtn.on('click', function(e) {self.searchWithinEnc(self)});
            this.searchencinput.on('keyup', function(e) {self.searchWithinEncInputKeyup(e, self)});
                                                            this.bindDocumentCollapseEvents();
            this.accordianPanel.off().on('keypress click', this.accordianPanelCollapseAll);
            this.gotopagebtn.on('click', this.goToPageClick);
            this.gotopageinput.on('keyup', this.goToPageKeyUp);
                    } catch (err) {
            console.log("Error in bindDocumentPageEventListeners function::", err);    
        }
    },
    removeDownloadIcon: function() {
        $('#collapseAbstractExtract a').attr("style","pointer-events:none; color: black !important");
        $('#collapseAbstractExtract a .footnote').remove();
        $('#collapseAbstractExtract a.accordion-toggle').css({"pointer-events":"auto"});
        $('#collapseAbstractExtract p').last().append("...");
        var openAcc = $(".open-access").length;
        var loggedIn = "true";
        if(openAcc > 0){
            if(loggedIn=="true"){
                $("#download").parent().removeClass("hide");
            } else {
                if(openAcc > 0) {
                    $("#download").parent().removeClass("hide");
                } else{
                    $("#download").parent().addClass("hide");    
                }
            }
        } else{
            if(loggedIn!="true") {
                  $("#download").parent().addClass("hide");
            }    
        }
    },
        toggleBuyButton: function(clientLocation){
        try {
            if (this.buyItem.length > 0) {
                var buyItemCountry = "#buy-item-"+clientLocation;
                if ($(buyItemCountry).length > 0 || $("#buy-item-default").length > 0) {
                    var buyLink = $(buyItemCountry).val() || $("#buy-item-default").val();
                      this.buyItem.attr("href", buyLink);
                    this.buyItem.attr("target", "_blank");
                    var buyItemText = buyLink.replace(/^(?:https?:\/\/)?(?:www\.)?/i, '');
                    this.buyItem.text(buyItemText);
                    this.buyItem.parent().removeClass('hide');
                    this.buyItem.parent().prev().removeClass('hide');
                    this.buyLeft.removeClass('hide');
                } else {
                    this.buyItem.attr("href", "javascript:void(0);");
                    this.buyItem.removeAttr("target");
                    this.buyItem.text("");
                    this.buyItem.parent().addClass('hide');
                    this.buyItem.parent().prev().addClass('hide');
                    this.buyLeft.addClass('hide');
                }
            }
        } catch (err) {
            console.log("Error in toggleBuyButton function::", err);    
        }
    },
        printPreview: function(e) {
        try {
            var isMac = navigator.platform.indexOf('Mac') >= 0;
            var isWin = navigator.platform.indexOf('Win') >= 0;
            if (e.keyCode == 80 && ((e.ctrlKey && isWin) || (e.metaKey && isMac))) {
                e.preventDefault();
                $("#print_page_pre").click();
            }
        } catch (err) {
            console.log("Error in printPreview function::", err);    
        }
    },
    showPrintDialog: function(e , self) {
        try {
            if ($("#printFrame").length == 0) {
                $("#print-dialog").modal("show");
                self.createFrame();
            } else {
                $("#print_page").click();
            }
        } catch (err) {
            console.log("Error in showPrintDialog function::", err);    
        }
    },
    createArticleReference: function() {
        try {
            this.mainContainer.find('a').each(function(){
                  if ($(this).attr('href') && $(this).is(':visible') && !$(this).attr('id') && 
                      (!$(this).attr('class') || $(this).attr('class') == "link")) {
                      if($(this).attr('href').charAt(0) != "#"  && !~$(this).attr('href').indexOf('javascript')) {
                          $(this).addClass('article-reference-link');    
                      }
                  }
              });
        } catch (err) {
            console.log("Error in createArticleReference function::", err);    
        }
    },
    externalLinkAlert: function() {
        try {
            this.mainArticleContainer.find('a').each(function(){
                  if ($(this).attr('href') && !$(this).hasClass('links-toc')) {
                      if ((~$(this).attr('href').indexOf('http:') || ~$(this).attr('href').indexOf('https:')) &&
                       !~$(this).attr('href').indexOf(window.location.host)) {
                          $(this).addClass('confirmModal');
                          $(this).attr('target', '_blank');
                      }
                }
              });
        } catch (err) {
            console.log("Error in externalLinkAlert function::", err);    
        }
    },
    processPageIndicators: function (self) {
        try {
            $('span.page-indicator').remove();
            var container = self.mainContainer;
                        container.find("a.page-indicator").each(function() {
                var width = container.offset().left + container.outerWidth() - $(this).offset().left;
                var pagenum = $(this).attr('data-value');
                if (pagenum != undefined && pagenum != '') {
                    var span = '<span class="page-indicator" style="width:'+(width+20)+
                    'px;visibility:hidden"><span class="page-numbers">'+pagenum+'</span></span>';
                    $(span).insertAfter(this);
                }            
            });
        } catch (err) {
            console.log("Error in processPageIndicators function::", err);    
        }
    },
    removeUnwantedPageNumbers: function() {
        try {
            $('.table_of_content a.page-indicator,#table_content a.page-indicator').each(function(){
                  var tocParent = $(this).parent();
                  if(tocParent) {
                      $(this).remove();
                      var tocText = tocParent.text();
                      var childClone = tocParent.find('a').children().clone();
                      tocParent.find('a').empty().append(childClone).append(tocText);
                      var cloneElement = tocParent.find('a').clone();
                      tocParent.empty().append(cloneElement);
                  }
              });
              $('#table_content a.page-indicator').remove();
             $(".titlepage .title .page-num, .breadcrumb span, .title-section span,"+
                 " .table_contents span, #title span, .breadcrumb a, .title-section a, #title a").each(function(){
                  if($(this).hasClass('page-indicator')){
                      $(this).remove();
                  }
              });
              $(".titlepage .title .page-num, .breadcrumb span, .title-section span, .table_contents span, .blockquote .page-indicator")
              .removeClass("page-indicator").find(".page-numbers").remove();
              $(".breadcrumb span.page-numbers, .title-section span.page-numbers, .table_contents span.page-numbers").addClass('hide');
          } catch (err) {
            console.log("Error in removeUnwantedPageNumbers function::", err);    
        }
    },
    pagenumbermouseenter: function() {
        try {
            $('.content-section span.page-indicator').css('visibility', 'visible');
        } catch (err) {
            console.log("Error in pagenumbermouseenter function::", err);    
        }
    },
    pagenumbermouseleave: function() {
        try {
            $('span.page-indicator').css('visibility', 'hidden');
        } catch (err) {
            console.log("Error in pagenumbermouseleave function::", err);    
        }
    },
    registerPageNumberEvents: function() {
        try {
            $('.content_container p,.drama-content').on('mouseenter', this.pagenumbermouseenter);
            $('.content_container p,.drama-content').on('mouseleave', this.pagenumbermouseleave);
        } catch (err) {
            console.log("Error in registerPageNumberEvents function::", err);    
        }
    },
    removePageNumbersPostInit: function() {
        try {
            var container = this.mainContainer;
            this.mainContainer.find("a.page-indicator").each(function() {
                if ($(this).next().is('span') && $(this).next().hasClass('page-indicator')) {
                    if ($(this).next().next().is('a') && $(this).next().next().hasClass('page-indicator')) {
                        var width = $(this).offset().left;
                        var top = $(this).offset().top;
                        var adjacent = $(this).next().next();
                        var adjacentWidth = adjacent.offset().left;
                        var adjacentTop = adjacent.offset().top;
                        if (top == adjacentTop) {
                            $(this).remove();
                        }
                    }
                }    
            });
        } catch (err) {
            console.log("Error in removePageNumbersPostInit function::", err);    
        }
    },
    processPageIndicatorsForResize: function() {
        try {
            var self = this;
            $(window).resize(function() {
                self.processPageIndicators(self);
            });
        } catch (err) {
            console.log("Error in processPageIndicatorsForResize function::", err);    
        }
    },
    pageNumbersInit: function() {
        try {
            this.removeUnwantedPageNumbers();
            this.processPageIndicators(this);
            this.processPageIndicatorsForResize();
            this.registerPageNumberEvents();
            this.removePageNumbersPostInit();
        } catch (err) {
            console.log("Error in pageNumbersInit function::", err);    
        }
    },
    createDownloadFileForTable: function(table) {
        try {
            var tableArray = [];
            var offset = 0;
            var offsetColumn = 0;
            var offsetRow = 0;    
            table.find('table thead tr').each(function(index){
                var tableHead = [];
                var rowpos = index;
                $(this).find('th').each(function(headIndex){
                    var tableObject = {};
                    var colpos = headIndex;
                    tableObject.text = $(this).text().trim();
                    tableObject.colspan = $(this).attr('colspan')?$(this).attr('colspan'):"1";
                    tableObject.rowspan = $(this).attr('rowspan')?$(this).attr('rowspan'):"1";
                    if (parseInt(tableObject.rowspan) > 1) {
                        offset = parseInt(tableObject.rowspan) - 1;
                        offsetColumn = headIndex;
                        offsetRow = index;
                    }
                    tableObject.style = [];
                    if ($(this).attr('align')) {
                        var alignment = {};
                        alignment.name = "align";
                        alignment.value = $(this).attr('align');
                        tableObject.style.push(alignment);
                    }
                    var font = {};
                    font.name = "font-weight";
                    font.value = "bold";
                    tableObject.style.push(font);
                    tableObject.headingrow = true;
                    tableObject.rowpos = rowpos;
                    if (index > offsetRow && index <= offsetRow + offset) {
                        tableObject.colpos = colpos + offset;    
                    } else {
                        tableObject.colpos = colpos;
                    }
                    tableHead.push(tableObject);
                });
                tableArray.push(tableHead);
            });
            var headerLength = tableArray.length;
            table.find('table tbody tr').each(function(index){
                var tableRow = [];
                var rowpos = index + headerLength;
                $(this).find('td').each(function(headIndex){
                    var tableObject = {};
                    var colpos = headIndex;
                    tableObject.text = $(this).text().trim();
                    tableObject.colspan = $(this).attr('colspan')?$(this).attr('colspan'):"1";
                    tableObject.rowspan = $(this).attr('rowspan')?$(this).attr('rowspan'):"1";
                    tableObject.style = [];
                    if ($(this).attr('align')) {
                        var alignment = {};
                        alignment.name = "align";
                        alignment.value = $(this).attr('align');
                        tableObject.style.push(alignment);
                    }
                    tableObject.rowpos = rowpos;
                    tableObject.colpos = colpos;
                    tableObject.headingrow = false;
                    tableRow.push(tableObject);
                });
                tableArray.push(tableRow);
            });
            return tableArray;
        } catch (err) {
            console.log("Error in createDownloadFileForTable function::", err);    
        }
    },
    callTableServlet: function(table, title, caption) {
        try {
            var currentDate = new Date();
            var timeStamp = currentDate.getTime();
            var documentKey = this.docid;
            var requestJSON = {tableData:table,key:documentKey+"-"+timeStamp};
            if (title) {
                requestJSON.tableheading = title;
            }
            if (caption) {
                requestJSON.tableCaption = caption;
            }
            $.ajax({
                url: "/app/downloadtable",
                data: JSON.stringify(requestJSON),
                contentType: "application/json",
                type: "POST",
                success: function(e) {
                    $("#download-table").removeClass('disabled-btn');
                    $("#download-table").attr('href', "/app/downloadtable?key="+documentKey+"-"+timeStamp);
                    $("#download-table").attr('download', this.docid+".csv");
                },
                error: function(e) {
                    hideProgress();
                }
            });
        } catch (err) {
            console.log("Error in callTableServlet function::", err);    
        }
    },
    showTableModal: function(e, self, element) {
        try {
            var targetElement = e.target;
            if (!$(targetElement).hasClass('footnote')) {
                self.tablemodal.find(".table-content").append($(element).html());
                self.tablemodal.modal("show");
                self.tablemodal.find(".footnote").remove();
            }
        } catch (err) {
            console.log("Error in showTableModal function::", err);    
        }
    },
    showImageModal: function(e, self, element) {
        try {
            var targetElement = e.target;
            if (!$(targetElement).hasClass('footnote')) {
                $(element).find('img').clone().appendTo("#image-download-modal .table-content");
                if ($(element).find('div.title').length > 0) {
                    $(element).find('div.title:first').clone().appendTo("#image-download-modal .table-content");    
                }
                self.imagemodal.modal("show");
            }
        } catch (err) {
            console.log("Error in showImageModal function::", err);    
        }
    },
    onHiddenImageModal: function() {
        try {
            $(this).find(".table-content").empty();
        } catch (err) {
            console.log("Error in onHiddenImageModal function::", err);    
        }
    },
    onHiddenTableModal:function() {
        try {
            $(this).find(".table-content").empty();
            $(this).find("#download-table").addClass('disabled-btn');
            $(this).find("#download-excel-table").addClass('hide');
            $(this).find("#download-excel-table").removeAttr('href');
        } catch (err) {
            console.log("Error in onHiddenTableModal function::", err);    
        }
    },
    onShowTableModal: function(self, element) {
        try {
            var tableArray = self.createDownloadFileForTable($(element));
            var tableTitle = $(element).find(".title").length>0?$(element).find(".title").text().trim():"";
            var tableCaption = $(element).find(".caption").length>0?$(element).find(".caption").text().trim():"";
            self.callTableServlet(tableArray, tableTitle, tableCaption);
        } catch (err) {
            console.log("Error in onShowTableModal function::", err);    
        }
    },
        registerRelatedSquidEvents: function() {
        var self = this;
        try {
            $('#related_content .category_cont a').on('click', function(e){
                var refLink = $(this).attr('href');
                window.refLink = refLink;
                e.preventDefault();
                var params = refLink.split('?');
                var documentLink;
                if (params[1]) {
                    documentLink = params[1].split('&')[0].split('=')[1];
                }
                squidCall("Related Content", 'Left Panel', refLink);
            });
        } catch (err) {
            console.log("Error in registerRelatedSquidEvents function::", err);    
        }
    },
    registerRecentlySquidEvents: function() {
        var self = this;
        try {
            $('#recently_viewed .category_cont a').on('click', function(e){
                var refLink = $(this).attr('href');
                window.refLink = refLink;
                e.preventDefault();
                var params = refLink.split('?');
                var documentLink;
                if (params[1]) {
                    documentLink = params[1].split('&')[0].split('=')[1];
                }
                squidCall("Recently Viewed", 'Left Panel', refLink);
            });
        } catch (err) {
            console.log("Error in registerRecentlySquidEvents function::", err);    
        }
    },
    registerReferenceSquidEvents: function() {
        var self = this;
        try {
            $('.article-reference-link').on('click', function(e){
                var refLink = $(this).attr('href');
                var target = $(this).attr('target');
                var params = refLink.split('?');
                if (target != "_blank") {
                    window.refLink = refLink;
                    e.preventDefault();
                }
                var documentLink;
                if (params[1]) {
                    documentLink = params[1].split('&')[0].indexOf('docid') > -1 ? params[1].split('&')[0].split('=')[1] : refLink;
                }
                squidCall("Reference", 'Content Body', refLink);
            });
        } catch (err) {
            console.log("Error in registerReferenceSquidEvents function::", err);
        }
    },
                imageCaptionWidth: function() {
        try {
            $(this).parent().find('.image_caption').css('width',$(this).width());
        } catch (err) {
            console.log("Error in imageCaptionWidth function::", err);
        }
    },
    toggleSearchWithinButton: function(btn, input){
        try {
            if (input.val().trim().length > 0) {
                btn.removeClass("disabled-btn");
            }
            else {
                btn.addClass("disabled-btn");
            }
        } catch (err) {
            console.log("Error in toggleSearchWithinButton function::", err);
        }
    },
                    searchWithinEnc: function(self) {
        try {
            if(!self.searchencbtn.hasClass('disabled-btn')) {
                var searchVal = self.searchencinput.val();
                var workId = $('#workid').val();
                var title = $('#workTitle').val();
                var docId = '';
                if($("#docid").length>0 ){
                    docId = $('#docid').val();
                }
                if (searchVal) {
                    title = title.split("&").join("~~");
                    var url = "/encyclopedia-search?searchterm=" + searchVal + '&workid=' + workId + '&title=' + title;
                    if(docId != ''){
                        url = url + '&docid=' + docId;
                    }
                    window.location.href = url;
                }
            }
        } catch (err) {
            console.log("Error in searchWithinEnc function::", err);
        }
    },
    searchWithinEncInputKeyup: function(e, self) {
        try {
            self.toggleSearchWithinButton(self.searchencbtn, self.searchencinput);
            if (e.keyCode == 13) {
                self.searchWithinEnc(self);
            }
        } catch (err) {
            console.log("Error in searchWithinEncInputKeyup function::", err);
        }
    },
            truncateDescription: function() {
        try {
            this.truncateContainer.each(function () {
                var descript = $(this);
                count = $(this).attr('count')?$(this).attr('count'):"220";
                count = isNaN(parseInt(count))?220:parseInt(count);
                var message=$(this).attr('message')?$(this).attr('message'):"Read More";
                var messageLess=$(this).attr('message-less')?$(this).attr('message'):"View Less";
                $(this).truncate({max_length:count, more:message, less:messageLess});
            });
        } catch (err) {
            console.log("Error in truncateDescription function::", err);    
        }
    },
    addResponsiveImageClass: function() {
        try {
            this.articleRight.find('img').addClass('img-responsive');
        } catch (err) {
            console.log("Error in addResponsiveImageClass function::", err);    
        }
    },
    bindDocumentCollapseEvents: function() {
        try {
            this.articleRight.find(".collapse").on("shown.bs.collapse", function (e) {
                if ($('.panel-collapse').hasClass('parent-accordion')) {
                    e.stopPropagation();
                    $(this).prev().find(".glyphicon-plus").removeClass("glyphicon-plus").addClass("glyphicon-minus").attr('title', 'Collapse');
                    accordianaction($('.parent-accordion'));
                } else if($('.panel-collapse').hasClass('catalogue-table')){
                    $(this).prev().find(".glyphicon-plus").removeClass("glyphicon-plus").addClass("glyphicon-minus").attr('title', 'Collapse');
                } else {
                    $(this).parent().find(".glyphicon-plus").removeClass("glyphicon-plus").addClass("glyphicon-minus").attr('title', 'Collapse');
                    accordianaction($('.panel-collapse'));
                }
                $(this).parent().find(".panel-title .panel-title-text").text('HIDE SECTIONS');
                truncateAltAuth();
            }).on("hidden.bs.collapse", function (e) {
                if ($('.panel-collapse').hasClass('parent-accordion')) {
                    e.stopPropagation();
                    $(this).prev().find(".glyphicon-minus").removeClass("glyphicon-minus").addClass("glyphicon-plus").attr('title', 'Expand');
                    accordianaction($('.parent-accordion'));
                } else if($('.panel-collapse').hasClass('catalogue-table')){
                    $(this).prev().find(".glyphicon-minus").removeClass("glyphicon-minus").addClass("glyphicon-plus").attr('title', 'Expand');
                } else {
                    $(this).parent().find(".glyphicon-minus").removeClass("glyphicon-minus").addClass("glyphicon-plus").attr('title', 'Expand');
                    accordianaction($('.panel-collapse'));
                }
                $(this).parent().find(".panel-title .panel-title-text").text('VIEW SECTIONS');
            });
            $('#table_content, .ency-toc').find(".collapse").on("shown.bs.collapse", function (e) {
                e.stopPropagation();
                $(this).parent().children().eq(0).find(".glyphicon-plus").removeClass("glyphicon-plus").addClass("glyphicon-minus").attr('title', 'Expand');
            }).on("hidden.bs.collapse", function (e) {
                e.stopPropagation();
                $(this).parent().children().eq(0).find(".glyphicon-minus").removeClass("glyphicon-minus").addClass("glyphicon-plus").attr('title', 'Collapse');
            });
            $('.article_left').find(".collapse").on("shown.bs.collapse", function (e) {
                $(this).parent().find(".glyphicon-plus").removeClass("glyphicon-plus").addClass("glyphicon-minus").attr('title', 'Collapse');
                accordianaction($('.panel-collapse'));
            }).on("hidden.bs.collapse", function (e) {
                $(this).parent().find(".glyphicon-minus").removeClass("glyphicon-minus").addClass("glyphicon-plus").attr('title', 'Expand');
                accordianaction($('.panel-collapse'));
            });
        } catch (err) {
            console.log("Error in bindDocumentCollapseEvents function::", err);    
        } 
    },
    accordianPanelCollapseAll: function(e) {
        try {
            if (e.type === "click" || e.keyCode === 13) {
                var title = $(this).children('span').text();
                var collapsetext=$('#collapseallsec').val();
                var expandtext=$('#expandallsec').val();
                if($('.taxonomy_alphabets').length>0){
                    $(".taxonomy_alphabets li a").parent().children().removeClass("active");
                }
                if (title == collapsetext) {
                    $('.accordion-toggle').addClass('collapsed').attr('aria-expanded', 'false');
                    $('.panel-collapse:not(.child-panel)').removeClass('in').attr('aria-expanded', 'false');
                    $(this).children('span').text(expandtext);
                    $('.glyphicon:not(.child-toggle-icon)').removeClass("glyphicon-minus").addClass("glyphicon-plus").attr('title', 'Collapse');
                } else {
                    $('.accordion-toggle').removeClass('collapsed').removeAttr('aria-expanded');
                    $('.panel-collapse:not(.child-panel)').addClass('in').removeAttr('aria-expanded').css('height', 'auto');
                    if ($('#accordion0').hasClass('hide')) {
                        $('#collapseZero').removeClass('in').attr('aria-expanded', 'false');
                    }
                    $(this).children('span').text(collapsetext);
                    $('.glyphicon:not(.child-toggle-icon').removeClass("glyphicon-plus").addClass("glyphicon-minus").attr('title', 'Expand');
                }
            }
        } catch (err) {
            console.log("Error in accordianPanelCollapseAll function::", err);    
        }  
    },
    catalogueDescReadMore: function(){
        try{
            $('#catalogue-content').find('.catalogue_more').each(function () {
                if($(this).find('p').length > 1 ) {
                        if($(this).find('p:first').height() > 125) {
                            $(this).find('p:first').addClass('content-height');
                        }
                        $(this).find('p').not(":first").addClass('hide');
                        $(this).append('<a href="javascript:void(0)" class="more-results pull-right" data-more="read more..." data-less="...read less" '+
                                'id="catalogue_readmore">read more...</a>');
                }else {
                    if($(this).find('p').height() > 125) {
                        $(this).find('p').addClass('content-height');
                        $(this).append('<a href="javascript:void(0)" class="more-results pull-right" data-more="read more..." data-less="...read less" '+
                                'id="catalogue_readmore">read more...</a>');
                    }
                }
            });
            this.catalogDescReadMoreReadLess();
        }catch(ex) {
            console.log("Error in catalogueDescReadMore function::", ex);  
        }
        
    },
    catalogDescReadMoreReadLess: function() {
        try {
            $(document).on('click', '#catalogue_readmore', function() {
                var type = $(this).attr('data-type');
                var category = '.category_cont';
                if (type == 'media') {
                    category = '.multimedia-thumb';
                }
                if($(this).hasClass('more-results')){
                    $(this).parent().find(category).removeClass('hide');
                    $(this).removeClass('more-results');
                    $(this).text($(this).attr('data-less'));
                    if (type != 'media') {
                        $(this).prev().removeClass('content-height');
                        $(this).parent().find('p:first').removeClass("content-height");
                        $(this).parent().find('p').not(':first').removeClass("hide");
                    }
                } else {
                    $(this).text($(this).attr('data-more'));
                    $(this).addClass('more-results');
                    $(this).parent().find(category).each(function(index) {
                        if(index > 4) {
                            $(this).addClass('hide');
                        }
                    });
                    if (type != 'media') {
                        $(this).prev().addClass('content-height');
                        $(this).parent().find('p:first').addClass("content-height");
                        $(this).parent().find('p').not(':first').addClass("hide");
                    }
                }
            });
        } catch (err) {
            console.log("Error in registerviewMore function::", err);    
        }
    },
    subjectsviewmore: function() {
        try {
            $('.article_left .category_more').each(function () {
                if ($(this).find('p').height() > 125) {
                    $(this).find('p').addClass('content-height');
                    $(this).append('<a href="javascript:void(0)" class="more-results" data-more="More..." data-less="...Less" '+
                        'id="contenttype_more">More...</a>');
                }
            });
            this.registerviewMore();
        } catch (err) {
            console.log("Error in subjectsviewmore function::", err);    
        }
    },
    registerviewMore: function() {
        try {
            $(document).on('click', '.article_left .category_more a.more-results, #contenttype_more', function() {
                var type = $(this).attr('data-type');
                var category = '.category_cont';
                if (type == 'media') {
                    category = '.multimedia-thumb';
                }
                if($(this).hasClass('more-results')){
                    $(this).parent().find(category).removeClass('hide');
                    $(this).removeClass('more-results');
                    $(this).text($(this).attr('data-less'));
                    if (type != 'media') {
                        $(this).prev().removeClass('content-height');
                        $(this).closest('#related_content').addClass('border-related');
                        $(this).closest('#catalogue-content').addClass('border-related');
                    }
                }else {
                    $(this).text($(this).attr('data-more'));
                    $(this).addClass('more-results');
                    $(this).parent().find(category).each(function(index) {
                        if(index > 4) {
                            $(this).addClass('hide');
                        }
                    });
                    if (type != 'media') {
                        $(this).closest('#related_content').removeClass('border-related classname2');
                        $(this).closest('#catalogue-content').removeClass('border-related classname2');
                        $(this).prev().addClass('content-height');
                    }
                }
            });
        } catch (err) {
            console.log("Error in registerviewMore function::", err);    
        }
    },
    viewMoreToC: function() {
        try {
            if($('.toc_box li, .toc_box b').length > 5) {
                var viewMore = $('#view-more').val();
                $('.volume_box, .toc_box').children('ul').append('<div align="right"><a href="javascript:;" id="view_morelink">'
                    +viewMore+'</a></div>');
            }    
            $('.toc_box').find('#view_morelink').click(function () {
                var viewMore = $('#view-more').val();
                var viewLess = $('#view-less').val();
                if($(this).text() == viewMore){
                    $('.volume_box li , .toc_box li, .toc_box b').show();
                    $('.volume_box li , .toc_box li, .toc_box b').find('div, span').show();
                    $(this).text(viewLess);
                } else {
                    viewmoreLink();
                    $(this).text(viewMore);
                    $("body").scrollTop($('.toc_box').offset().top);
                }
            });
        } catch (err) {
            console.log("Error in viewMoreToC function::", err);    
        }    
    },
                        showRecentlyViewed: function() {
        try {
            if($('#showrecentlyview').length>0){
                if($('#showrecentlyview').val().toLowerCase()=='yes'){
                    var recentlyViewed = this.getRecentlyViewed();
                    if (recentlyViewed == "") {
                        $("#recently_viewed").remove();
                    } else {
                        $("#recently_viewed").html(recentlyViewed);
                           $('p.authors-recent a').addClass("author-name");
                    }
                }
            }
        } catch (err) {
            console.log("Error in showRecentlyViewed function::", err);    
        }
    },
    getRecentlyViewed: function() {
        try {
            var recent_html='';
            var currentUrl=window.location.href.split('&st')[0];
            var recentlyViewed = [];
            if(localStorage.getItem('recentlyViewed')){
                  recentlyViewed=$.parseJSON(localStorage.getItem('recentlyViewed'));
            }
            var itemExists=false;
            var addtorecentlyview='no';
            var docid=$.linkNewParam('docid', currentUrl);
            if($('#addtorecentlyview').length>0){
                  addtorecentlyview=$('#addtorecentlyview').val();
            }
            if(addtorecentlyview.toLowerCase()=='yes'){
                  var title=$("#title").length>0 ? $.trim($("#title").find('h2').text()):'';
                  if(title.length==0){
                    title=$('#title').length>0?$.trim($("#title").text()):'';
                  }
                  if(title.length==0){
                    title=$('#title').length>0?$.trim($("#title").val()):'';
                  }
                  if(title.length==0){
                    title=$('#detail-title').length>0?$.trim($("#detail-title").text()):'';
                  }
                  if(title.length==0){
                    title=$('h1.title').length>0?$.trim($("h1.title").text()):'';
                  }
                    var subtitle='';
                    if ($("#titlevalue").length > 0) {
                    subtitle = $("#titlevalue").val();
                  } else if($("#wvTitle").length>0){
                    subtitle=$("#wvTitle").val();
                  }
                  if (title.toLowerCase().trim() == subtitle.toLowerCase().trim()) {
                    subtitle = '';
                  }
                  var towncity = '';
                  if($("#town_city_address").length > 0) {
                    towncity = $("#town_city_address").val();
                  }
                  var contentdisplay = '';
                  if ($("#vol-contentTypes a").length > 0) {
                    contentdisplay = $("#vol-contentTypes a").text();
                  } else if ($("#vol-documentType a").length > 0) {
                    contentdisplay = $("#vol-documentType a").text();
                  } else if ($("#vol-contentType a").length > 0) {
                    contentdisplay = $("#vol-contentType a").eq(0).text();
                  } 
                 author=$("#authorChap").html()?$("#authorChap").html():'';
                  if(author.length==0){
                    author=$("#author").html()?$("#author").html():'';
                  }
                  if(author.length==0){
                    author=$("h3.author").html()?$("h3.author").html():'';
                  }
                  var pubname=$("#pub-name").length>0?$.trim($("#pub-name").text()):'';
                  var pubyear=$("#pub-year").length>0? $.trim($("#pub-year").text()):'';
                  var recentimageurl=$('#coverImageUrl').length>0?$('#coverImageUrl').attr('src')||$('#coverImageUrl').val():$('#buildsupportimagelist').length>0?$('#buildsupportimagelist').val().split('~')[0]:'';
                  var contenttype=$('#recentcontenttype').length>0?$('#recentcontenttype').val():'';
                  var pubnameyear=$('#pub-yeardata').length>0?$.trim($('#pub-yeardata').text()):'';
                  var publishyeardata='';
                  if(pubnameyear.length>0){
                    publishyeardata=pubnameyear;
                  } else {
                    if(pubname.length>0&&pubyear.length>0){
                          publishyeardata=pubname+', '+pubyear;
                    }else if(pubname.length>0&&pubyear.length==0){
                          publishyeardata=pubname;
                    }else if(pubname.length==0&&pubyear.length>0){
                          publishyeardata=pubyear;
                    }
                  }
                    var writtenby=$("#writtenby").length>0 ? $.trim($("#writtenby").html()):'';
                    var directedby=$("#directedby").length>0 ? $.trim($("#directedby").html()):'';
                var adaptedBy=$("#adaptedBy").length>0 ? $.trim($("#adaptedBy").html()):'';
                var originalAuthor=$("#originalAuthor").length>0 ? $.trim($("#originalAuthor").html()):'';
                var translatedBy=$("#translatedBy").length>0 ? $.trim($("#translatedBy").html()):'';
                var editedBy=$("#editedBy").length>0 ? $.trim($("#editedBy").html()):'';
                    
                  if(contenttype=='encyclopedia'){
                    recentimageurl='';
                  }
                  if(currentUrl.length>0){
                    if (title.length > 60) {
                          title = title.substring(0, 57) + "...";
                    }
                    recentlyViewed=this.removeExistsRecentlyItem(currentUrl);
                    if(recentlyViewed.length>5){
                          recentlyViewed.shift();
                    }
                    var cookieVal='';
                    cookieVal = {"title": title ,"subtitle":subtitle,"url": currentUrl,"author":author,"publishyeardata":publishyeardata, "image": recentimageurl,"contenttype":contenttype,"docid":docid, "contentdisplay":contentdisplay, "towncity": towncity, "writtenby": writtenby, "directedby": directedby, "adaptedBy": adaptedBy, "originalAuthor": originalAuthor, "translatedBy": translatedBy, "editedBy": editedBy, "image": recentimageurl,"contenttype":contenttype,"docid":docid, "contentdisplay":contentdisplay,    "towncity": towncity, "writtenby":writtenby, "directedby":directedby}
                    recentlyViewed.push(cookieVal);
                    localStorage.setItem('recentlyViewed', JSON.stringify(recentlyViewed));
                   }
            }
            if(recentlyViewed.length>0) {
                  if( $.isArray(recentlyViewed)){
                    var count = 0;
                    for (var i = (recentlyViewed.length -1); i >=0 ; i--) {
                          itemExists=false;
                          if((recentlyViewed[i].contenttype == "monograph" || recentlyViewed[i].contenttype == "archive") &&
                           addtorecentlyview=='no' && recentlyViewed[i].docid==docid){
                            currentPageIndex = i;
                            itemExists=true;
                          } else if ( recentlyViewed[i].url == currentUrl) {
                            currentPageIndex = i;
                            itemExists=true;
                          } else {
                            if ( count < 5) {
                                  var iconclass=recentlyViewed[i].contenttype.toLowerCase()=="museumobject"||recentlyViewed[i].contenttype.toLowerCase()=="imagecollection"?"icon-image":
                                  recentlyViewed[i].contenttype.toLowerCase()=="exhibition"?"icon-museum":
                                  "icon-"+recentlyViewed[i].contenttype;
                                  recent_html += '<div class="row category_cont">';
                                  if (recentlyViewed[i].image != '') {
                                    if (contenttype == "person") {
                                          recent_html += '<div class="col-xs-12 col-sm-3 col-md-12 col-lg-12">' +
                                              '<a href="' + recentlyViewed[i].url + '">' + '<img data-src="' + 
                                              recentlyViewed[i].image + '" alt="" title="Recently Viewed" '+
                                              'class="img-responsive mb10 recent_img cld-responsive" tabindex="0"/></a></div>';
                                          recent_html += '<div class="col-xs-12 col-sm-9 col-md-12 col-lg-12">';
                                    } else {
                                          recent_html += '<div class="col-xs-12 col-sm-3 col-md-12 col-lg-12">' + '<a href="' + 
                                              recentlyViewed[i].url + '">' + '<img data-src="' + recentlyViewed[i].image + 
                                              '" alt="" title="Recently Viewed" class="img-responsive mb10 recent_img cld-responsive" '+
                                              'abindex="0"/></a></div>';
                                          recent_html += '<div class="col-xs-12 col-sm-9 col-md-12 col-lg-12">';
                                    }
                                  } else {
                                    recent_html += '<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">';
                                  }
                                  recent_html += '<div class="row">';
                                  recent_html += '<div class="col-xs-3 col-sm-3 col-md-2 col-lg-2 recently-icon"><span class="' +
                                       iconclass + '"></span></div>';
                                  var subtitle_html='';
                                  var towncity_html='';
                                  if(recentlyViewed[i].subtitle.length>0){
                                    if(recentlyViewed[i].contenttype == "building") {
                                          subtitle_html=' ('+recentlyViewed[i].subtitle+')';
                                    } else {
                                          subtitle_html='<p>'+recentlyViewed[i].subtitle+'</p>';
                                    }
                                  }
                                  if(recentlyViewed[i].towncity && recentlyViewed[i].towncity.length>0){
                                    towncity_html='<p>'+recentlyViewed[i].towncity+'</p>';
                                  }
                                    var directedby_html ='';    
                                    var writtenby_html ='';
                                      var adaptedBy_html ='';
                                  var originalAuthor_html ='';
                                  var translatedBy_html ='';
                                  var editedBy_html ='';
                                    if(recentlyViewed[i].writtenby && recentlyViewed[i].writtenby.length>0){
                                    writtenby_html='<span>'+recentlyViewed[i].writtenby+'</span>';
                                  }
                                    if(recentlyViewed[i].directedby && recentlyViewed[i].directedby.length>0){
                                    directedby_html='<span>'+recentlyViewed[i].directedby+'</span>';
                                  }
                                  recent_html += '<div class="col-xs-10 col-sm-9 col-md-9 col-lg-10 recent_fin_cont">' + 
                                      '<p><a href="' + recentlyViewed[i].url + '">' + recentlyViewed[i].title + 
                                      (subtitle_html&&recentlyViewed[i].contenttype=="building"?subtitle_html:'') + '</a></p>';
                                if(recentlyViewed[i].adaptedBy && recentlyViewed[i].adaptedBy.length>0){
                                adaptedBy_html='<span>'+recentlyViewed[i].adaptedBy+'</span>';
                              }
                              if(recentlyViewed[i].originalAuthor && recentlyViewed[i].originalAuthor.length>0){
                                originalAuthor_html='<span>'+recentlyViewed[i].originalAuthor+'</span>';
                              }
                              if(recentlyViewed[i].translatedBy && recentlyViewed[i].translatedBy.length>0){
                                translatedBy_html='<span>'+recentlyViewed[i].translatedBy+'</span>';
                              }
                              if(recentlyViewed[i].editedBy && recentlyViewed[i].editedBy.length>0){
                                editedBy_html='<span>'+recentlyViewed[i].editedBy+'</span>';
                              }
                                  if(recentlyViewed[i].contenttype == "monograph") {
                                    recent_html += subtitle_html;  
                                  }
                                  if (recentlyViewed[i].author) {
                                    recent_html += '<p class="authors-recent">' + recentlyViewed[i].author + '</p>';
                                  }
                                  if(recentlyViewed[i].contenttype != "monograph" && recentlyViewed[i].contenttype != "building" && recentlyViewed[i].contenttype != "playtext") {
                                    recent_html += subtitle_html;  
                                  }
                                    if (recentlyViewed[i].directedby) {
                                    recent_html += directedby_html;
                                  }
                                    if (recentlyViewed[i].writtenby) {
                                    recent_html += writtenby_html;
                                  }
                                    if (recentlyViewed[i].adaptedBy) {
                                    recent_html += adaptedBy_html;
                                  }
                                  if (recentlyViewed[i].originalAuthor) {
                                    recent_html += originalAuthor_html;
                                  }
                                  if (recentlyViewed[i].translatedBy) {
                                    recent_html += translatedBy_html;
                                  }
                                  if (recentlyViewed[i].editedBy) {
                                    recent_html += editedBy_html;
                                  }
                                  recent_html += towncity_html;
                                  if (recentlyViewed[i].publishyeardata) {
                                    recent_html += '<p>'+recentlyViewed[i].publishyeardata+'</p>';  
                                  }
                                  if (recentlyViewed[i].contentdisplay) {
                                    recent_html += '<p>'+recentlyViewed[i].contentdisplay + '</p>';
                                  }            
                                  recent_html += '</div></div></div></div>';
                                  count++;
                            }
                          }
                    }
                  } else {
                    recentlyViewed = [];
                  }
            } else {
                  recentlyViewed = [];
            }    
            if (recent_html != "") {
                 recent_html = '<h2 class="text-uppercase">Recently Viewed</h2>' + recent_html;
            }
            return recent_html;
        } catch (err) {
            console.log("Error in getRecentlyViewed function::", err);    
        }
      },
      removeExistsRecentlyItem: function(currentUrl) {
          try {
            var newlist = [];
            var recentlyViewed = [];
            if(localStorage.getItem('recentlyViewed')){
                  recentlyViewed=localStorage.getItem('recentlyViewed');
            }
            if(recentlyViewed.length>0) {
                  recentlyViewed = $.parseJSON(recentlyViewed);
                  if ($.isArray(recentlyViewed)) {
                    for (var i = 0; i < recentlyViewed.length; i++) {
                          if (recentlyViewed[i].url != currentUrl) {
                            newlist.push(recentlyViewed[i]);
                          }
                    }
                  }
            }
            return newlist;
        } catch (err) {
            console.log("Error in removeExistsRecentlyItem function::", err);    
        }
      },
            setTitle: function() {
          try {
              if (document.title.trim() == (this.dispName + " - ") || document.title.trim() == "" || 
                  document.title.trim() ==this.dispName) {
                document.title = this.dispName + " - " + this.title.text();
            }
        } catch (err) {
            console.log("Error in setTitle function::", err);    
        }
      },
      setLoginLink: function() {
          try {
              var redirectUrl = "$redirectUrl";
              this.login.attr('href', redirectUrl);
          } catch (err) {
            console.log("Error in setLoginLink function::", err);    
        }
      },
      saveClipMethod: function(url, name) {
          try {
            if(url.length>0) {
                var title = $("#title").text() || $("#title").val();

                var params = {titleclip:name,url:url,contentType:"encyclopedia",actionType:"save",titlepage: title,productname:"titleByTitle",accountid:"$accountId"};
                showProgress();
                $('#clip-save-modal').modal('hide');
                $.ajax({
                    url: "/app/saveDBClip",
                    type: "GET",
                    data: params,
                    success: function(response) {
                        $('.vua-close-button').click();
                        $('.vua-clip-button').click();
                        setTimeout(function(){
                            $('#clip-save-success').modal('show');
                            hideProgress();
                        }, 300);
                    },
                    error: function(xhr) {
                        hideProgress();
                    }
                });
            }
        } catch (err) {
            console.log("Error in saveClipMethod function::", err);    
        }
    },
            sendCounterData: function(dynamic, opts) {
        try {
            
            var platform = ('Human Kinetics Library Platform').split("~!").join("'");
            var database = ('Human Kinetics Health Care in Sport and Exercise').split("~!").join("'");
                        var cdt = 'book';
                        var yop = "";
            var pname = "";
            var ctdoi = "";
            var ctisbn = "";
            var title = "";

                
            var platformData = {datatype: 'PLATFORM', title: platform, itemtype: 'RECORD_VIEW', articleversion: 'vor', accesstype: 'controlled', accessmethod: 'regular', sectiontype: cdt};
            var databaseData = {datatype: 'DATABASE', title: database, itemtype: 'RECORD_VIEW', articleversion: 'vor', accesstype: 'controlled', accessmethod: 'regular', sectiontype: cdt};
            var titleData = {accesstype: 'controlled', accessmethod: 'regular'};
                        titleData.datatype = "BOOK";
            if (titleData.datatype == "OTHER") {
                titleData.datatype = "BOOK";
                titleData.fsdatatype = "OTHER";
            }
                                    titleData.itemtype = "ABSTRACT";
                                                if ($("#isbn-squid").length > 0) {
                ctisbn = $("#isbn-squid").val();
            }
            if ($("#doi-squid").length > 0) {
                ctdoi = $("#doi-squid").val();
            }
            if ($("#pubname-squid").length > 0) {
                pname = $("#pubname-squid").val();
            }
            if ($("#pubdate-squid").length > 0) {
                yop = $("#pubdate-squid").val();
                yop = yop.split("-")[0];
                yop = yop.match(/\d+/g)?yop.match(/\d+/g)[0]:"";
            }
            if ($(".counter-author").length > 0) {
                var counterAuthor = "";
                $(".counter-author").each(function(){
                    author+= "Author|"+$.trim($(this).val())+"|";
                });
            }
            if ($("#book-title-squid").length > 0) {
                title = $.trim($("#book-title-squid").val());
            }
                        if (yop) {
                platformData.yop = yop;
                databaseData.yop = yop;
                titleData.yop = yop;
            }
            if (pname) {
                platformData.publisherid = pname;
                databaseData.publisherid = pname;
                titleData.publisher = pname;
            }
            if (counterAuthor) {
                platformData.contributor = counterAuthor;
                databaseData.contributor = counterAuthor;
            }
            if (title) {
                titleData.title = title;
            }
            if (ctdoi) {
                titleData.doi = ctdoi;
                titleData.fsdoi = ctdoi;
            }
            if (ctisbn) {
                titleData.isbn = ctisbn;
            }

            var counterData = [];
            if (!dynamic) {
                if ($.cookie('searchitemflag') == "true") {
                    _$tarQ.push(['track', {datatype: 'PLATFORM', title: platform, itemtype: 'RESULT_CLICK'}]);
                    counterData.push({datatype: 'PLATFORM', title: platform, itemtype: 'RESULT_CLICK'});
                    _$tarQ.push(['track', {datatype: 'DATABASE', title: database, itemtype: 'RESULT_CLICK'}]);
                    counterData.push({datatype: 'DATABASE', title: database, itemtype: 'RESULT_CLICK'});
                    $.cookie('searchitemflag', 'false');
                }
            }
            if (dynamic && opts) {
                for (member in opts) {
                    titleData[member] = opts[member];
                }
            }
                            titleData.dbtitle = database;
                if(!dynamic) {
                    _$tarQ.push(['track', platformData]);
                    counterData.push(platformData);
                    _$tarQ.push(['track', databaseData]);
                    counterData.push(databaseData);
                }
                                _$tarQ.push(['track', titleData]);
                counterData.push(titleData);
                                        if (counterData.length > 0) {
                sendCounterBackendLog(counterData);
            }
        } catch (err) {
            console.log("Error in sendCounterData function::", err);    
        }
    },
    sendSquidData: function() {
        try {
            var siteId = 'bb01';
            sqtrkq.push(['wid', siteId]);
            var u = new URI(document.location.href); 
            sqtrkq.push(['dom', '.' + u.domain()]);
            var squidObj = {};
            var cid = '';
            var citid = '';
            var mpid = '';
            var mpna = '';
            var mpa = 'Content';
            var mut = 'Page';
            var citna = '';
            var ctdoi = '';
            var ctisbn = '';
            var cstid = '';
            var ctid = 'encyclopedia';
            var cpna = '';
            var ciyop = '';
            var cau = '';
                        mpid = 'hklp';
                                    mpna = 'Human Kinetics Library Platform';
                                                            var cdid = 'hklheal';
                        var cdna = ('Human Kinetics Health Care in Sport and Exercise').split("~!").join("'");
            var ccid;
            var ccna;
                        var cdt = 'Abstract';
                        var cna = "";
            var citna = "";
            if ($("#book-title-squid").length > 0) {
                cna = $("#book-title-squid").val().trim();
            }
            if ($("#chapter-title-squid").length > 0) {
                citna = $("#chapter-title-squid").val().trim();
            }
            if ($("#isbn-squid").length > 0) {
                ctisbn = $("#isbn-squid").val();
            }
            if ($("#doi-squid").length > 0) {
                ctdoi = $("#doi-squid").val();
            }
            if ($("#section-squid").length > 0) {
                cstid = $("#section-squid").val();
                if (cstid == "Image Work") {
                    ctid = "Image Collection";
                }
            }
            if ($("#pubname-squid").length > 0) {
                cpna = $("#pubname-squid").val();
            }
            if ($("#pubdate-squid").length > 0) {
                ciyop = $("#pubdate-squid").val();
            }
            if ($("#squid-author").length > 0 && $("#squid-author").val()) {
                cau = $("#squid-author").val().trim();
            }
            if ($("#parentid-squid").length > 0 && $("#parentid-squid").val()) {
                cid = $("#parentid-squid").val().trim();
            }

            if ($("#childid-squid").length > 0 && $("#childid-squid").val()) {
                citid = $("#childid-squid").val().trim();
            }
                        if (cid) {
                squidObj.cid = cid;
            }
            if (citid) {
                squidObj.citid = citid;
            }
            if (ctid) {
                squidObj.ctid = ctid;
            }
            if(cdid) {
                squidObj.cdid = cdid;
            }
            if(ccid) {
                squidObj.ccid = ccid;
            }
            if(cdna) {
                squidObj.cdna = cdna;
            }
            if(ccna) {
                squidObj.ccna = ccna;
            }
            if(cdt) {
                squidObj.cdt = cdt;
            }
            if(cna) {
                squidObj.cna = cna;    
            }
            if(citna) {
                squidObj.citna = citna;    
            }
            if (mpid) {
                squidObj.mpid = mpid;
            }
            if (mpna) {
                squidObj.mpna = mpna;
            }
            if (mpa) {
                squidObj.mpa = mpa;
            }
            if (mut) {
                squidObj.mut = mut;
            }
            if(ctdoi) {
                squidObj.ctdoi = ctdoi;
            }
            if(citna) {
                squidObj.citna = citna;
            }
            if(cstid) {
                squidObj.cstid = cstid;
            }
            if(ctisbn) {
                squidObj.ctisbn = ctisbn;
            }
            if(cpna) {
                squidObj.cpna = cpna;
            }
            if(ciyop) {
                squidObj.ciyop = ciyop;
            }
            if(cau) {
                squidObj.cau = cau;
            }
                                    var cent = '1000648286';
            var maid = '1000648286';
            var mana = "Hong Kong Metropolitan University";
            squidObj.cent = cent;
            squidObj.maid = maid;
            squidObj.mana = mana;
                                                var squidTrack = $.cookie("squidtrack");
            if (squidTrack == "false") {
                $.cookie("squidtrack", "true");
            } else {
                sqtrkq.push(['ext', encodeURIComponent(JSON.stringify(squidObj))]);
                sqtrkq.push(['post', true]);
                sqtrkq.push(['track']);
            }
            window.squidObj = squidObj;
        } catch (err) {
            console.log("Error in sendSquidData function::", err);    
        }
    },
        goToPageClick: function() {
        try {
            if(!$(this).hasClass('disabled-btn')){
                if(!$(this).hasClass('goto_pageguest')) {
                    gotoPageNo();
                } else {
                    $('#subscription-modal').modal('show');
                }
            }
        } catch (err) {
            console.log("Error in goToPageClick function::", err);    
        }
    },
    goToPageKeyUp: function(e) {
        try {
            if ($(this).val().trim().length > 0) {
                $("#goto_pagenobtn").removeClass("disabled-btn");
            } else {
                $("#goto_pagenobtn").addClass("disabled-btn");
            }
            $(this).css('border', 'solid #ccc 1px');
            $("#go-to-error-msg").remove();
            if(!$("#goto_pagenobtn").hasClass('disabled-btn')) {
                if (e.keyCode == 13) {
                    if(!$('#goto_pagenobtn').hasClass('goto_pageguest')) {
                        gotoPageNo();
                    } else {
                        $('#subscription-modal').modal('show');
                    }
                }
            }
        } catch (err) {
            console.log("Error in goToPageKeyUp function::", err);    
        }
    },
          loadStarJS: function () {
          try {
              var stars = document.createElement('script');
              stars.type = 'text/javascript';
              stars.async = true;
              stars.src = '$starPath';
              var s = document.getElementsByTagName('script')[0];
              s.parentNode.insertBefore(stars, s);
          } catch (err) {
            console.log("Error in loadStarJS function::", err);    
        }
      },
            initAuthorBioPopup: function() {
          try {
              $('.popper').popover({
                placement: 'top',
                container: 'body',
                trigger: 'manual',
                html: true,
                content: function () {
                      return $(this).next('.popper-content').length>0?$(this).next('.popper-content').html():$(this).parent().next('.popper-content').html();
                }
            }).off('keyup click').on('keyup click', function(e){
                if (e.keyCode == 13) {
                  $('this').trigger('click');
                } else if (e.type == "click") {
                  e.stopPropagation();
                  $('.popper').popover('hide');
                  $(this).popover('toggle');
                }
            });
        } catch (err) {
            console.log("Error in initAuthorBioPopup function::", err);    
        }    
      },
      initThumbPopup: function() {
          try {
              $('.thumb-popper').popover({
                placement: 'top',
                container: 'body',
                trigger: 'manual',
                html: true,
                content: function () {
                      return '<p><b>'+$(this).attr("img")+'</b></p><p><b>'+$(this).attr("title")+'</b></p>';
                }
            }).on('mouseover mouseout', function(e){
                $(this).popover('toggle');
            });
        } catch (err) {
            console.log("Error in initThumbPopup function::", err);    
        }    
      },
      initGlossaryPopup: function() {
          try {
              $('.article-popper').popover({
                placement: 'top',
                container: 'body',
                trigger: 'manual',
                html: true,
                content: function () {
                  return $('.popper-content[id="'+$(this).attr('popover-id')+'"]').html().replaceAll("dd>", "div>").replaceAll("<dd", "<div");
                }
            }).off('keyup click').on('keyup click', function(e){
                if (e.keyCode == 13) {
                  $('this').trigger('click');
                } else if (e.type == "click") {
                  e.stopPropagation();
                  $('.article-popper').popover('hide');
                  $(this).popover('toggle');
                }
            });
        } catch (err) {
            console.log("Error in initAuthorBioPopup function::", err);    
        }    
      },
      loadSearchWithinData: function() {
          try {
              this.searchwithinresult.append(this.searchwithinhidden.html());
              this.searchwithinhidden.remove();
          } catch (err) {
            console.log("Error in loadSearchWithinData function::", err);    
        }
      },
            addListenerForPrintDownload: function() {
          try {
              var self = this;
              document.addEventListener("cueForPrintDownload", function(){
                  self.createPdf();
                  self.createFrame();
              });
          } catch (err) {
            console.log("Error in addListenerForPrintDownload function::", err);    
        }
      },
      createPdf: function() {
  		try {
	      	var currentImg = '';
	      	if (typeof partId !== "undefined") {
		      	if (partId.startsWith("$")) {
		          	partId = "";
		      	}
	      	}
	      	var GMTIndex;
	      	var currDownloadTime = (new Date()).toString().split(' ');
	      	for (var i = 0; i < currDownloadTime.length; i++) {
	        	if (currDownloadTime[i].indexOf('GMT') > -1 || currDownloadTime[i].indexOf('UTC') > -1) {
	              	GMTIndex = i;
	          	}
	          	if (currDownloadTime[i].indexOf('(') > -1) {
	              	currDownloadTime[i] = currDownloadTime[i].split('(')[1];
	          	}
	          	if (currDownloadTime[i].indexOf(')') > -1) {
	              	currDownloadTime[i] = currDownloadTime[i].split(')')[0];
	          	}
	      	}
		    if (GMTIndex !== undefined) {
		        currDownloadTime.splice(GMTIndex, 1);
		    }
		    currDownloadTime = currDownloadTime.join(' ');
		    if ($('#selected-image-url').length > 0) {
		        currentImg = $('#selected-image-url').val();
		    } else if($('#coverImageUrl').length>0){
				currentImg = $('#coverImageUrl').attr('src') || $('#coverImageUrl').val();
			} else if($('#coverImage').length>0){
				currentImg = $('#coverImage').attr('src') || $('#coverImage').val();
			}
			if(~currentImg.indexOf('?id=')) {
				currentImg = currentImg.split('?id=')[1];
			}
	      	var param='';
		  	var isCitationExist='';
	      	if(doctype =="article")	{
		   				  	}	  
	      	if (doctype == "audio") {
	        	param = "type=" + doctype + "&xmlPath=" + "hklp/29/content-types/encyclopedia/9781718209565_txt_xml.xml" + "&xsltPath=" + "/content-types/encyclopedia/volume-download.xsl" + "&productLogo=" + "https://res.cloudinary.com/bloomsbury-publishing-public/image/upload/f_auto%2Cq_auto/hkl/Static/HKL_Logo.png" + "&mlaCitation=" + "&lang=" + lang + "&documentId=" + "b-9781718209565" + "&currentTime=" + currDownloadTime + "&tocId=" + ("" != "" ? "$tocId" : documentId)  + "&productName="+ productname +"&currentImg=" + currentImg + "&cachepagetype=" + "evolm";
	        } else if(doctype == "catalogue"){
                param = "type=" + doctype + "&xmlPath=" + "hklp/29/content-types/encyclopedia/9781718209565_txt_xml.xml" + "&xsltPath=" + "/content-types/encyclopedia/volume-download.xsl" + "&productLogo=" + "https://res.cloudinary.com/bloomsbury-publishing-public/image/upload/f_auto%2Cq_auto/hkl/Static/HKL_Logo.png" + "&mlaCitation=" + "&lang=" + lang + "&documentId=" + "b-9781718209565" + "&currentTime=" + currDownloadTime + "&tocId=" + ("" != "" ? "$tocId" : documentId)  + "&productName="+ productname +"&currentImg=" + currentImg + "&cachepagetype=" + "evolm";
            } else if (doctype == "video") {
	            param = "type=" + doctype + "&xmlPath=" + "hklp/29/content-types/encyclopedia/9781718209565_txt_xml.xml" + "&xsltPath=" + "/content-types/encyclopedia/volume-download.xsl" + "&productLogo=" + "https://res.cloudinary.com/bloomsbury-publishing-public/image/upload/f_auto%2Cq_auto/hkl/Static/HKL_Logo.png" + "&mlaCitation=" + "&lang=" + lang + "&documentId=" + "b-9781718209565" + "&currentTime=" + currDownloadTime + "&tocId=" + ("" != "" ? "$tocId" : documentId)  + "&productName="+ productname +"&currentImg=" + currentImg + "&cachepagetype=" + "evolm";
	        } else if (doctype == "image") {
		     	isCitationExist = true;
				param = "type=" + doctype + "&xmlPath=" + "hklp/29/content-types/encyclopedia/9781718209565_txt_xml.xml" + "&xsltPath=" + "/content-types/encyclopedia/volume-download.xsl" + "&productLogo=" + "https://res.cloudinary.com/bloomsbury-publishing-public/image/upload/f_auto%2Cq_auto/hkl/Static/HKL_Logo.png" + "&mlaCitation=" + "&lang=" + lang + "&documentId=" + "b-9781718209565" + "&currentTime=" + currDownloadTime + "&tocId=" + ("" != "" ? "$tocId" : documentId)  + "&productName="+ productname +"&currentImg=" + currentImg+ "&citationExist=" + isCitationExist + "&cachepagetype=" + "evolm";
		 	} else if (doctype == "da-volume" || doctype == "archive" || doctype == "da-volume-part") {
		 		param = "type=" + doctype + "&xmlPath=" + "hklp/29/content-types/encyclopedia/9781718209565_txt_xml.xml" + "&xsltPath=" + "/content-types/encyclopedia/volume-download.xsl" + "&productLogo=" + "https://res.cloudinary.com/bloomsbury-publishing-public/image/upload/f_auto%2Cq_auto/hkl/Static/HKL_Logo.png" + "&mlaCitation=" + "&lang=" + lang + "&documentId=" + documentId + "&currentTime=" + currDownloadTime + "&tocId=" + ("" != "" ? "$tocId" : documentId)  + "&productName="+ productname + "&workloc=" + "$workLoc"+"&productVersion=" + 29 + "&taxonomyLoc=" + "hklp/29/content-types/taxonomy/taxonomy.xml" + "&citationExist=" + isCitationExist + "&territory=" + "HK" + "&cachepagetype=" + "evolm" + "&currentImg=" + currentImg;
		 	} else if (doctype == "screenplay" || doctype == "playtext") {
									isCitationExist = true;
								param = "type=" + doctype + "&xmlPath=" + "hklp/29/content-types/encyclopedia/9781718209565_txt_xml.xml" + "&xsltPath=" + "/content-types/encyclopedia/volume-download.xsl" + "&productLogo=" + "https://res.cloudinary.com/bloomsbury-publishing-public/image/upload/f_auto%2Cq_auto/hkl/Static/HKL_Logo.png" + "&mlaCitation=" + "&lang=" + lang + "&documentId=" + documentId + "&currentTime=" + currDownloadTime + "&tocId=" + ("" != "" ? "$tocId" : documentId)  + "&productName="+ productname + "&workloc=" + "$workLoc"+"&productVersion=" + 29 + "&taxonomyLoc=" + "hklp/29/content-types/taxonomy/taxonomy.xml" + "&citationExist=" + isCitationExist + "&territory=" + "HK" + "&cachepagetype=" + "evolm";
				var playtextPage = "$playtextPage";
		        if ( playtextPage == "playtext-detail"){
		        	param += "&actId=" + "$actId";
		        }
			} else {  
			  						isCitationExist = true;
						  	
	          	param = "type=" + doctype + "&xmlPath=" + "hklp/29/content-types/encyclopedia/9781718209565_txt_xml.xml" + "&xsltPath=" + "/content-types/encyclopedia/volume-download.xsl" + "&productLogo=" + "https://res.cloudinary.com/bloomsbury-publishing-public/image/upload/f_auto%2Cq_auto/hkl/Static/HKL_Logo.png" + "&mlaCitation=" + "&lang=" + lang + "&documentId=" + "b-9781718209565" + "&currentTime=" + currDownloadTime + "&tocId=" + ("" != "" ? "$tocId" : documentId)  + "&productName="+ productname + "&citationExist=" + isCitationExist + "&workloc=" + "$workPath" +"&territory=" + "HK" + "&cachepagetype=" + "evolm";
		  	    
		  	}
		  	if ($('#pdf-name').length > 0) {
		  				  			param+="&pdfUrl=/content-types/"+doctype+"/"+$('#pdf-name').val()+"&pdfId=/"+$('#pdf-name').val().split("pdfs/")[1];
		  				  	}
		  	if ("" != "" && $('#chapter-pdfId').val() != null) {
		  		if ($('#chapter-pdfId').val().length > 0) {
		  			param += "&chapterPdfId=" +$('#chapter-pdfId').val().split("pdfs/")[1];
		  		}
		  	}
		  	var openAcc = $(".open-access").length;
            if ("" != '') {
                param += "&tocPage=false";
            } else if(openAcc > 0) {
                param += "&tocPage=true";
            } else {
                param += "&tocPage=false";
            }
            var epdfIsbn = $.trim($("#epdf-isbn-squid").val());
            if(epdfIsbn != "false") {
            	param += "&epdfIsbn="+$("#epdf-isbn-squid").val();
            }
            
		  	param+="&docIdS=b-9781718209565";
		  	var openAcc = $(".open-access").length;
		  	if(openAcc > 0){
		  		param+="&openAccess=true";
		  	} else {
		  	param+="&openAccess=false";
		  	}
		  	$("#download").attr('href', '/app/downloadpdf?'+param);
		  	var OS = getMobileOperatingSystem();
		  	if (OS == "iOS") {
				$("#download").attr('href', '/app/downloadpdf.pdf?'+param);	
			}
		  	$("#download").attr('target', '_blank');
		  	$("#download").attr('download', 'b-9781718209565'+'-'+lang+'.pdf');  
		} catch (err) {
			console.log("Error in createPdf function::", err);	
		}
  	},
      createFrame: function() {
  		try {
	        var currentImg = '';
	        var GMTIndex;
	        var currPrintTime = (new Date()).toString().split(' ');
	        for (var i = 0; i < currPrintTime.length; i++) {
	            if (currPrintTime[i].indexOf('GMT') > -1 || currPrintTime[i].indexOf('UTC') > -1) {
	                GMTIndex = i;
	            }
	            if (currPrintTime[i].indexOf('(') > -1) {
	                currPrintTime[i] = currPrintTime[i].split('(')[1];
	            }
	            if (currPrintTime[i].indexOf(')') > -1) {
	                currPrintTime[i] = currPrintTime[i].split(')')[0];
	            }
	        }
	        if (GMTIndex !== undefined) {
	            currPrintTime.splice(GMTIndex, 1);
	        }
	        currPrintTime = currPrintTime.join(' ');

	        if ($('#selected-image-url').length > 0) {
	            currentImg = $('#selected-image-url').val();
	        } else if($('#coverImage').length>0){
				currentImg = $('#coverImage').attr('src') || $('#coverImage').val();
			} else if($('#coverImageUrl').length>0){
				currentImg = $('#coverImageUrl').attr('src') || $('#coverImageUrl').val();
			}

			if(~currentImg.indexOf('?id=')) {
				currentImg = currentImg.split('?id=')[1];
			}

	        if (typeof partId !== "undefined") {
		      	if (partId.startsWith("$")) {
		          	partId = "";
		      	}
	      	}
	        $("#print_page").attr('href', 'javascript:;');
			$("#print_page").removeAttr('target');
			$("#print_page").removeAttr('download');  
	        var xmlreq = new XMLHttpRequest();
	        xmlreq.onreadystatechange = function () {
	            if (xmlreq.readyState == 4 && xmlreq.status == 200) {
	            	//hideProgress();
	                var response = xmlreq.responseText;
	                if ($("#pdf-name").length > 0) {
	                	$("#printFrame").remove();
	                	var OS = getMobileOperatingSystem();
	                	if (isIE || isFirefox || OS == "Android" || OS == "iOS") {
	                		param = "type=" + doctype + "&xmlPath=" + "hklp/29/content-types/encyclopedia/9781718209565_txt_xml.xml" + "&xsltPath=" + "/content-types/encyclopedia/volume-download.xsl" + "&productLogo=" + "https://res.cloudinary.com/bloomsbury-publishing-public/image/upload/f_auto%2Cq_auto/hkl/Static/HKL_Logo.png" + "&mlaCitation=" + "&lang=" + lang + "&documentId=" + "b-9781718209565" + "&currentTime=" + currPrintTime + "&tocId=" + ("" != "" ? "$tocId" : documentId)  + "&productName="+ productname + "&citationExist=true" + "&workloc=" + "$workPath" +"&territory=" + "HK" + "&cachepagetype=" + "evolm" + "&docIdS=b-9781718209565";
	                		param+="&pdfUrl=/content-types/"+doctype+"/"+$('#pdf-name').val()+"&pdfId=/"+$('#pdf-name').val().split("pdfs/")[1];
	                		$("#print_page").attr('href', '/app/downloadpdf?'+param+'&print_page=true');
						  	$("#print_page").attr('target', '_blank');
						  	$("#print_page").attr('download', 'b-9781718209565'+'-'+lang+'.pdf');
						  	if (OS == "Android") {
						  		$("#print_page").attr('download', 'b-9781718209565'+'-'+lang+'.pdf');
						  	} else if (OS == "iOS") {
						  		$("#print_page").attr('href', '/app/downloadpdf.pdf?'+param+'&print_page=true');	
						  	}
	                	} else {
	                		var frame1 = document.createElement('iframe');
			                frame1.name = "frame1";
			                frame1.id = "printFrame";
			                frame1.style.position = "absolute";
			                frame1.style.visibility = "hidden";
			                frame1.style.display = "none";
			                frame1.style.top = "-1000000px";
			                frame1.src = "/app/getpdf?id=/downloads/"+$("#pdf-name").val().split("pdfs/")[1]+"&mode=print";
			                window.printContents = response;
			                document.body.appendChild(frame1);
	                	}
	                } else {
	                	if(xmlreq.responseText.indexOf('MapPlaceHolder') > -1){
		                									response = response.replace('MapPlaceHolder', '<div style="width: 100%; margin-bottom: 10px; height: 200px; position: relative; overflow: hidden;">' + $('#globalMap').html().split('href=').join('data-href=').split('<div class="gmnoprint').join('<div class="gmnoprint hide').split('<div class="gmnoscreen').join('<div class="gmnoscreen hide') + '</div>');
							
		                }
		                window.printContents = response;
		                var OS = getMobileOperatingSystem();
		                $("#printFrame").remove();
		                var frame1 = document.createElement('iframe');
		                frame1.name = "frame1";
		                frame1.id = "printFrame";
		                frame1.style.position = "absolute";
		                frame1.style.top = "-1000000px";
		                document.body.appendChild(frame1);
		                var frameDoc = frame1.contentWindow ? frame1.contentWindow : frame1.contentDocument.document ? frame1.contentDocument.document : frame1.contentDocument;
		                frameDoc.document.open();
		                frameDoc.document.write(response);
		                frameDoc.document.close();
		            	$("#print_waiting").addClass("hide");
		            	$("#print_loading").addClass("hide");
		            	$("#print_ready").removeClass("hide");
	                }
	            }
	        };
	        xmlreq.open("POST", "/app/print", true);
	        xmlreq.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
	        var param='';
	        var mlaCitation = '';
			var hasCitation = '';
				        if (doctype == "image") {
	            param = 'xmlPath=content-types/image/image.xml&xsltPath=content-types/image/image-print.xsl';
	        }
	        if (doctype == "audio") {
	            param = 'xmlPath=content-types/audio/audio.xml&xsltPath=content-types/audio/audio-print.xsl';
	        }
	        if (doctype == "video") {
	            param = 'xmlPath=content-types/video/video.xml&xsltPath=content-types/video/video-print.xsl';
	        }
	        if (doctype == "person") {
	            mlaCitation = '';
	               param = "xmlPath=" + "hklp/29/content-types/encyclopedia/9781718209565_txt_xml.xml" + "&xsltPath=" + "/content-types/encyclopedia/volume-print.xsl" + "&productLogo=" + "https://res.cloudinary.com/bloomsbury-publishing-public/image/upload/f_auto%2Cq_auto/hkl/Static/HKL_Logo.png" + "&mlaCitation=" + mlaCitation + "&partId=" + partId + "&lang=" + lang + "&currentImg=" + currentImg + "&currentdate=" + currPrintTime + "&doctype=" + doctype + "&docid=" + documentId + "&taxonomyLoc=" + "hklp/29/content-types/taxonomy/taxonomy.xml" + "&productVersion=" + 29 + "&productName="+ productname + "&territory=" + "HK" + "&cachepagetype=" + "evolm";
	        }
	        if (doctype == "monograph" ) {
	            mlaCitation = '';
					                param = "xmlPath=" + "hklp/29/content-types/encyclopedia/9781718209565_txt_xml.xml" + "&xsltPath=" + "/content-types/encyclopedia/volume-print.xsl" + "&productLogo=" + "https://res.cloudinary.com/bloomsbury-publishing-public/image/upload/f_auto%2Cq_auto/hkl/Static/HKL_Logo.png" + "&mlaCitation=" + mlaCitation + "&partId=" + partId + "&lang=" + lang + "&currentImg=" + currentImg + "&currentdate=" + currPrintTime + "&doctype=" + doctype + "&docid=" + documentId  + "&tocId=" +"$documentId" + "&productName="+ productname + "&productVersion=" + 29 + "&territory=" + "HK" + "&cachepagetype=" + "evolm";
					        }
			if (doctype == "encyclopedia") {
				var xslPath = $("#pdf-name").length>0?"/content-types/encyclopedia/volume-download.xsl":"/content-types/encyclopedia/volume-print.xsl";
	            param = "xmlPath=" + "hklp/29/content-types/encyclopedia/9781718209565_txt_xml.xml" + "&xsltPath=" + xslPath + "&productLogo=" + "https://res.cloudinary.com/bloomsbury-publishing-public/image/upload/f_auto%2Cq_auto/hkl/Static/HKL_Logo.png" + "&hasCitation=" + hasCitation + "&partId=" + partId + "&lang=" + lang + "&currentImg=" + currentImg + "&currentdate=" + currPrintTime + "&doctype="+ doctype + "&docid=" + documentId + "&tocId=" +("" != "" ? "$tocId" : documentId) + "&productName="+ productname + "&productVersion=" + 29 + "&territory=" + "HK" + "&cachepagetype=" + "evolm";
	            	        }
	        if (doctype == "dictionary") {
	            mlaCitation = encodeURIComponent(mlaCitation);
				param = "xmlPath=" + "hklp/29/content-types/encyclopedia/9781718209565_txt_xml.xml" + "&xsltPath=" + "/content-types/encyclopedia/volume-print.xsl" + "&productLogo=" + "https://res.cloudinary.com/bloomsbury-publishing-public/image/upload/f_auto%2Cq_auto/hkl/Static/HKL_Logo.png" + "&mlaCitation=" + mlaCitation + "&partId=" + partId + "&lang=" + lang + "&currentImg=" + currentImg + "&currentdate=" + currPrintTime + "&doctype=dictionary" + "&docid=" + documentId + "&tocId=" +("" != "" ? "$tocId" : documentId) + "&productName="+ productname + "&workloc=" + "$dictionaryWork" + "&productVersion=" + 29 + "&territory=" + "HK" + "&cachepagetype=" + "evolm";
	        }
	        if (doctype == "sourcetype") {
	        	param = "xmlPath=" + "hklp/29/content-types/encyclopedia/9781718209565_txt_xml.xml" + "&xsltPath=" + "/content-types/encyclopedia/volume-print.xsl" + "&productLogo=" + "https://res.cloudinary.com/bloomsbury-publishing-public/image/upload/f_auto%2Cq_auto/hkl/Static/HKL_Logo.png" + "&mlaCitation=" + mlaCitation + "&partId=" + partId + "&lang=" + lang + "&currentImg=" + currentImg + "&currentdate=" + currPrintTime + "&doctype=sourcetype" + "&docid=" + documentId + "&tocId=" +("" != "" ? "$tocId" : documentId) + "&productName="+ productname + "&productVersion=" + 29 + "&territory=" + "HK" + "&cachepagetype=" + "evolm";
	        }
						if (doctype == "building") {
	            mlaCitation = '';
	            param = "xmlPath=" + "hklp/29/content-types/encyclopedia/9781718209565_txt_xml.xml" + "&xsltPath=" + "/content-types/encyclopedia/volume-print.xsl" + "&productLogo=" + "https://res.cloudinary.com/bloomsbury-publishing-public/image/upload/f_auto%2Cq_auto/hkl/Static/HKL_Logo.png" + "&mlaCitation=" + mlaCitation + "&partId=" + partId + "&lang=" + lang + "&currentImg=" + currentImg + "&currentdate=" + currPrintTime + "&doctype=" + doctype + "&docid=" + documentId + "&tocId=" + "$tocId"+"&taxonomyLoc=" + "hklp/29/content-types/taxonomy/taxonomy.xml" + "&productName="+ productname + "&productVersion=" + 29 + "&territory=" + "HK" + "&cachepagetype=" + "evolm";
	        }
			
						if (doctype == "museum") {
	            mlaCitation = '';
	            param = "xmlPath=" + "hklp/29/content-types/encyclopedia/9781718209565_txt_xml.xml" + "&xsltPath=" + "/content-types/encyclopedia/volume-print.xsl" + "&productLogo=" + "https://res.cloudinary.com/bloomsbury-publishing-public/image/upload/f_auto%2Cq_auto/hkl/Static/HKL_Logo.png" + "&mlaCitation=" + mlaCitation + "&partId=" + partId + "&lang=" + lang + "&currentImg=" + currentImg + "&currentdate=" + currPrintTime + "&doctype=" + doctype + "&docid=" + documentId + "&tocId=" + "$tocId" + "&taxonomyLoc=" + "hklp/29/content-types/taxonomy/taxonomy.xml" + "&productName="+ productname + "&productVersion=" + 29 + "&territory=" + "HK" + "&cachepagetype=" + "evolm";
	        }

	        if (doctype == "imagecollection") {
	            mlaCitation = '';
	            param = "xmlPath=" + "hklp/29/content-types/encyclopedia/9781718209565_txt_xml.xml" + "&xsltPath=" + "/content-types/encyclopedia/volume-print.xsl" + "&productLogo=" + "https://res.cloudinary.com/bloomsbury-publishing-public/image/upload/f_auto%2Cq_auto/hkl/Static/HKL_Logo.png" + "&mlaCitation=" + mlaCitation + "&partId=" + partId + "&lang=" + lang + "&currentImg=" + currentImg + "&currentdate=" + currPrintTime + "&doctype=" + doctype + "&docid=" + documentId + "&tocId=" + "$tocId" + "&taxonomyLoc=" + "hklp/29/content-types/taxonomy/taxonomy.xml" + "&productName="+ productname + "&productVersion=" + 29 + "&territory=" + "HK" + "&cachepagetype=" + "evolm";
	        }
			
			
						if (doctype == "image") {
	            mlaCitation = '';
	         param = "xmlPath=" + "hklp/29/content-types/encyclopedia/9781718209565_txt_xml.xml" + "&xsltPath=" + "/content-types/encyclopedia/volume-print.xsl" + "&productLogo=" + "https://res.cloudinary.com/bloomsbury-publishing-public/image/upload/f_auto%2Cq_auto/hkl/Static/HKL_Logo.png" + "&mlaCitation=" + mlaCitation + "&partId=" + partId + "&lang=" + lang + "&currentImg=" + currentImg + "&currentdate=" + currPrintTime + "&doctype=" + doctype + "&docid=" + documentId+ "&tocId=" + "$tocId" + "&taxonomyLoc=" + "hklp/29/content-types/taxonomy/taxonomy.xml" 
			 + "&productName="+ productname + "&productVersion=" + 29 + "&territory=" + "HK" + "&cachepagetype=" + "evolm";
	        }
			
			
						if (doctype == "video") {
	            mlaCitation = '';
	         param = "xmlPath=" + "hklp/29/content-types/encyclopedia/9781718209565_txt_xml.xml" + "&xsltPath=" + "/content-types/encyclopedia/volume-print.xsl" + "&productLogo=" + "https://res.cloudinary.com/bloomsbury-publishing-public/image/upload/f_auto%2Cq_auto/hkl/Static/HKL_Logo.png" + "&mlaCitation=" + mlaCitation + "&partId=" + partId + "&lang=" + lang + "&currentImg=" + currentImg + "&currentdate=" + currPrintTime + "&doctype=" + doctype + "&docid=" + documentId+ "&tocId=" + ("" != "" ? "$tocId" : documentId)+"&productName="+ productname + "&territory=" + "HK" + "&cachepagetype=" + "evolm";
	        }
						if (doctype == "audio") {
	            mlaCitation = '';
	         param = "xmlPath=" + "hklp/29/content-types/encyclopedia/9781718209565_txt_xml.xml" + "&xsltPath=" + "/content-types/encyclopedia/volume-print.xsl" + "&productLogo=" + "https://res.cloudinary.com/bloomsbury-publishing-public/image/upload/f_auto%2Cq_auto/hkl/Static/HKL_Logo.png" + "&mlaCitation=" + mlaCitation + "&partId=" + partId + "&lang=" + lang + "&currentImg=" + currentImg + "&currentdate=" + currPrintTime + "&doctype=" + doctype + "&docid=" + documentId+ "&tocId=" + ("" != "" ? "$tocId" : documentId)+"&productName="+ productname + "&territory=" + "HK" + "&cachepagetype=" + "evolm";
	        }
			if (doctype == "article") {
	               param = "xmlPath=" + "hklp/29/content-types/encyclopedia/9781718209565_txt_xml.xml" + "&xsltPath=" + "/content-types/encyclopedia/volume-print.xsl" + "&productLogo=" + "https://res.cloudinary.com/bloomsbury-publishing-public/image/upload/f_auto%2Cq_auto/hkl/Static/HKL_Logo.png" + "&hasCitation=" + hasCitation + "&partId=" + partId + "&lang=" + lang + "&currentImg=" + currentImg + "&currentdate=" + currPrintTime + "&doctype="+ doctype + "&docid=" + documentId + "&tocId=" +("" != "" ? "$tocId" : documentId) + "&productName="+ productname + "&taxonomyLoc=" + "hklp/29/content-types/taxonomy/taxonomy.xml" + "&workloc=" + "$articleWork" + "&productVersion=" + 29 + "&territory=" + "HK" + "&cachepagetype=" + "evolm";
	        }
	        if (doctype == "businesscase") {
	               param = "xmlPath=" + "hklp/29/content-types/encyclopedia/9781718209565_txt_xml.xml" + "&xsltPath=" + "/content-types/encyclopedia/volume-print.xsl" + "&productLogo=" + "https://res.cloudinary.com/bloomsbury-publishing-public/image/upload/f_auto%2Cq_auto/hkl/Static/HKL_Logo.png" + "&hasCitation=" + hasCitation + "&partId=" + partId + "&lang=" + lang + "&currentImg=" + currentImg + "&currentdate=" + currPrintTime + "&doctype="+ doctype + "&docid=" + documentId + "&tocId=" +("" != "" ? "$tocId" : documentId) + "&productName="+ productname + "&taxonomyLoc=" + "hklp/29/content-types/taxonomy/taxonomy.xml" + "&workloc=" + "$articleWork" + "&productVersion=" + 29 + "&territory=" + "HK" + "&cachepagetype=" + "evolm";
	        }
			if (doctype == "screenplay") {
	               param = "xmlPath=" + "hklp/29/content-types/encyclopedia/9781718209565_txt_xml.xml" + "&xsltPath=" + "/content-types/encyclopedia/volume-print.xsl" + "&productLogo=" + "https://res.cloudinary.com/bloomsbury-publishing-public/image/upload/f_auto%2Cq_auto/hkl/Static/HKL_Logo.png" + "&hasCitation=" + hasCitation + "&partId=" + partId + "&lang=" + lang + "&currentImg=" + currentImg + "&currentdate=" + currPrintTime + "&doctype="+ doctype + "&docid=" + documentId + "&tocId=" +("" != "" ? "$tocId" : documentId) + "&productName="+ productname + "&productVersion=" + 29 + "&taxonomyLoc=" + "hklp/29/content-types/taxonomy/taxonomy.xml"+ "&workloc=" + "$workFileLoc" + "&territory=" + "HK" + "&cachepagetype=" + "evolm";
	        }
	        if (doctype == "playtext") {
               param = "xmlPath=" + "hklp/29/content-types/encyclopedia/9781718209565_txt_xml.xml" + "&xsltPath=" + "/content-types/encyclopedia/volume-print.xsl" + "&productLogo=" + "https://res.cloudinary.com/bloomsbury-publishing-public/image/upload/f_auto%2Cq_auto/hkl/Static/HKL_Logo.png" + "&hasCitation=" + hasCitation + "&partId=" + partId + "&lang=" + lang + "&currentImg=" + currentImg + "&currentdate=" + currPrintTime + "&doctype="+ doctype + "&docid=" + documentId + "&tocId=" +("" != "" ? "$tocId" : documentId) + "&productName="+ productname + "&productVersion=" + 29 + "&taxonomyLoc=" + "hklp/29/content-types/taxonomy/taxonomy.xml"+ "&workloc=" + "$workFileLoc" + "&territory=" + "HK" + "&cachepagetype=" + "evolm";
               var playtextPage = "$playtextPage";
               if ( playtextPage == "playtext-detail"){
               	param += "&actId=" + "$actId";
               }
        	}
			if(doctype == "da-volume" || doctype == "archive" || doctype == "da-volume-part"){
	               param = "xmlPath=" + "hklp/29/content-types/encyclopedia/9781718209565_txt_xml.xml" + "&xsltPath=" + "/content-types/encyclopedia/volume-print.xsl" + "&productLogo=" + "https://res.cloudinary.com/bloomsbury-publishing-public/image/upload/f_auto%2Cq_auto/hkl/Static/HKL_Logo.png" + "&hasCitation=" + hasCitation + "&partId=" + partId + "&lang=" + lang + "&currentImg=" + currentImg + "&currentdate=" + currPrintTime + "&doctype="+ doctype + "&docid=" + documentId + "&tocId=" +("" != "" ? "$tocId" : documentId) + "&productName="+ productname + "&productVersion=" + 29 + "&territory=" + "HK" + "&cachepagetype=" + "evolm";
			}

            if(doctype=="catalogue"){
                param = "xmlPath=" + "hklp/29/content-types/encyclopedia/9781718209565_txt_xml.xml" + "&xsltPath=" + "/content-types/encyclopedia/volume-print.xsl" + "&productLogo=" + "https://res.cloudinary.com/bloomsbury-publishing-public/image/upload/f_auto%2Cq_auto/hkl/Static/HKL_Logo.png" + "&hasCitation=" + hasCitation + "&lang=" + lang + "&currentImg=" + currentImg + "&currentdate=" + currPrintTime + "&doctype="+ doctype + "&docid=" + documentId + "&tocId=" +("" != "" ? "$tocId" : documentId) + "&productName="+ productname + "&productVersion=" + 29 + "&territory=" + "HK" + "&cachepagetype=" + "evolm";
            }

			if ($("#pdf-name").length > 0) {
				param+="&pdfUrl=/content-types/"+doctype+"/"+$("#pdf-name").val()+"&pdfId=/"+$("#pdf-name").val().split("pdfs/")[1];
			}

			param+="&docIdS=b-9781718209565";
			
	        //showProgress();
	        if ($("#pdf-name").length > 0) {
		        param = "type=" + doctype + "&xmlPath=" + "hklp/29/content-types/encyclopedia/9781718209565_txt_xml.xml" + "&xsltPath=" + "/content-types/encyclopedia/volume-download.xsl" + "&productLogo=" + "https://res.cloudinary.com/bloomsbury-publishing-public/image/upload/f_auto%2Cq_auto/hkl/Static/HKL_Logo.png" + "&mlaCitation=" + "&lang=" + lang + "&documentId=" + "b-9781718209565" + "&currentTime=" + currPrintTime + "&tocId=" + ("" != "" ? "$tocId" : documentId)  + "&productName="+ productname + "&citationExist=true" + "&workloc=" + "$workPath" +"&territory=" + "HK" + "&cachepagetype=" + "evolm";
		        param+="&pdfUrl=/content-types/"+doctype+"/"+$('#pdf-name').val()+"&pdfId=/"+$('#pdf-name').val().split("pdfs/")[1];
		        param+="&docIdS=b-9781718209565";
		        $("#print_page").attr('href', '/app/downloadpdf?'+param+'&print_page=true');
				$("#print_page").attr('target', '_blank');
				$("#print_page").attr('download', 'b-9781718209565'+'-'+lang+'.pdf');
				var OS = getMobileOperatingSystem();
				if (OS == "Android") {
					$("#print_page").attr('download', 'b-9781718209565'+'-'+lang+'.pdf');
				} else if (OS == "iOS") {
					$("#print_page").attr('href', '/app/downloadpdf.pdf?'+param+'&print_page=true');	
				}
				$("#print_waiting").addClass("hide");
		        $("#print_loading").addClass("hide");
		        $("#print_ready").removeClass("hide");
	        } else {
	        	xmlreq.send(param);
	        }
	    } catch (err) {
			console.log("Error in createFrame function::", err);	
		}		
    },
    doHashScroll: function() {
        try {
            var hashUrl = window.location.hash;
            if (hashUrl) {
                if (~hashUrl.indexOf("#")) {
                    hashUrl = hashUrl.split("#")[1];
                }
                if (~hashUrl.indexOf("&")) {
                    hashUrl = hashUrl.split("&")[0];
                }
                var jObject = $("*[id='"+hashUrl+"']");
                if (jObject.length > 0) {
                    jObject.css("display", "block");                    jObject[0].scrollIntoView();
                }
            }
        } catch (err) {
            console.log("Error in doHashScroll function::", err);    
        }
    },
                    bindImageViewerImageResize: function() {
        var self = this;
        $(window).resize(function(e){
            self.imageViewerImageResize("resize");
        });
        window.addEventListener('orientationchange', function(e){
            self.imageViewerImageResize("orientation");
        });
    },
    imageViewerImageResize: function(event) {
        var screenWidth = $(window).width();
        var currentChannel = isDesktop;
        if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || screenWidth <= 1024) {
                isDesktop = false;
        } else {
            isDesktop = true;
        }
        if (isfullscreen) {
            if (!(event == "resize" && (window.orientation == 90 || window.orientation == 0))) {
                $(".control-small-screen").click();
            }                
        }
        if (isDesktop) {
            $("#image-controls-fullscreen-toolbar").addClass("hide");
        } else {
            $("#image-controls-fullscreen-toolbar").removeClass("hide");
        }
        if (currentChannel != isDesktop) {
            var activeItem = $(".photo_gallery .prev-images .owl-item.active .sub-image");
            var activeId = activeItem.attr("id");
            var currentViewer = OpenSeadragon({id: activeId});
            currentViewer.destroy();
            var currentUrl = $("#selected-image-url").val();
            if ($('.building_galley').length>0) {
                var currentIndex = $("#selected-image-url").attr("data-index");
                loadContentImageViewer(activeId,previmagelist[currentIndex],isfullscreen);
            } else {
                loadpreviewimage(activeId,currentUrl,istwoview,isfullscreen);
            }
        }
    },
    loadImageSlider: function() {
        var arcadianslider = this.contentImageSlider;
        var screenWidth = $(window).width();
        var currentIndex=5;
        if (screenWidth >= 992) {
            currentIndex = 5;
        } else if (screenWidth >= 768) {
            currentIndex = 4;
        } else if (screenWidth >= 600) {
            currentIndex = 3;
        }else{
            currentIndex = 2;
        }
        var nextseconditem=false;
        var prevseconditem=false;
        var autoplay = false;
        if ($("#slider-transition-value").val() == "true") {
            autoplay = true;
        }
        if (arcadianslider.find('.item').length == 0) {
            $("#playtext-image-gallery").addClass('hide');
        } else if (arcadianslider.find('.item').length >= 3) {
            arcadianslider.find('.owl-carousel').owlCarousel({
                lazyLoad: false,
                loop: true,
                center: true,
                nav: true,
                margin: 20,
                mouseDrag: false,
                touchDrag:false,
                items:3,
                responsive: {
                    1200: {
                        items: 3
                    },
                    992: {
                        items: 3
                    },
                    768: {
                        items: 3
                    },
                    600: {
                        items: 2
                    },
                    320: {
                        items: 2
                    }
                },
                autoplay: autoplay,
                autoplayTimeout: 3000,
                autoplayHoverPause: true
            });
            arcadianslider.off('click').on('click', '.owl-item', function (e) {
                var current=$(this).index();
                var flag=currentIndex-current;
                if(current<currentIndex){
                   arcadianslider.find('.owl-prev').click();
                   if(flag==2){
                       prevseconditem=true;
                   }
                } else if(current>currentIndex){
                   arcadianslider.find('.owl-next').click();
                   if(flag==(-2)){
                       nextseconditem=true;
                    }
                }
            }).off('changed.owl.carousel').on('changed.owl.carousel', function (e) {
                currentIndex=e.item.index;
                if(nextseconditem) {
                    arcadianslider.find('.owl-next').click();
                    nextseconditem=false;
                }
                if(prevseconditem) {
                    arcadianslider.find('.owl-prev').click();
                    prevseconditem=false;
                }
                arcadianslider.find(".owl-item a").attr("tabindex", -1);
            });
            arcadianslider.find(".owl-item a").attr("tabindex", -1);
            $(".image-slider-layout .owl-controls .owl-nav div").attr("tabindex", "0").on("keyup", function(e){
                if (e.keyCode == 13) {
                    $(this).click();
                }
            }).on("click", function(e) {
                //playPause.find(".fa-play").addClass("hide");
                //playPause.find(".fa-pause").removeClass("hide");
            }).each(function(){
                if($(this).hasClass("owl-prev")) {
                    $(this).attr("title", "Previous Item");
                }
                if($(this).hasClass("owl-next")) {
                    $(this).attr("title", "Next Item");
                }
            });
            $(".image-slider-layout .owl-controls .owl-dots .owl-dot span").attr("tabindex", "0").on("keyup", function(e){
                if (e.keyCode == 13) {
                    $(this).click();
                }
            }).on("click", function(e) {
                //playPause.find(".fa-play").addClass("hide");
                //playPause.find(".fa-pause").removeClass("hide");
            }).each(function(index){
                $(this).attr("title", "Select Item "+(index+1))
            });
            //var playPause = $(".play-pause-indicator").clone();
            //playPause.appendTo(".image-slider-layout .owl-controls");
            //playPause.removeClass("hide");
            /*playPause.find('div').off().on("keyup click", function(e){
                e.stopImmediatePropagation();
                e.stopPropagation();
                if (e.type == "click" || e.keyCode == 13) {
                    if ($(this).hasClass("fa-pause")) {
                        arcadianslider.find('.owl-carousel').trigger("stop.owl.autoplay");    
                    } else {
                        arcadianslider.find('.owl-carousel').trigger("play.owl.autoplay", [3000]);
                    }
                    $(this).addClass("hide");
                    $(this).siblings().removeClass("hide");
                    $(this).siblings().focus();
                    arcadianslider.find(".owl-item .link-active").attr("tabindex","-1");
                }
            });*/
            arcadianslider.on("focusin", function(e){
                if (!$(e.target).hasClass("fa-pause") && !$(e.target).hasClass("fa-play")) {
                    arcadianslider.find('.owl-carousel').trigger("stop.owl.autoplay");
                    arcadianslider.find(".owl-item.active.center .item").attr("tabindex", 0);
                }
            });
            arcadianslider.find(".owl-item").on("focusout", function(e){
                arcadianslider.find(".owl-item .item").attr("tabindex","-1");
                //arcadianslider.find('.owl-carousel').trigger("play.owl.autoplay", [3000]);
            }).on("keyup", function(e){
                if (e.keyCode == 13) {
                    $(this).click();
                }
            });
            arcadianslider.find(".owl-carousel").on("stop.owl.autoplay" , function(e){
                //playPause.find(".fa-pause").addClass("hide");
                //playPause.find(".fa-play").removeClass("hide");
            });
            arcadianslider.find(".owl-carousel").on("play.owl.autoplay" , function(e){
                //playPause.find(".fa-play").addClass("hide");
                //playPause.find(".fa-pause").removeClass("hide");
            });
            arcadianslider.find(".owl-item .item").on("keyup", function(e){
                if (e.keyCode == 13) {
                    e.preventDefault();
                    if ($(this).parent().hasClass("active") && $(this).parent().hasClass("center")) {
                        window.location.href = $(this).find(".right a").attr("href");
                    }
                }
            });    
        } else {
            arcadianslider.find('.owl-carousel').removeClass('loop owl-carousel').find('.item').addClass('singles');    
       }
    },
        imageViewerFullScreenKeyup: function() {
        $(document).on("keyup",".control-small-screen,.control-full-screen", function(e) {
            if (e.keyCode == 13) {
                $(this).click();
            }
        });
    },
    imageViewerControlIconsFocus: function() {
        $(document).on("focusin",".image-viewer-controls .control-icon>span", function(e) {
            $(this).parent().attr("style", "background: rgba(255, 255, 255, 1);");
        });
        $(document).on("focusout",".image-viewer-controls .control-icon>span", function(e) {
            $(this).parent().removeAttr("style");
        });
    },
    bindPdfViewerResize: function() {
        var self = this;
        $(window).resize(function(e){
            self.pdfViewerResize("resize");
        });
        window.addEventListener('orientationchange', function(e){
            self.pdfViewerResize("orientation");
        });
    },
    pdfViewerResize: function(event) {
        var screenWidth = $(window).width();
        var currentChannel = true;
        if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || screenWidth <= 1024) {
            currentChannel = false;
        } else {
               currentChannel = true;
        }
        var iframeHeight = "100%";
        if (!currentChannel) {
               iframeHeight = "450px";
        }
        $("#pdf-content iframe").attr("height", iframeHeight);
    },
    transcriptUpdate: function() {
        try {
            var currentUrl = window.location.href;
            if (~currentUrl.indexOf('&s=') || ~currentUrl.indexOf('&e=')) {
                var visibleTranscript = [];
                var startpoint = $.urlParam("s");
                var endpoint = $.urlParam("e");
                startpoint = !isNaN(parseInt(startpoint))?parseInt(startpoint)*1000:0;
                endpoint = !isNaN(parseInt(endpoint))?parseInt(endpoint)*1000:0;
                $(".p3sdk-interactive-transcript-content p").each(function(){
                  var millisecondstart = parseInt($(this).find("span:first").attr("m"));
                  var millisecondend = parseInt($(this).find("span:last").attr("m"));
                  millisecondstart = !isNaN(millisecondstart)?millisecondstart:0;
                  millisecondend = !isNaN(millisecondend)?millisecondend:0;
                  if (millisecondend < startpoint || (millisecondstart > endpoint && endpoint != 0)) {
                    $(this).css("display", "none");
                  } else {
                      visibleTranscript.push($(this));
                  }
                });
                if (visibleTranscript.length > 0) {
                    var prevElement = visibleTranscript[0].prev();
                    var nextElement = visibleTranscript[length-1].next();
                    if (prevElement.length > 0) {
                      prevElement.css("display", "block");
                    }
                    if (nextElement.length > 0) {
                      nextElement.css("display", "block");
                    }
                }
            }
        } catch (err) {
            console.log("Error in transcriptUpdate function::", err);    
        }
    },
    imageDownloadEnable: function() {
        try {
            if ($("#image-download-flag").length > 0) {
                if ($("#image-download-flag").val() == "true") {
                    $("#download").parent().removeClass("hide");
                }
            }
        } catch (err) {
            console.log("Error in imageDownloadEnable function::", err);
        }
    },
    showStudioContent: function() {
        try {
            if ($("#volume-studio-content li").length > 0) {
                $("#volume-studio-content").removeClass("hide");
            } else {
                $("#volume-studio-content").addClass("hide");
            }
        } catch(err) {
            console.log("Error in showStudioContent function::", err);
        }
    },
    loadStudioQuiz: function() {
        try {
            if ($("#studio-quiz-id").length > 0 && $("#quizContent").length > 0) {
                var studioQuizId = $("#studio-quiz-id").val();
                $('#quizContent').load("/app/qzmaker?quizid="+studioQuizId+"&actionType=load #quizFullContent", function() {
                    var hintTooltip = $('[data-toggle="tooltip"]');
                    hintTooltip.each(function(){
                        $(this).attr("data-pop-content", $(this).attr("data-original-title"));
                        $(this).removeAttr("data-original-title");
                    });
                    $('[data-toggle="tooltip"]').popover({
                        placement: 'top',
                        trigger: 'hover',
                        container: $(this).parent()[0],
                        content: function () {
                              return $(this).attr("data-pop-content");
                        }
                    });
                }); 
                
                $(document).on('submit', '#quiz_data_form', function(event) {
                    event.preventDefault();
                    var quizSubmission = $(this).serializeArray();
                    var quizPostData = {};
                    for(var x=0;x<quizSubmission.length;x++) {
                        var objectName = quizSubmission[x].name;
                        var objectValue = quizSubmission[x].value;
                        quizPostData[objectName] = objectValue;
                    }

                    $.ajax({
                        url: "/app/qzmaker",
                        type: "POST",
                        data: "quizData="+JSON.stringify(quizPostData),
                        success: function(data) {
                            $("#quizQResults").html(data);
                            $('#quizQContent').html("&nbsp;");
                            if ($("#printFrame").length > 0) {
                                $("#printFrame")[0].contentWindow.postMessage(data, "*");
                            } else {
                                window.quizPrintUpdate = data;
                            }
                            $("#quizQResults .container div .row:first b:last").append('<a title="Email your score and quiz results" href="javascript:void(0);" id="email-quiz-results" class="ml-10"><span class="glyphicon glyphicon-envelope" aria-hidden="true"></span> Email</a>');
                            //document.querySelector('#quizContent').scrollIntoView({behavior: 'smooth'});
                            window.scrollTo(0,0);
                        },
                        error: function(error) {
                            hideProgress();
                        }
                    });
                });    
                
                $(document).on("click", "#quizContent .btn", function(e){
                    e.preventDefault();
                    $('#quiz_data_form').submit();
                });     
                $(document).on("click", "#email-quiz-results", function(){
                    $('#quiz-mail-modal').modal('show');
                });
                $(document).on("click", "#quiz-email-btn", function(){
                    if (!$(this).hasClass('disabled-btn')) {
                        var toFlag = false;
                        var yourFlag = false;
                        var yourEmail = $("#quiz-mail-modal #quiz-your-email").val();
                        if (!ValidateEmail(yourEmail)) {
                            $("#quiz-mail-modal #quiz-your-email").css("border", "solid red 1px").siblings("span").removeClass("hide");
                            $("#quiz-mail-modal #quiz-your-email").focus();
                        }
                        else {
                            $("#quiz-mail-modal #quiz-your-email").css("border", "solid #ccc 1px").siblings("span").addClass("hide");
                            yourFlag = true;
                        }
                        var toEmail = $("#quiz-mail-modal #quiz-to-email").val();
                        if (!ValidateEmail(toEmail)) {
                            $("#quiz-mail-modal #quiz-to-email").css("border", "solid red 1px").siblings("span").removeClass("hide");
                            $("#quiz-mail-modal #quiz-to-email").focus();
                        }
                        else {
                            $("#quiz-mail-modal #quiz-to-email").css("border", "solid #ccc 1px").siblings("span").addClass("hide");
                            toFlag = true;
                        }
                        if (toFlag && yourFlag) {
                            showProgress();
                            $('#quiz-mail-modal').modal('hide');
                            setQuizContent();
                            var newArr = $("#quiz-mail-form").serializeArray();
                            var newObj = {};
                            $.each(newArr, function(index, value){
                                if (value.value) {
                                    newObj[value.name] = value.value;
                                }
                            });
                            window.formObj = newObj;
                            setTimeout(function() {
                                /* $("#share-via-form").submit(); */
                                $.ajax({
                                    url: "/app/contentemail",
                                    data: newObj,
                                    type: "POST",
                                    success: function (response) {
                                        hideProgress();
                                        $('#quiz-mail-modal').find("input[type='text'],textarea").val("");
                                        $('#share_success_modal').modal('show');
                                    },
                                    error: function (error) {
                                        hideProgress();
                                        //console.log("Service Error");
                                    }
                                });
                            }, 300);
                        }
                    }
                });
                $(document).on("input", "#quiz-mail-modal input, #quiz-mail-modal textarea", function(){
                    enableSendButton();
                });
                function enableSendButton() {
                    var enableFlag = true;
                    $("#quiz-mail-modal input[type='text']").each(function(){
                        if (!$(this).val()) {
                            enableFlag = false;
                        }
                    });
                    if (enableFlag) {
                        $("#quiz-email-btn").removeClass("disabled-btn");
                    } else {
                        $("#quiz-email-btn").addClass("disabled-btn");
                    }
                }
                function setQuizContent() {
                    var quizList = $("#quizQResults .row");
                    var questionContent = "";
                    var answerContent = "";
                    var selectedAnswer = "";
                    var correctAnswer = "";
                    var scoreContent = "";
                    var questionNum = 0;
                    quizList.each(function(index){
                        if ($(this).find('video').length > 0 || $(this).find('img').length > 0 || !$.trim($(this).text())){
                        } else if (~$(this).text().indexOf("Your Score")){
                            scoreContent += $.trim($(this).text());
                        } else if (~$(this).text().indexOf("Question ")) {
                            questionNum++;
                            questionContent += questionNum + ". " + $(this).find('label').text() + "~~";
                        } else if ($(this).find('input').length > 0) {
                            var currentLabels = $(this).find('label');
                            currentLabels.each(function(index){
                                answerContent += $.trim($(this).text());
                                if (index != (currentLabels.length - 1)) {
                                    answerContent += ' | ';
                                }
                            });
                            var thisAnswer = " ";
                            if ($(this).find('input:checked').length > 0) {
                                thisAnswer = $.trim($(this).find('input:checked').parent().text());
                            }
                            var thisCorrectAnswer = " ";
                            if ($(this).find('span') && ~$(this).find('span').text().indexOf('incorrect')) {
                                var cloneElement = $(this).clone();
                                cloneElement.find('label').remove();
                                cloneElement.find('span').remove();
                                //cloneElement.find('b').remove();
                                var cloneHtml = cloneElement.html();
                                cloneHtml.split("<br>").forEach(function(value){
                                    if (~value.indexOf("Correct") && value.split("</b>").length > 1) {
                                        thisCorrectAnswer = value.split("</b>")[1].trim();
                                    }
                                });
                                //thisCorrectAnswer += $.trim(cloneElement.text());
                            } else {
                                thisCorrectAnswer = thisAnswer;
                            }
                            answerContent += "~~";
                            thisAnswer += "~~";
                            thisCorrectAnswer += "~~";
                            correctAnswer += thisCorrectAnswer;
                            selectedAnswer += thisAnswer;
                        }
                    });
                    $("input[name='quizQuestions']").val(questionContent.length > 2?questionContent.substring(0,questionContent.length - 2):questionContent);
                    $("input[name='quizAnswers']").val(answerContent.length > 2?answerContent.substring(0,answerContent.length - 2):answerContent);
                    $("input[name='selectedAnswers']").val(selectedAnswer.length > 2?selectedAnswer.substring(0,selectedAnswer.length - 2):selectedAnswer);
                    $("input[name='correctAnswers']").val(correctAnswer.length > 2?correctAnswer.substring(0,correctAnswer.length - 2):correctAnswer);
                    $("input[name='quizScore']").val(scoreContent);
                    $("input[name='quizTitle']").val($.trim($(".studio-title").text()).replaceAll("\n", ""));
                    $("input[name='chapterTitle']").val($.trim($("#title").text()));
                }
               }
        } catch(err) {
            console.log("Error in loadStudioQuiz function::", err);
        }
    },
    loadStudioFlashCards: function() {
        try {
            if ($("#studio-flash-id").length > 0 && $("#flashcardContent").length > 0) {
                var studioFlashId = $("#studio-flash-id").val();
                $('#flashcardContent').load("/app/fcmaker?deckId="+studioFlashId+"&actionType=load #quizFullContent", function(){
                    LoadCards();
                }); 
               }
        } catch(err) {
            console.log("Error in loadStudioFlashCards function::", err);
        }
    },
    hidePrint: function() {
        try {
            if ($("#hide-print").length > 0) {
                $("#print_page").parent().addClass('hide');
               }
        } catch(err) {
            console.log("Error in hidePrint function::", err);
        }
    },
    setMainHeadingForScreenReader: function() {
        try {
            var labelText = "Main Title " + $("#title").text();
            $("#title").attr("aria-label", labelText);
        } catch(err) {
            console.log("Error in setMainHeadingForScreenReader function::", err);
        }
    },
    getSourceMessages: function(site) {
        var self=this;
        try {
            $.ajax({
                url: 'api/searchresult/sourceMessages/'+ site + '/' + this.tocid,
                type: 'GET',
                success: function (response) {
                    if (response) {
                        $("#institution-message").find("div").append(response);
                        if ($("#institution-message").find("div").text()) {
                            $("#institution-message").removeClass("hide");
                        } else {
                            $("#institution-message").find("div").empty();
                            $("#institution-message").addClass("hide");    
                        }
                    } else {
                        $("#institution-message").find("div").empty();
                        $("#institution-message").addClass("hide");
                    }
                }
            });
        } catch(err) {
            console.log("Error in setMainHeadingForScreenReader function::", err);
        }
    },
    getViewAndDownloadCount: function() {
        var self=this;
        try {
            var vdCount;
            var viewCount;
            var downloadCount;
                        var docId = "b-9781718209565";
                                    var tocId = "tocId";
                        tocId = tocId ? tocId: "tocId";
            if($("#openAccess_Id ").val() == 'true'){
                $.ajax({
                    url: 'api/searchresult/getViewDownloadCount/'+ docId + '/'+tocId+ '/'+'true',
                    type: 'GET',
                    success: function (response) {
                        if (response != "") {
                            vdCount = response.split(",");
                            viewCount = vdCount[0]+ " views"
                            downloadCount = vdCount[1]+" downloads";
                            if($("#label-ViewCount"))
                            $("#label-ViewCount").text(viewCount);
                            if($("#label-DownloadCount"))
                            $("#label-DownloadCount").text(downloadCount);
                        } 
                    }
                });
            }
        } catch(err) {
            console.log("Error in getViewAndDownloadCount function::", err);
        }
    },
    registerTryBoxEvents: function(site) {
        var self=this;
        try {
            var clipboard = new Clipboard('.copy-try');
            clipboard.on('success', function (e) {
                /* IE --- Select Method is not working in IE. Hence, workaround for IE  */
                if (window.clipboardData !== undefined && window.clipboardData !== null) {
                    if (typeof window.clipboardData.setData == 'function') {
                        var elementToCopy = $(e.trigger).parent().parent().find('.surname-section');
                        var contentToCopy = $(elementToCopy).text();
                        window.clipboardData.setData('Text', contentToCopy);
                    }
                }
                /* ---------------------IE fix ends-------------------------------------*/

                //$('.copy-error').css('display', 'none');
                var copySuccess = $(e.trigger).parent().parent().parent().find('.copy-success-text');
                copySuccess.removeClass('hide');
                setTimeout(function(){
                    copySuccess.addClass('hide');
                }, 7000);
            });
            clipboard.on('error', function (e) {
                e.clearSelection();
                $(e.trigger).parent().parent().parent().find('.copy-success-text').addClass('hide');
            });
            $(".italicise-try").on('click', function(e){
                document.execCommand('italic',false,null);
            });
            $(".surname-section").on("keydown", function (e) {
                if (e.keyCode == 73 && (e.metaKey)) {
                    e.preventDefault();
                    document.execCommand('italic',false,null);
                }
            });
            $(".email-try").on("click", function(e) {
                var copyText = $(this).parent().prev().prev().text();
                var copyHtml = $(this).parent().prev().prev().html();
                //copyHtml = copyHtml.replaceAll("&nbsp;","");
                $("#reference-text-area-hidden").val(copyHtml.replaceAll("<","~s~").replaceAll(">","~e~"));
                $("#reference-text-area").html(copyHtml);
                $("#email-subject-reference").val("You try - "+$("#title").text());
                $("#reference-mail-modal").modal("show");
            });
            $("#ref-share-btn").on("click", function(e){
                $("#reference-text-area-hidden").val($("#reference-text-area").html().replaceAll("<","~s~").replaceAll(">","~e~"));
                var newArr = $("#email-reference-form").serializeArray();
                var newObj = {};
                $.each(newArr, function(index, value){
                    if (value.value) {
                        newObj[value.name] = value.value;
                    }
                });
                var toEmail = $("#to-email-reference").val();
                var toFlag = false;
                if (!ValidateEmail(toEmail)) {
                    $("#to-email-reference").css("border", "solid red 1px").siblings("span").removeClass("hide");
                    $("#to-email-reference").focus();
                } else {
                    $("#to-email").css("border", "solid #ccc 1px").siblings("span").addClass("hide");
                    toFlag = true;
                }
        
                if (!$(this).hasClass('disabled-btn') && toFlag) {
                    $.ajax({
                        url: "/app/contentemail",
                        data: newObj,
                        type: "POST",
                        success: function (response) {
                            hideProgress();
                            $('#reference-mail-modal').modal('hide');
                            $('#share_success_modal').modal('show');
                        },
                        error: function (error) {
                            hideProgress();
                            $('#reference-mail-modal').modal('hide');
                        }
                    });
                }
            });
            $("#email-reference-form").find('input,textarea').on('input', function(e){
                referenceFormValidation();
            });
            $("#reference-mail-modal").on('hidden.bs.modal', function (e) {
                $("#reference-text-area-hidden").val("");
                $("#reference-text-area").val("");
                $("#email-subject-reference").val("");
                $("#to-email-reference").val("").css("border", "solid #ccc 1px").siblings("span").addClass("hide");
            });
            $(".not-sure-link").on("click", function(){
                $("#reference-help-modal").modal("show");
            }).on("keyup", function(e){
                if (e.keyCode == 13) {
                    $(this).click();
                }
            });
            function referenceFormValidation() {
                var enabledFlag = true;
                $("#email-reference-form").find("input,textarea").each(function () {
                    if (!$(this).val()) {
                        enabledFlag = false;
                    } 
                });
                if (enabledFlag) {
                    $("#ref-share-btn").removeClass('disabled-btn');
                } else {
                    $("#ref-share-btn").addClass('disabled-btn');
                }
            }
            $("#atr").selectpicker();
            function adjustInnerPopup() {
                var popupHeight = $('.library-inner-popup').height();
                var imageHeight = popupHeight + 90;
                $('.library-img').height(imageHeight);
            }
            $(window).resize(function(){
                adjustInnerPopup();
            });
            adjustInnerPopup();
            $("#atr").on("change.bs.select", function(e){
                var refStyle = $(this).selectpicker('val');
                var selectedOption = $(this).find('option[value="'+refStyle+'"]');
                if (selectedOption.length > 0) {
                    window.location.href = selectedOption.attr('data-href');
                }
            });
        } catch(err) {
            console.log("Error in setMainHeadingForScreenReader function::", err);
        }
    },
     
    multiplecheckboxAction:function(){
        
        var listOfSeriesCheckBoxIds = [];
        var listOfFileCheckBoxIds = [];
        var customSort = function (a, b) {
            return (Number(a.match(/(\d+)/g)[0]) - Number((b.match(/(\d+)/g)[0])));
        }
        var JsonObject = null;
        //check local storage functionality for enabling checkboxs
        if(localStorage.getItem("selectedCheckBoxItem") != 'null' && localStorage.getItem("selectedCheckBoxItem") != "") {
            JsonObject = JSON.parse(localStorage.getItem("selectedCheckBoxItem"));
            if(JsonObject != null && JsonObject.searchBrowse == true){
                JsonObject =null;
                localStorage.setItem("selectedCheckBoxItem", null);
                localStorage.setItem("EnabledCheckBoxs",false);
                localStorage.setItem("EnabledCheckBoxsAt", "encyclopedia-volume");
            }else if(JsonObject != null && "encyclopedia-volume" == "catalogue" && localStorage.getItem("EnabledCheckBoxsAt")== 'fileCatalogue' && JsonObject.searchBrowse == false) {
                JsonObject =null;
                localStorage.setItem("selectedCheckBoxItem", null);
                localStorage.setItem("EnabledCheckBoxs",false);
                localStorage.setItem("EnabledCheckBoxsAt", 'seriesCatalogue');
            }else if(JsonObject != null && "encyclopedia-volume" == "catalogue-file" && localStorage.getItem("EnabledCheckBoxsAt") == 'seriesCatalogue' && JsonObject.searchBrowse == false) {
                JsonObject =null;
                localStorage.setItem("selectedCheckBoxItem", null);
                localStorage.setItem("EnabledCheckBoxs",false);
                localStorage.setItem("EnabledCheckBoxsAt", 'fileCatalogue');
            }
            if(JsonObject != null && JsonObject.searchBrowse == false) {
                $.each(JsonObject.details,function (i, val){
                    if(val.level == "item") {
                        if (listOfFileCheckBoxIds.indexOf(val.id) === -1 && val.id !== '') {
                            listOfFileCheckBoxIds.push(val.id);
                            if (listOfFileCheckBoxIds.length > 0) {
                                $(".file-catalogue").removeClass("hide");
                                $.each(listOfFileCheckBoxIds,function (i, val){
                                    $("#"+val).prop('checked', true);
                                    $("#select-file-multiple-id").val('View Selected Items');
                                    if($("#select-file-multiple-id").val() == "View Selected Items") {
                                        $("#select-file-second-multiple-id").removeClass("hide");
                                        $(".multiple-file-item-close").removeClass("hide");
                                    }
                                });
                            }
                        }
                    }else if(val.level == "file") {
                        if (listOfSeriesCheckBoxIds.indexOf(val.id) === -1 && val.id !== '') {
                            listOfSeriesCheckBoxIds.push(val.id);
                            if (listOfSeriesCheckBoxIds.length > 0) {
                                $(".series-catalogue").removeClass("hide");
                                $.each(listOfSeriesCheckBoxIds,function (i, val){
                                    $("#"+val).prop('checked', true);
                                    $("#select-multiple-id").val('View Selected Items');
                                    if($("#select-multiple-id").val() == "View Selected Items") {
                                        $("#select-second-multiple-id").removeClass("hide");
                                        $(".multiple-item-close").removeClass("hide");
                                    }
                                });
                            }
                        }
                    }
                });
            }
        }else if(localStorage.getItem("selectedCheckBoxItem") == 'null' && localStorage.getItem("EnabledCheckBoxs") == 'true' && localStorage.getItem("EnabledCheckBoxsAt") == 'searchResultPage'){
        	localStorage.setItem("EnabledCheckBoxs",false);
        	localStorage.getItem("EnabledCheckBoxsAt","encyclopedia-volume");
        }else if(localStorage.getItem("selectedCheckBoxItem") == 'null' && localStorage.getItem("EnabledCheckBoxs") == 'true' && localStorage.getItem("EnabledCheckBoxsAt") == 'seriesCatalogue' && "encyclopedia-volume" == "catalogue" ) {
            $("#select-multiple-id").val('View Selected Items');
            $('#select-multiple-id').addClass("disabled-btn");
            $(".series-catalogue").removeClass("hide");
            $(".multiple-item-close").removeClass("hide");
        }else if(localStorage.getItem("selectedCheckBoxItem") == 'null' && localStorage.getItem("EnabledCheckBoxs") == 'true' && localStorage.getItem("EnabledCheckBoxsAt") == 'fileCatalogue' && "encyclopedia-volume" == "catalogue-file") {
            $(".file-catalogue").removeClass("hide");
            $("#select-file-multiple-id").val('View Selected Items');
            $('#select-file-multiple-id').addClass("disabled-btn");
            $(".multiple-file-item-close").removeClass("hide");
        }else {
            localStorage.setItem("EnabledCheckBoxs",false);
        }
        
        //select-multiple-id btn functionality for catalogue content type
        $("#select-multiple-id").on("click", function(){
            if($("#select-multiple-id").val() == "View Selected Items") {
                if(localStorage.getItem("selectedCheckBoxItem") != null && localStorage.getItem("selectedCheckBoxItem") != "") {
                    JsonObject = JSON.parse(localStorage.getItem("selectedCheckBoxItem"));
                    if(JsonObject != null && JsonObject.searchBrowse == false ) {
                        $.each(JsonObject.details, function (i, val){
                            if(i == 0) {
                                var identifier = val.identifier.split("~")[0];
                                window.location.href = "/catalogue-bookmark-viewer?docid="+identifier;
                            }
                        });
                    }
                }
            }
            if(localStorage.getItem("EnabledCheckBoxs") == 'false') {
                $(".series-catalogue").removeClass("hide");
                $("#select-multiple-id").val('View Selected Items');
                $('#select-multiple-id').addClass("disabled-btn");
                $(".multiple-item-close").removeClass("hide");
                localStorage.setItem("EnabledCheckBoxs",true);
                localStorage.setItem("EnabledCheckBoxsAt",'seriesCatalogue');
            }
        });
        
        //select-file-multiple-id btn functionality for catalogue content type
        $("#select-file-multiple-id").on("click", function(){
            if($("#select-file-multiple-id").val() == "View Selected Items") {
                if(localStorage.getItem("selectedCheckBoxItem") != null && localStorage.getItem("selectedCheckBoxItem") != "") {
                    JsonObject = JSON.parse(localStorage.getItem("selectedCheckBoxItem"));
                    if(JsonObject != null && JsonObject.searchBrowse == false ) {
                        $.each(JsonObject.details, function (i, val){
                            if(i == 0) {
                                var identifier = val.identifier.split("~")[0];
                                window.location.href = "/catalogue-bookmark-viewer?docid="+identifier;
                            }
                        });
                    }
                }
            }
            if(localStorage.getItem("EnabledCheckBoxs") == 'false') {
                $(".file-catalogue").removeClass("hide");
                $("#select-file-multiple-id").val('View Selected Items');
                $('#select-file-multiple-id').addClass("disabled-btn");
                $(".multiple-file-item-close").removeClass("hide");
                localStorage.setItem("EnabledCheckBoxs",true);
                localStorage.setItem("EnabledCheckBoxsAt",'fileCatalogue');
            }
        });

        //select-second-multiple-id btn functionality for catalogue content type
        $("#select-second-multiple-id").on("click", function(){
            if(localStorage.getItem("selectedCheckBoxItem") != null && localStorage.getItem("selectedCheckBoxItem") != "") {
                JsonObject = JSON.parse(localStorage.getItem("selectedCheckBoxItem"));
                if(JsonObject != null && JsonObject.searchBrowse == false ) {
                    $.each(JsonObject.details, function (i, val){
                        if(i == 0) {
                            var identifier = val.identifier.split("~")[0];
                            window.location.href = "/catalogue-bookmark-viewer?docid="+identifier;
                        }
                    });
                }
            }
        });
        
      //select-file-second-multiple-id btn functionality for catalogue content type
        $("#select-file-second-multiple-id").on("click", function(){
            if(localStorage.getItem("selectedCheckBoxItem") != null && localStorage.getItem("selectedCheckBoxItem") != "") {
                JsonObject = JSON.parse(localStorage.getItem("selectedCheckBoxItem"));
                if(JsonObject != null && JsonObject.searchBrowse == false ) {
                    $.each(JsonObject.details, function (i, val){
                        if(i == 0) {
                            var identifier = val.identifier.split("~")[0];
                            window.location.href = "/catalogue-bookmark-viewer?docid="+identifier;
                        }
                    });
                }
            }
        });
        
        var jArray = [];
        //series checkbox click functionality for catalogue content type
        $(".series-catalogue input").on("click", function(){
            if(localStorage.getItem("selectedCheckBoxItem") != null && localStorage.getItem("selectedCheckBoxItem") != "") {
                JsonObject = JSON.parse(localStorage.getItem("selectedCheckBoxItem"));
                if(JsonObject != null && JsonObject.searchBrowse == false) {
                    $.each(JsonObject.details,function (i, val){
                        if(val.level == "file") {
                            if (listOfSeriesCheckBoxIds.indexOf(val.id) === -1 && val.id !== '') {
                                listOfSeriesCheckBoxIds.push(val.id);
                            }
                        }else {
                            JsonObject = null;
                            return false;
                        }
                    });
                }else {
                    JsonObject = null;
                }
            }
            var selectedCheckBoxId = $(this).attr("id");
            if ($(this).is(':checked')) {
                var JsonArrayString = null;
                if (listOfSeriesCheckBoxIds.indexOf(selectedCheckBoxId) === -1 && selectedCheckBoxId !== '') {
                    listOfSeriesCheckBoxIds.push(selectedCheckBoxId);
                    listOfSeriesCheckBoxIds.sort(customSort);
                    if(listOfSeriesCheckBoxIds.length > 0 && JsonObject != null) {
                        jArray = [];
                        var count = 0;
                        $.each(listOfSeriesCheckBoxIds, function (i, arrId){
                            $.each(JsonObject.details,function (j, arrObj){
                                if(arrId === arrObj.id) {
                                    jArray.push(arrObj);
                                }else if(arrId == selectedCheckBoxId && count === 0){
                                    var identiValue = $("#"+selectedCheckBoxId).attr("name");
                                    var catalogueLevel = $("#"+selectedCheckBoxId).val();
                                    var xmlSource = "9781718209565_txt_xml.xml";
                                    var jsonObj = {
                                            "id" : selectedCheckBoxId,
                                            "identifier" : identiValue,
                                            "level" : catalogueLevel,
                                            "xmlsource" : xmlSource
                                    };
                                    jArray.push(jsonObj);
                                    count++;
                                }
                            });
                        });
                    }else {
                        jArray = [];
                        var identiValue = $("#"+selectedCheckBoxId).attr("name");
                        var catalogueLevel = $("#"+selectedCheckBoxId).val();
                        var xmlSource = "9781718209565_txt_xml.xml";
                        var jsonObj = {
                                "id" : selectedCheckBoxId,
                                "identifier" : identiValue,
                                "level" : catalogueLevel,
                                "xmlsource" : xmlSource
                        };
                        jArray.push(jsonObj);
                    }
                    var JsonObjectFinal = {
                            searchBrowse : false,
                            details : jArray
                    };
                    JsonArrayString = JSON.stringify(JsonObjectFinal);
                }
                localStorage.setItem("selectedCheckBoxItem", JsonArrayString);
                $("#select-multiple-id").val('View Selected Items');
                if($("#select-multiple-id").hasClass('disabled-btn')) {
                    $('#select-multiple-id').removeClass("disabled-btn");
                    $("#select-second-multiple-id").removeClass("hide");
                    $("#select-second-multiple-id").val('View Selected Items');
                }
            }else{
                jArray = [];
                var JsonArrayString = null;
                listOfSeriesCheckBoxIds = listOfSeriesCheckBoxIds.filter(item => item !== selectedCheckBoxId)
                if(listOfSeriesCheckBoxIds.length > 0 && JsonObject != null) {
                    listOfSeriesCheckBoxIds.sort(customSort);
                    $.each(listOfSeriesCheckBoxIds, function (i, arrId){
                        $.each(JsonObject.details,function (j, arrObj){
                            if(arrId === arrObj.id) {
                                jArray.push(arrObj);
                            }
                        });
                    });
                    var JsonObjectFinal = {
                            searchBrowse : false,
                            details : jArray
                    };
                    JsonArrayString = JSON.stringify(JsonObjectFinal);
                }
                localStorage.setItem("selectedCheckBoxItem", JsonArrayString);
            }
            if(listOfSeriesCheckBoxIds.length == 0) {
                $("#select-multiple-id").val('View Selected Items');
                $('#select-multiple-id').addClass("disabled-btn");
                if($("#select-multiple-id").hasClass('disabled-btn') && $("#select-multiple-id").val() == "View Selected Items") {
                    $("#select-second-multiple-id").addClass("hide");
                }
            }
        });
        
        //file checkbox click functionality for catalogue content type
        var jsonArray = [];
        $(".file-catalogue input").on("click", function(){
            if(localStorage.getItem("selectedCheckBoxItem") != null && localStorage.getItem("selectedCheckBoxItem") != "") {
                JsonObject = JSON.parse(localStorage.getItem("selectedCheckBoxItem"));
                if(JsonObject != null && JsonObject.searchBrowse == false) {
                    $.each(JsonObject.details,function (i, val){
                        if(val.level == "item") {
                            if (listOfFileCheckBoxIds.indexOf(val.id) === -1 && val.id !== '') {
                                listOfFileCheckBoxIds.push(val.id);
                            }
                        }else {
                            JsonObject = null;
                            return false;
                        }
                    });
                }else {
                    JsonObject = null;
                }
            }
            var selectedCheckBoxId = $(this).attr("id");
            if ($(this).is(':checked')) {
                var JsonArrayString = null;
                if (listOfFileCheckBoxIds.indexOf(selectedCheckBoxId) === -1 && selectedCheckBoxId !== '') {
                    listOfFileCheckBoxIds.push(selectedCheckBoxId);
                    listOfFileCheckBoxIds.sort(customSort);
                    if(listOfFileCheckBoxIds.length > 0 && JsonObject != null) {
                        jsonArray = [];
                        var count = 0;
                        $.each(listOfFileCheckBoxIds, function (i, arrId){
                            $.each(JsonObject.details,function (j, arrObj){
                                if(arrId === arrObj.id) {
                                    jsonArray.push(arrObj);
                                }else if(arrId == selectedCheckBoxId && count === 0){
                                    var identiValue = $("#"+selectedCheckBoxId).attr("name");
                                    var catalogueLevel = $("#"+selectedCheckBoxId).val();
                                    var xmlSource = "9781718209565_txt_xml.xml";
                                    var jsonObj = {
                                            "id" : selectedCheckBoxId,
                                            "identifier" : identiValue,
                                            "level" : catalogueLevel,
                                            "xmlsource" : xmlSource
                                    };
                                    jsonArray.push(jsonObj);
                                    count++;
                                }
                            });
                        });
                    }else {
                        jsonArray = [];
                        var identiValue = $("#"+selectedCheckBoxId).attr("name");
                        var catalogueLevel = $("#"+selectedCheckBoxId).val();
                        var xmlSource = "9781718209565_txt_xml.xml";
                        var jsonObj = {
                                "id" : selectedCheckBoxId,
                                "identifier" : identiValue,
                                "level" : catalogueLevel,
                                "xmlsource" : xmlSource
                        };
                        jsonArray.push(jsonObj);
                    }
                    var JsonObjectFinal = {
                            searchBrowse : false,
                            details : jsonArray
                    };
                    JsonArrayString = JSON.stringify(JsonObjectFinal);
                }
                localStorage.setItem("selectedCheckBoxItem", JsonArrayString);
                $("#select-file-multiple-id").val('View Selected Items');
                if($("#select-file-multiple-id").hasClass('disabled-btn')) {
                    $('#select-file-multiple-id').removeClass("disabled-btn");
                    $("#select-file-second-multiple-id").removeClass("hide");
                    $("#select-file-second-multiple-id").val('View Selected Items');
                }
            }else{
                jsonArray = [];
                var JsonArrayString = null;
                listOfFileCheckBoxIds = listOfFileCheckBoxIds.filter(item => item !== selectedCheckBoxId)
                if(listOfFileCheckBoxIds.length > 0 && JsonObject != null) {
                    listOfFileCheckBoxIds.sort(customSort);
                    $.each(listOfFileCheckBoxIds, function (i, arrId){
                        $.each(JsonObject.details,function (j, arrObj){
                            if(arrId === arrObj.id) {
                                jsonArray.push(arrObj);
                            }
                        });
                    });
                    var JsonObjectFinal = {
                            searchBrowse : false,
                            details : jsonArray
                    };
                    JsonArrayString = JSON.stringify(JsonObjectFinal);
                }
                localStorage.setItem("selectedCheckBoxItem", JsonArrayString);
            }
            if(listOfFileCheckBoxIds.length == 0) {
                $("#select-file-multiple-id").val('View Selected Items');
                $('#select-file-multiple-id').addClass("disabled-btn");
                if($("#select-file-multiple-id").hasClass('disabled-btn') && $("#select-file-multiple-id").val() == "View Selected Items") {
                    $("#select-file-second-multiple-id").addClass("hide");
                }
            }
        });

        //multiple-item-close functionality of series catalogue index pages
        $(".multiple-item-close").on("click", function(){
            if($(".multiple-item-close").attr("name") == "series-close") {
                $(".series-catalogue input").prop("checked", false);
                listOfSeriesCheckBoxIds = [];
                JsonObject = null;
                localStorage.setItem("selectedCheckBoxItem", null);
                localStorage.setItem("EnabledCheckBoxs",false);
                $("#select-multiple-id").val('Select Multiple Items');
                if($("#select-multiple-id").val() == "Select Multiple Items") {
                    $('#select-multiple-id').removeClass("disabled-btn");
                    $("#select-second-multiple-id").addClass("hide");
                    $(".multiple-item-close").addClass("hide");
                    $(".series-catalogue").addClass("hide");
                }
            }
        });

        //multiple-file-item-close functionality of series/file catalogue index pages
        $(".multiple-file-item-close").on("click", function(){
            if($(".multiple-file-item-close").attr("name")  == "file-close") {
                $(".file-catalogue input").prop("checked", false);
                jsonArray = [];
                listOfFIleCheckBoxIds = [];
                JsonObject = null;
                localStorage.setItem("selectedCheckBoxItem", null);
                localStorage.setItem("EnabledCheckBoxs",false);
                $("#select-file-multiple-id").val('Select Multiple Items');
                if($("#select-file-multiple-id").val() == "Select Multiple Items") {
                    $('#select-file-multiple-id').removeClass("disabled-btn");
                    $("#select-file-second-multiple-id").addClass("hide");
                    $(".multiple-file-item-close").addClass("hide");
                    $(".file-catalogue").addClass("hide");
                }
            }
        });
    },
    hideClipButtonFairchild: function () {
    	setTimeout(function(){
    		$(".vua-clip-button").addClass('hide');
    	}, 1000);
    },
    fairchildHideAuthorName: function(){
    	$(".author-alias a").attr("style", "pointer-events:none;color: #000 !important");
    }
};
</script>	<input type="hidden" id="collapseallsec" name="collapseall" value="Collapse All Sections">
	<input type="hidden" id="expandallsec" name="expandall" value="Expand All Sections">
	<input type="hidden" id="recentdocid" value="b-9781718209565">
	<input type="hidden" id="recentcontenttype" value="encyclopedia">
	<input type="hidden" id="showrecentlyview" value="yes">
	<div class="container article_template" id="mycontent">   
		


	<!-- Buy Item Feature -->
	
	<!-- Buy Item Feature -->



<div id="content" class="toolbar">
<input type="hidden" id="view-more" name="more" value="View More">
<input type="hidden" id="view-less" name="less" value="View Less">
	<ul role="menu">
											<li class="$saveHidden">
					<a title="Save" href="javascript:;" data-toggle="modal" id="favorite-dwnld" data-target="#signin_modal">
						<span class="icon-Fav1"></span>
						<div class="hidden-xs">Save</div>
					</a>
				</li>
							
									<li class="hide"><a id="download" title="Download" href="/app/downloadpdf?type=encyclopedia&amp;xmlPath=hklp/29/content-types/encyclopedia/9781718209565_txt_xml.xml&amp;xsltPath=/content-types/encyclopedia/volume-download.xsl&amp;productLogo=https://res.cloudinary.com/bloomsbury-publishing-public/image/upload/f_auto%2Cq_auto/hkl/Static/HKL_Logo.png&amp;mlaCitation=&amp;lang=en&amp;documentId=b-9781718209565&amp;currentTime=Thu Jul 13 2023 10:21:21 GMT+0800&amp;tocId=b-9781718209565&amp;productName=hklp&amp;citationExist=true&amp;workloc=$workPath&amp;territory=HK&amp;cachepagetype=evolm&amp;tocPage=false&amp;epdfIsbn=&amp;docIdS=b-9781718209565&amp;openAccess=false" target="_blank" download="b-9781718209565-en.pdf"><span class="icon-download"></span><div class="hidden-xs">Download</div></a></li>
					        
		
		<li><a id="print_page_pre" title="Print" href="javascript:;"><span class="icon-Print"></span><div class="hidden-xs">Print</div></a></li>
				<li>
			<a title="Share" href="javascript:;" id="share-sharetxtmail" data-toggle="modal" data-target="#share-mail">
				<span class="icon-share1"></span>
				<div class="hidden-xs">Share</div>
			</a>
		</li>
						<li class="">
			<a id="citation-btn" title="Citation" href="javascript:;" data-toggle="modal" data-target="#citation-modal">
				<span class="icon-citation"></span>
				<div class="hidden-xs">Citation</div>
			</a>
		</li>
			</ul>
</div>

<div class="modal fade" id="delete-folder-common" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-backdrop="static" data-keyboard="false">
    <div class="vertical-alignment-helper">
		<div class="modal-dialog share_modal library_modal vertical-align-center" role="document">
			<div class="modal-content">
				<div class="modal-body">
					<div class="signin_close"><a title="Close" aria-hidden="true" href="javascript:;" data-dismiss="modal" tabindex="-1" role="application"><img src="/bloomsbury_assets/bloomsbury/images/signin_close.png" tabindex="0" role="button" aria-label="close" alt="Close"></a></div>
					              

					<form method="post" id="delete_folder" tabindex="0">
					<h2 id="mylibrary-del" tabindex="0" aria-labelledby="mylibrary-del">Delete This?</h2>
						<p id="content-confirm-common" tabindex="0" aria-labelledby="content-confirm">
							Are you sure you want to remove the page from "My Saved Items"?	
						</p>

						<div class="share_btns">
							<input type="button" id="deletefolder" class="primary_btn" value="Yes">
							<input type="button" class="secondary_btn" data-dismiss="modal" value="No">		
						</div>
					</form>
				</div>
			</div>
		</div>
    </div>
</div>

	
  <div class="modal fade" id="subscription-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-backdrop="static" data-keyboard="false">
      <div class="vertical-alignment-helper">
         <div class="modal-dialog citation_modal vertical-align-center subs-modal" role="document" data-backdrop="static" data-keyboard="false">
            <div class="modal-content">
               <div class="modal-body">
                  <div class="signin_close">
										<a title="Close" aria-hidden="true" href="javascript:;" data-dismiss="modal" tabindex="-1" role="application"><img src="/bloomsbury_assets/bloomsbury/images/signin_close.png" tabindex="0" role="button" aria-label="close" alt="Close"></a>
									</div>
                  <p id="commontool-Subscriptiondescr" tabindex="0" aria-labelledby="commontool-Subscriptiondescr">You are not subscribed to view this item.</p>
               </div>
            </div>
         </div>
      </div>
   </div>
 
    <div class="modal fade" id="table-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-backdrop="static" data-keyboard="false">
      <div class="vertical-alignment-helper">
         <div class="modal-dialog citation_modal table_modal vertical-align-center subs-modal" role="document" data-backdrop="static" data-keyboard="false">
            <div class="modal-content">
               <div class="modal-body">
                 <div class="signin_close"><a title="Close" aria-hidden="true" href="javascript:;" data-dismiss="modal" tabindex="-1" role="application"><img src="/bloomsbury_assets/bloomsbury/images/signin_close.png" tabindex="0" role="button" aria-label="close" alt="Close"></a></div>
				 <div class="table-content">
				 
				 </div>
				<div class="modal-footer">
					<a id="download-table" class="disabled-btn"><input type="button" class="primary_btn" value="Download XLS file"></a>
				</div>
               </div>
            </div>
         </div>
      </div>
   </div>
   <div class="modal fade" id="image-download-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-backdrop="static" data-keyboard="false">
      <div class="vertical-alignment-helper">
         <div class="modal-dialog citation_modal vertical-align-center subs-modal" role="document" data-backdrop="static" data-keyboard="false">
            <div class="modal-content image-download-modal">
               <div class="modal-body">
                 <div class="signin_close"><a title="Close" aria-hidden="true" href="javascript:;" data-dismiss="modal" tabindex="-1" role="application"><img src="/bloomsbury_assets/bloomsbury/images/signin_close.png" tabindex="0" role="button" aria-label="close" alt="Close"></a></div>
				 <div class="table-content">
				 
				 </div>
               </div>
            </div>
         </div>
      </div>
   </div>
   <div class="modal fade" id="download-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-backdrop="static" data-keyboard="false">
      <div class="vertical-alignment-helper">
         <div class="modal-dialog citation_modal vertical-align-center subs-modal" role="document" data-backdrop="static" data-keyboard="false">
            <div class="modal-content">
               <div class="modal-body">
                  <div class="signin_close"><a title="Close" aria-hidden="true" href="javascript:;" data-dismiss="modal" tabindex="-1" role="application"><img src="/bloomsbury_assets/bloomsbury/images/signin_close.png" tabindex="0" role="button" aria-label="close" alt="Close"></a></div>
                  <h2 id="commontool-signin" tabindex="0" aria-labelledby="commontool-signin">SIGN in to your personal account</h2>
                  <p id="commontool-signinarticle" tabindex="0" aria-labelledby="commontool-signinarticle">Use your personal account to save  'favourite' articles, chapters and books. <a href="javascript:;" class="article-signin favourite-signin" data-toggle="modal" data-target="#signin_modal" tabindex="0">Sign In now</a></p>
                  <p id="commontool-accountyet" tabindex="0" aria-labelledby="commontool-accountyet">Don't have a personal account yet?  <a href="sign-up" title="Sign Up now" tabindex="0">Sign Up now</a></p>
               </div>
            </div>
         </div>
      </div>
   </div>

<div class="modal fade" id="citation-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-backdrop="static" data-keyboard="false">
   <div class="vertical-alignment-helper">
      <div class="modal-dialog citation_modal vertical-align-center" role="document">
         <div class="modal-content">
            <div class="modal-body">
               <div class="signin_close"><a title="Close" aria-hidden="true" href="javascript:;" data-dismiss="modal" tabindex="-1" role="application"><img src="/bloomsbury_assets/bloomsbury/images/signin_close.png" tabindex="0" role="button" aria-label="close" alt="Close"></a></div>
               <h2 id="commontool-citeopt" tabindex="0" aria-labelledby="commontool-citeopt">Citation Options</h2>
               <ul class="nav nav-tabs responsive-tabs" role="tablist">
                  <li role="APA" class="active"><a href="#tab1" aria-controls="APA" role="tab" data-toggle="tab" title="APA" class="no-focus">APA</a></li>
                  <li role="MLA"><a href="#tab2" aria-controls="MLA" role="tab" data-toggle="tab" class="no-focus">MLA</a></li>
                  <li role="Chicago"><a href="#tab3" aria-controls="Chicago" role="tab" data-toggle="tab" class="no-focus">Chicago</a></li>
                   
               <span class="glyphicon glyphicon-triangle-bottom"></span><span class="glyphicon glyphicon-triangle-top"></span></ul>
               <div class="tab-content">
                   <div role="tabpanel" class="tab-pane active" id="tab1">
            			            				            				            				<p id="bar" class="citation_apa" tabindex="0" aria-label="$articlecitations.apa.replace(" date",="" "$date.full_date")"=""></p>
            				<div align="center" class="tabs_btns">
    						    <input type="button" class="btn primary_btn" data-clipboard-action="copy" data-clipboard-target="#bar" value="Copy to Clipboard" autocomplete="off">
    						        						        						    <a href="app/getris?doctype=encyclopedia&amp;docid=b-9781718209565&amp;xmlSource=9781718209565_txt_xml.xml" data-citationtype="apa" download="b-9781718209565.ris"><input type="button" class="secondary_btn" value="Export RIS file"></a>
        				    </div>
        				    <div id="commontool-apa-copyclipboard1" class="copy-error" style="display:none;" tabindex="0" aria-labelledby="commontool-apa-copyclipboard1">Copy to clipboard is not supported by your browser. Please update your browser version or manually copy the content.</div>
            			                  </div>
                  <div role="tabpanel" class="tab-pane" id="tab2">
																							<p id="bar1" class="citation_mla" tabindex="0" aria-label="$articlecitations.mla.replace(" date",="" "$date.full_date")"="">$articlemlacitations</p>
                        <div align="center" class="tabs_btns">
                            <input type="button" class="btn primary_btn" data-clipboard-action="copy" data-clipboard-target="#bar1" value="Copy to Clipboard" autocomplete="off">
                            						    						    <a href="app/getris?doctype=encyclopedia&amp;docid=b-9781718209565&amp;xmlSource=9781718209565_txt_xml.xml" data-citationtype="mla" download="b-9781718209565.ris"><input type="button" class="secondary_btn" value="Export RIS file"></a>
                        </div>
					    <div id="commontool-mla-copyclipboard1" class="copy-error" style="display:none;" tabindex="0" aria-labelledby="commontool-mla-copyclipboard1">Copy to clipboard is not supported by your browser. Please update your browser version or manually copy the content.</div>
					                  </div>
                  <div role="tabpanel" class="tab-pane" id="tab3">
																							<p id="bar2" class="citation_chicago" tabindex="0" aria-label="$articlecitations.chicago.replace(" date",="" "$date.full_date")"=""></p>
						<div align="center" class="tabs_btns">
    						<input type="button" class="btn primary_btn" data-clipboard-action="copy" data-clipboard-target="#bar2" value="Copy to Clipboard" autocomplete="off">
    						                                				        <a href="app/getris?doctype=encyclopedia&amp;docid=b-9781718209565&amp;xmlSource=9781718209565_txt_xml.xml" data-citationtype="chicago" download="b-9781718209565.ris"><input type="button" class="secondary_btn" value="Export RIS file"></a>
				        </div>
				        <div id="commontool-chicago-copyclipboard1" class="copy-error" style="display:none;" tabindex="0" aria-labelledby="commontool-chicago-copyclipboard1">Copy to clipboard is not supported by your browser. Please update your browser version or manually copy the content.</div>
					                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</div>

<div class="modal fade" id="print-dialog" tabindex="-1" role="dialog" aria-labelledby="printModalLabel" data-backdrop="static" data-keyboard="false">
   <div class="vertical-alignment-helper">
      <div class="modal-dialog citation_modal vertical-align-center" role="document">
         <div class="modal-content">
            <div class="modal-body">
               <div class="signin_close"><a title="Close" aria-hidden="true" href="javascript:;" data-dismiss="modal" tabindex="-1" role="application"><img src="/bloomsbury_assets/bloomsbury/images/signin_close.png" tabindex="0" role="button" aria-label="close" alt="Close"></a></div>
               <div class="text-center print-content">
			   <img id="print_loading" src="/bloomsbury_assets/bloomsbury/images/loader.gif" tabindex="0" role="img" aria-label="Loader">
				 <h3 id="print_waiting">Getting your document ready for printing...</h3>
			   <h3 id="print_ready" class="hide">Your document is ready. Please <a href="#" id="print_page" title="Print document">click here</a> to proceed.</h3>
			   </div>
             
               </div>
            </div>
         </div>
      </div>
   </div>
<!--?xml version="1.0" encoding="UTF-8"?-->

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Sports Massage for Injury Care</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><meta name="description" content="Enable your clients and patients to get back in the game and live pain free after injury. In Sports Massage for Injury Care, experienced sports therapist Bob McAtee explains the types of soft tissue injury most common in sport and explains why manual therapy is so valuable in treating musculoskeletal injuries. No two injuries are the same. Whether an injury is acute or chronic, you need to understand and treat the underlying cause so you dont leave your athletes susceptible to re-injury. Sports Massage for Injury Care emphasizes the importance of accurate assessment and evaluation, and it focuses on 20 of the most common neuromuscular injuries seen in athletes. For each featured injury, there are assessment recommendations, treatment options and injury-specific protocols, and self-care options for when the athlete is not on the treatment table."><input xmlns="" xmlns:file="java.io.File" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:bmy="http://www.bloomsbury.com/ns/xsl" xmlns:db="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:vr="http://www.vraweb.org/vracore4.htm" xmlns:tools="java:com.bloomsbury.viewtools.SearchResultTool" type="hidden" id="workfile" value="hklheal_monographAsReference-vra.xml"><input xmlns="" xmlns:file="java.io.File" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:bmy="http://www.bloomsbury.com/ns/xsl" xmlns:db="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:vr="http://www.vraweb.org/vracore4.htm" xmlns:tools="java:com.bloomsbury.viewtools.SearchResultTool" type="hidden" id="workid" value="hklheal_monographAsReference"><input xmlns="" xmlns:file="java.io.File" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:bmy="http://www.bloomsbury.com/ns/xsl" xmlns:db="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:vr="http://www.vraweb.org/vracore4.htm" xmlns:tools="java:com.bloomsbury.viewtools.SearchResultTool" type="hidden" id="docid" value="b-9781718209565"><input xmlns="" xmlns:file="java.io.File" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:bmy="http://www.bloomsbury.com/ns/xsl" xmlns:db="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:vr="http://www.vraweb.org/vracore4.htm" xmlns:tools="java:com.bloomsbury.viewtools.SearchResultTool" type="hidden" id="workTitle" value="Sports Massage for Injury Care"><input xmlns="" xmlns:file="java.io.File" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:bmy="http://www.bloomsbury.com/ns/xsl" xmlns:db="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:vr="http://www.vraweb.org/vracore4.htm" xmlns:tools="java:com.bloomsbury.viewtools.SearchResultTool" type="hidden" id="seriesRefid" value=""><input xmlns="" xmlns:file="java.io.File" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:bmy="http://www.bloomsbury.com/ns/xsl" xmlns:db="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:vr="http://www.vraweb.org/vracore4.htm" xmlns:tools="java:com.bloomsbury.viewtools.SearchResultTool" type="hidden" id="isbn-squid" value="9781718209565"><input xmlns="" xmlns:file="java.io.File" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:bmy="http://www.bloomsbury.com/ns/xsl" xmlns:db="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:vr="http://www.vraweb.org/vracore4.htm" xmlns:tools="java:com.bloomsbury.viewtools.SearchResultTool" type="hidden" id="pubname-squid" value="Human Kinetics"><div xmlns="" xmlns:file="java.io.File" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:bmy="http://www.bloomsbury.com/ns/xsl" xmlns:db="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:vr="http://www.vraweb.org/vracore4.htm" xmlns:tools="java:com.bloomsbury.viewtools.SearchResultTool" class="container article_template"><ul class="breadcrumb hidden-xs hidden-sm" role="menu"><li role="menuitem"><a href="home">Home</a></li><li role="menuitem"><a xmlns:cloud="java:com.bloomsbury.common.CloudinaryUtil" class="subfacet" href="browse-content?docid=monoAsRef">Ebook</a></li><li id="bread-volume" tabindex="0" aria-labelledby="bread-volume" role="menuitem">Sports Massage for Injury Care</li></ul><input type="hidden" id="addtorecentlyview" value="no"><div class="col-lg-9 col-md-9 col-sm-12 col-xs-12 article_right art_left_pad content_container page-content-start"><div class="col-lg-9 col-md-9 col-sm-9 col-xs-12 no_pad"><div id="title" aria-label="Main Title Sports Massage for Injury Care"><h2>Sports Massage for Injury Care</h2><input type="hidden" id="book-title-squid" value="Sports Massage for Injury Care"></div><div class="article_cont"><div class="pull-left author-alias">
                        by <a href="#"></a><a href="javascript:;" class="popper" data-original-title="" title="">Robert  E.  McAtee  </a><div class="popper-content hide"><p class="author-bio">Robert E. McAtee, BA, LMT, CSCS, C-PT, has been a sport massage therapist since 1981, specializing in sport and orthopedic massage therapy. Since 1988 he has maintained an active international sport massage practice in Colorado Springs, Colorado. <i>Author affiliation details are correct at time of print publication.</i></p><a href="search-results?au=Robert  E.  McAtee  ">Search for publications</a></div><div class="hide" id="author"><a href="search-results?Au=Robert%20E.%20McAtee">Robert E. McAtee</a></div></div><div class="clearfix"></div><div class="pull-left" id="pub-yeardata">Human Kinetics, 2020</div><div class="clearfix"></div></div><input type="hidden" id="epdf-isbn-squid" value=""><div class="category_table cat_content article_title monography-title-txt"><ul><li><div class="cat_tab1">DOI:</div><div class="cat_tab2"><span>10.5040/9781718209565</span><input type="hidden" id="doi-squid" value="10.5040/9781718209565"></div></li><li><div class="cat_tab1">ISBN:</div><div class="cat_tab2"><span>978-1-4925-6063-0 (paperback)<br><br>978-1-7182-0956-5 (online)</span></div></li><li><div class="cat_tab1">Edition:</div><div class="cat_tab2"><span>First Edition</span></div></li><li><div class="cat_tab1">Place of Publication:</div><div class="cat_tab2">Champaign, IL</div></li><li><div class="cat_tab1">Published Online:</div><div class="cat_tab2">2021</div></li><li><div class="cat_tab1">Content Set:</div><div class="cat_tab2"> <a href="custom-browse?docid=HumanKineticsHealthCareinSportandExercise">Human Kinetics Health Care in Sport and Exercise</a> and <a href="custom-browse?docid=Ebooks">Ebooks</a></div></li><li><div class="cat_tab1 hide">Buy in Other Formats:</div><div class="cat_tab2 hide"><a href="javascript:void(0);" class="confirmModal" id="buy-item"></a></div></li></ul><input type="hidden" id="publicationYear" name="publicationYear" value="2020"><input type="hidden" id="year_counter" value="2020"><input type="hidden" id="pubdate-squid" value="2020"><input type="hidden" id="imprintvalue" name="imprintvalue" value="Human Kinetics"><input type="hidden" id="publisherName" name="imprintvalue" value="Human Kinetics"><input type="hidden" id="publisherName" name="imprintvalue" value="Human Kinetics"><input type="hidden" id="titlevalue" name="titlevalue" value="Sports Massage for Injury Care"><div id="authorname" class="hide"><a href="search-results?Au=Robert%20E.%20McAtee">Robert E. McAtee</a></div><input type="hidden" class="counter-author" value="McAtee,Robert"><input type="hidden" id="squid-author" value="Robert McAtee"></div></div><div class="col-lg-3 col-md-3 col-sm-3 col-xs-12 no_pad article_image"><div class="clearfix"></div><img id="coverImageUrl" data-src="https://res.cloudinary.com/bloomsbury-publishing-public/image/upload/q_auto,f_auto,w_auto,e_sharpen:80,c_limit/hklheal/b-9781718209565/9781718209565.jpg" alt="Sports Massage for Injury Care" title="Sports Massage for Injury Care" class="img-responsive article_img cld-responsive" src="https://res.cloudinary.com/bloomsbury-publishing-public/image/upload/q_auto,f_auto,w_300,e_sharpen:80,c_limit/hklheal/b-9781718209565/9781718209565.jpg"><div class="find-in-library" style="margin-top: 5px;"><a href="https://hkmu.primo.exlibrisgroup.com/openurl/852HKMU_INST/852HKMU_INST:hkmu??genre=eBooks&amp;title=Sports Massage for Injury Care&amp;aulast=McAtee&amp;aufirst=Robert&amp;date=2020" class="popper confirmModal" style="font-size: 11px;" target="_blank" data-original-title="" title=""><img id="resolverIcon" src="https://sigma-uploads-production.s3.amazonaws.com/production/open_url_icons/ead2e64180a8f7e342ae6134b7b4ce5bbbf90c95.gif" alt="Find this volume in your library" title="Find this volume in your library" style="display: initial;box-shadow: none;float: none;margin-top: 0px;margin-right: 10px;width:80px;" class="img-responsive"><span style="font-size: 13px;">Find in your library</span></a></div></div><div class="clearfix"></div><div class="input-group search-within outer-search"><input type="text" class="form-control" id="srch-enc" placeholder="Search within this book" autocomplete="off"><span class="input-group-btn"><button class="btn btn-default disabled-btn" id="srch-enc-btn" type="button">Go</button></span></div><div id="accordion-panel" class="expand_all"><span tabindex="0">Collapse All Sections</span></div><div class="clearfix"></div><div class="panel-group taxonomy_accordian ency_tab" id="accordion1"><div class="panel panel-default"><div class="panel-heading"><h4 class="panel-title"><a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion1" href="#collapseOne"><span tabindex="0" class="glyphicon glyphicon-plus" title="Collapse"></span>
								BOOK SUMMARY / ABSTRACT
							</a></h4></div><div id="collapseOne" class="panel-collapse collapse parent-accordion"><div class="panel-body"><p xmlns="http://www.w3.org/1999/xhtml"><a id="b-9781718209565-0000055"></a>Enable your clients and patients to get back in the game and live pain free after injury. In <span class="italic">Sports Massage for Injury Care</span>, experienced sports therapist Bob McAtee explains the types of soft tissue injury most common in sport and explains why manual therapy is so valuable in treating musculoskeletal injuries.</p><p xmlns="http://www.w3.org/1999/xhtml"><a id="b-9781718209565-0000056"></a>No two injuries are the same. Whether an injury is acute or chronic, you need to understand and treat the underlying cause so you dont leave your athletes susceptible to re-injury. <span class="italic">Sports Massage for Injury Care</span> emphasizes the importance of accurate assessment and evaluation, and it focuses on 20 of the most common neuromuscular injuries seen in athletes. For each featured injury, there are assessment recommendations, treatment options and injury-specific protocols, and self-care options for when the athlete is not on the treatment table.</p></div></div></div></div><div class="panel-group taxonomy_accordian ency_tab" id="accordion"><div class="panel panel-default"><div class="panel-heading"><h4 class="panel-title"><a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseTwo"><span tabindex="0" class="glyphicon glyphicon-minus" title="Expand"></span>
								TABLE OF CONTENTS
							</a></h4></div><div id="collapseTwo" class="panel-collapse collapse in parent-accordion table-accordian"><div class="panel-body table_contents zero-padding"><div class="input-group table-content-search"><input type="text" placeholder="Page No." value="" id="goto_pageno" class="form-control positive-integer number-class"><span class="input-group-btn"><button class="btn btn-default disabled-btn" type="button" id="goto_pagenobtn">Go</button></span></div><div class="clearfix"></div><ul id="sub-accordion"><div xmlns:cloud="java:com.bloomsbury.common.CloudinaryUtil" class="panel-group" id="accordion"><div class="panel panel-default"><div class="panel-heading accordian_toc "><h4 class="panel-title" style="padding-bottom: 2px;width: 100%;display: table;"><a class="accordion-toggle" data-toggle="collapse" data-parent="#accordionfront" href="#collapseb-9781718209565-0000058"><span class="glyphicon glyphicon-plus"></span>Front matter</a></h4></div><div class="clearfix"></div><div id="collapseb-9781718209565-0000058" class="panel-collapse collapse"><div class="panel-body table_contents zero-padding"><ul class="sub-accordion-content default"><li class="sub-accordion-toggle mono-toc"><div class="dots_div"><a href="encyclopedia-chapter?docid=b-9781718209565&amp;tocid=b-9781718209565-0000066&amp;pdfid=9781718209565.0002.pdf" class="links-toc">Dedication</a></div><span><a href="encyclopedia-chapter?docid=b-9781718209565&amp;tocid=b-9781718209565-0000066&amp;pdfid=9781718209565.0002.pdf" class="links-toc">iii</a></span></li><ul class="sub-accordion-content default"></ul><li class="sub-accordion-toggle mono-toc"><div class="dots_div"><a href="encyclopedia-chapter?docid=b-9781718209565&amp;tocid=b-9781718209565-0000077&amp;pdfid=9781718209565.0004.pdf" class="links-toc">Preface</a></div><span><a href="encyclopedia-chapter?docid=b-9781718209565&amp;tocid=b-9781718209565-0000077&amp;pdfid=9781718209565.0004.pdf" class="links-toc">viiviii</a></span></li><li class="sub-accordion-toggle mono-toc"><div class="dots_div"><a href="encyclopedia-chapter?docid=b-9781718209565&amp;tocid=b-9781718209565-0000104&amp;pdfid=9781718209565.0005.pdf" class="links-toc">Acknowledgements</a></div><span><a href="encyclopedia-chapter?docid=b-9781718209565&amp;tocid=b-9781718209565-0000104&amp;pdfid=9781718209565.0005.pdf" class="links-toc">xixii</a></span></li><ul class="sub-accordion-content default"></ul></ul></div></div><div class="clearfix"></div></div></div><div xmlns:cloud="java:com.bloomsbury.common.CloudinaryUtil" class="panel-group" id="accordion"><div class="panel panel-default"><div class="panel-heading accordian_toc "><h4 class="panel-title" style="padding-bottom: 2px;width: 100%;display: table;"><a class="accordion-toggle" data-toggle="collapse" data-parent="#accordionfront" href="#collapseb-9781718209565-partI"><span class="glyphicon glyphicon-minus"></span>I. Foundational Knowledge</a></h4></div><div class="clearfix"></div><div id="collapseb-9781718209565-partI" class="panel-collapse collapse in"><div class="panel-body table_contents zero-padding"><ul class="sub-accordion-content default"><div class="panel-group" id="accordion"><div class="panel panel-default"><div class="panel-heading accordian_toc subacc-ency seclevel-ency"><h4 class="panel-title"><div class="dots_div"><a href="encyclopedia-chapter?docid=b-9781718209565&amp;tocid=b-9781718209565-chapter1&amp;pdfid=9781718209565.ch-001.pdf" style="" class="links-toc">1. Concepts and Principles</a></div><span class="toc-num"><a href="encyclopedia-chapter?docid=b-9781718209565&amp;tocid=b-9781718209565-chapter1&amp;pdfid=9781718209565.ch-001.pdf" style="" class="links-toc">38</a></span></h4></div></div></div><div class="panel-group" id="accordion"><div class="panel panel-default"><div class="panel-heading accordian_toc subacc-ency seclevel-ency"><h4 class="panel-title"><div class="dots_div"><a href="encyclopedia-chapter?docid=b-9781718209565&amp;tocid=b-9781718209565-chapter2&amp;pdfid=9781718209565.ch-002.pdf" style="" class="links-toc">2. Reviewing Soft Tissue Types</a></div><span class="toc-num"><a href="encyclopedia-chapter?docid=b-9781718209565&amp;tocid=b-9781718209565-chapter2&amp;pdfid=9781718209565.ch-002.pdf" style="" class="links-toc">916</a></span></h4></div></div></div><div class="panel-group" id="accordion"><div class="panel panel-default"><div class="panel-heading accordian_toc subacc-ency seclevel-ency"><h4 class="panel-title"><div class="dots_div"><a href="encyclopedia-chapter?docid=b-9781718209565&amp;tocid=b-9781718209565-chapter3&amp;pdfid=9781718209565.ch-003.pdf" style="" class="links-toc">3. Principles of Assessment</a></div><span class="toc-num"><a href="encyclopedia-chapter?docid=b-9781718209565&amp;tocid=b-9781718209565-chapter3&amp;pdfid=9781718209565.ch-003.pdf" style="" class="links-toc">1728</a></span></h4></div></div></div></ul></div></div><div class="clearfix"></div></div></div><div xmlns:cloud="java:com.bloomsbury.common.CloudinaryUtil" class="panel-group" id="accordion"><div class="panel panel-default"><div class="panel-heading accordian_toc "><h4 class="panel-title" style="padding-bottom: 2px;width: 100%;display: table;"><a class="accordion-toggle" data-toggle="collapse" data-parent="#accordionfront" href="#collapseb-9781718209565-partII"><span class="glyphicon glyphicon-minus"></span>II. A Closer Look at Injury and Repair</a></h4></div><div class="clearfix"></div><div id="collapseb-9781718209565-partII" class="panel-collapse collapse in"><div class="panel-body table_contents zero-padding"><ul class="sub-accordion-content default"><div class="panel-group" id="accordion"><div class="panel panel-default"><div class="panel-heading accordian_toc subacc-ency seclevel-ency"><h4 class="panel-title"><div class="dots_div"><a href="encyclopedia-chapter?docid=b-9781718209565&amp;tocid=b-9781718209565-chapter4&amp;pdfid=9781718209565.ch-004.pdf" style="" class="links-toc">4. Soft Tissue Injury and Repair</a></div><span class="toc-num"><a href="encyclopedia-chapter?docid=b-9781718209565&amp;tocid=b-9781718209565-chapter4&amp;pdfid=9781718209565.ch-004.pdf" style="" class="links-toc">3142</a></span></h4></div></div></div><div class="panel-group" id="accordion"><div class="panel panel-default"><div class="panel-heading accordian_toc subacc-ency seclevel-ency"><h4 class="panel-title"><div class="dots_div"><a href="encyclopedia-chapter?docid=b-9781718209565&amp;tocid=b-9781718209565-chapter5&amp;pdfid=9781718209565.ch-005.pdf" style="" class="links-toc">5. Soft Tissue Techniques</a></div><span class="toc-num"><a href="encyclopedia-chapter?docid=b-9781718209565&amp;tocid=b-9781718209565-chapter5&amp;pdfid=9781718209565.ch-005.pdf" style="" class="links-toc">4354</a></span></h4></div></div></div></ul></div></div><div class="clearfix"></div></div></div><div xmlns:cloud="java:com.bloomsbury.common.CloudinaryUtil" class="panel-group" id="accordion"><div class="panel panel-default"><div class="panel-heading accordian_toc "><h4 class="panel-title" style="padding-bottom: 2px;width: 100%;display: table;"><a class="accordion-toggle" data-toggle="collapse" data-parent="#accordionfront" href="#collapseb-9781718209565-partIII"><span class="glyphicon glyphicon-minus"></span>III. Common Neuromuscular Injuries</a></h4></div><div class="clearfix"></div><div id="collapseb-9781718209565-partIII" class="panel-collapse collapse in"><div class="panel-body table_contents zero-padding"><ul class="sub-accordion-content default"><div class="panel-group" id="accordion"><div class="panel panel-default"><div class="panel-heading accordian_toc subacc-ency seclevel-ency"><h4 class="panel-title"><div class="dots_div"><a href="encyclopedia-chapter?docid=b-9781718209565&amp;tocid=b-9781718209565-chapter6&amp;pdfid=9781718209565.ch-006.pdf" style="" class="links-toc">6. Treatment of Lower-Extremity Soft Tissue Injuries</a></div><span class="toc-num"><a href="encyclopedia-chapter?docid=b-9781718209565&amp;tocid=b-9781718209565-chapter6&amp;pdfid=9781718209565.ch-006.pdf" style="" class="links-toc">57120</a></span></h4></div></div></div><div class="panel-group" id="accordion"><div class="panel panel-default"><div class="panel-heading accordian_toc subacc-ency seclevel-ency"><h4 class="panel-title"><div class="dots_div"><a href="encyclopedia-chapter?docid=b-9781718209565&amp;tocid=b-9781718209565-chapter7&amp;pdfid=9781718209565.ch-007.pdf" style="" class="links-toc">7. Treatment of Upper-Extremity Soft Tissue Injuries</a></div><span class="toc-num"><a href="encyclopedia-chapter?docid=b-9781718209565&amp;tocid=b-9781718209565-chapter7&amp;pdfid=9781718209565.ch-007.pdf" style="" class="links-toc">121148</a></span></h4></div></div></div><div class="panel-group" id="accordion"><div class="panel panel-default"><div class="panel-heading accordian_toc subacc-ency seclevel-ency"><h4 class="panel-title"><div class="dots_div"><a href="encyclopedia-chapter?docid=b-9781718209565&amp;tocid=b-9781718209565-chapter8&amp;pdfid=9781718209565.ch-008.pdf" style="" class="links-toc">8. Sports</a></div><span class="toc-num"><a href="encyclopedia-chapter?docid=b-9781718209565&amp;tocid=b-9781718209565-chapter8&amp;pdfid=9781718209565.ch-008.pdf" style="" class="links-toc">149194</a></span></h4></div></div></div></ul></div></div><div class="clearfix"></div></div></div><div xmlns:cloud="java:com.bloomsbury.common.CloudinaryUtil" class="panel-group" id="accordion"><div class="panel panel-default"><div class="panel-heading accordian_toc "><h4 class="panel-title" style="padding-bottom: 2px;width: 100%;display: table;"><a class="accordion-toggle" data-toggle="collapse" data-parent="#accordionfront" href="#collapseb-9781718209565-0003716"><span class="glyphicon glyphicon-plus"></span>Back matter</a></h4></div><div class="clearfix"></div><div id="collapseb-9781718209565-0003716" class="panel-collapse collapse"><div class="panel-body table_contents zero-padding"><ul class="sub-accordion-content default"><li class="sub-accordion-toggle mono-toc"><div class="dots_div"><a href="encyclopedia-chapter?docid=b-9781718209565&amp;tocid=b-9781718209565-appendixA&amp;pdfid=9781718209565.0006.pdf" class="links-toc">Appendix A: Research Resources</a></div><span><a href="encyclopedia-chapter?docid=b-9781718209565&amp;tocid=b-9781718209565-appendixA&amp;pdfid=9781718209565.0006.pdf" class="links-toc">195196</a></span></li><ul class="sub-accordion-content default"></ul><li class="sub-accordion-toggle mono-toc"><div class="dots_div"><a href="encyclopedia-chapter?docid=b-9781718209565&amp;tocid=b-9781718209565-0003731&amp;pdfid=9781718209565.0007.pdf" class="links-toc">References</a></div><span><a href="encyclopedia-chapter?docid=b-9781718209565&amp;tocid=b-9781718209565-0003731&amp;pdfid=9781718209565.0007.pdf" class="links-toc">197202</a></span></li><ul class="sub-accordion-content default"></ul><div class="panel-group" id="accordion"><div class="panel panel-default"><div class="panel-heading accordian_toc subacc-ency seclevel-ency"><h4 class="panel-title"><div class="dots_div"><a href="encyclopedia-chapter?docid=b-9781718209565&amp;tocid=b-9781718209565-0003830&amp;pdfid=9781718209565.0009.pdf" style="" class="links-toc">About The Author</a></div><span class="toc-num"><a href="encyclopedia-chapter?docid=b-9781718209565&amp;tocid=b-9781718209565-0003830&amp;pdfid=9781718209565.0009.pdf" style="" class="links-toc">212</a></span></h4></div></div></div></ul></div></div><div class="clearfix"></div></div></div></ul><p class="toc-end"></p></div></div></div></div></div><div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 art_left_pad"><div class="subjects-div hide"><p id="vol-contentType" tabindex="0" aria-labelledby="vol-contentType"><a xmlns:cloud="java:com.bloomsbury.common.CloudinaryUtil" class="subfacet" href="search-results?any=&amp;su=monoAsRef">Ebook</a></p></div><div class="subjects-div hide"><p id="vol-topic" tabindex="0" aria-labelledby="vol-topic"><a xmlns:cloud="java:com.bloomsbury.common.CloudinaryUtil" class="subfacet" href="search-results?any=&amp;su=sportsMedicineandHealthcare">Sports Medicine and Healthcare</a>, <a xmlns:cloud="java:com.bloomsbury.common.CloudinaryUtil" class="subfacet" href="search-results?any=&amp;su=topic">Topic</a></p></div></div></div></div>

<div class="modal fade" id="share-mail" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-backdrop="static" data-keyboard="false">
   <div class="vertical-alignment-helper">
      <div class="modal-dialog share_modal vertical-align-center" role="document">
         <div class="modal-content">
            <div class="modal-body">
               <div class="signin_close"><a title="Close" aria-hidden="true" href="javascript:;" data-dismiss="modal" tabindex="-1" role="application"><img src="/bloomsbury_assets/bloomsbury/images/signin_close.png" tabindex="0" role="button" aria-label="close" alt="Close"></a></div>
               <h2 id="commontool-sharevia" tabindex="0" aria-labelledby="commontool-sharevia">Share This via...</h2>
               <div class="share_icons">
														









        

<a class="" href="https://plus.google.com/share?url=https%3A%2F%2Fwww.humankineticslibrary.com%2Fencyclopedia%3Fdocid%3Db-9781718209565" onclick="javascript:if(confirm('You are being redirected to an external link. Do you wish to continue?')) {window.open(this.href,'', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;}
		else {return false;}">
	<span class="icon-Social_Google" title="Google"></span>
</a>

<a class="confirmModal " target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.humankineticslibrary.com%2Fencyclopedia%3Fdocid%3Db-9781718209565">
	<span class="icon-Social_Facebook" title="Facebook"></span>
</a>

<a class="twitter-share " href="https://twitter.com/share?url=https%3A%2F%2Fwww.humankineticslibrary.com%2Fencyclopedia%3Fdocid%3Db-9781718209565&amp;text=" onclick="javascript:if(confirm('You are being redirected to an external link. Do you wish to continue?')) {window.open(this.href,'', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;}
		else {return false;}">
	<span class="icon-Social_Twitter" title="Twitter"></span>
</a>

<a target="_blank" class="" href="https://pinterest.com/pin/create/link/?url=https%3A%2F%2Fwww.humankineticslibrary.com%2Fencyclopedia%3Fdocid%3Db-9781718209565&amp;media=https://res.cloudinary.com/bloomsbury-publishing-public/image/upload/q_34,b_black,h_0.7/hklheal/b-9781718209565/9781718209565.jpg&amp;description=" onclick="javascript:if(confirm('You are being redirected to an external link. Do you wish to continue?')) {window.open(this.href,'','menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;}
		else {return false;}">
	<span class="icon-Social_Pinterest"></span>
</a>



<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.6&appId=341380242927890";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

                  <br>
                  <div id="commontool-or" align="center" tabindex="0" aria-labelledby="commontool-or" class="">Or</div>
				               </div>
               <div class="clearfix"></div>
                              <script src="https://www.recaptcha.net/recaptcha/api.js"></script>








 
 
<h1>
 
 





 








 


 


</h1><h2 id="emailshare-email" tabindex="0" aria-labelledby="emailshare-email">Email</h2>
<form id="share-via-form" method="post" action="/app/contentemail">
  <div class="form-group">
	 <label id="emailshare-nametxt" tabindex="0" aria-labelledby="emailshare-nmetxt">To Name<sup>*</sup></label>
	 <input id="to-name" type="text" class="form-control" placeholder="Recipient's Name" name="toname" value="" method="post" autocomplete="off"> 
  </div>
  <div class="form-group">
	 <label id="emailshare-emailtxt" tabindex="0" aria-labelledby="emailshare-emailtxt">To Email<sup>*</sup></label>
	 <input id="to-email" type="text" class="form-control email-type" placeholder="Recipient's Email" name="toemail" value="" method="post" autocomplete="off"> 
	 <span id="emailshare-emailtxt-err" class="err-msg hide" tabindex="0" aria-live="polite" aria-labelledby="emailshare-emailtxt-err">Invalid Email address</span>
  </div>
  <div class="form-group">
	 <label id="emailshare-yournme" tabindex="0" aria-labelledby="emailshare-yournme">Your Name<sup>*</sup></label>
	 <input id="your-name" type="text" class="form-control" placeholder="Enter Your Name" name="fromname" data-name-value=" " value="" method="post" autocomplete="off"> 
  </div>
  <div class="form-group">
	 <label id="emailshare-youremail" tabindex="0" aria-labelledby="emailshare-youremail">Your Email<sup>*</sup></label>
	 <input id="your-email" type="text" class="form-control email-type" placeholder="Enter Your Email" name="fromemail" data-mail-value="" value="" method="post" autocomplete="off"> 
	 <span id="emailshare-youremail-err" class="err-msg hide" tabindex="0" aria-live="polite" aria-labelledby="emailshare-youremail-err">Invalid Email address</span>
  </div>
  <div class="form-group">
	 <label id="emailshare-subj" tabindex="0" aria-label="emailshare-subj">Subject<sup>*</sup></label>
	 <input id="subject" type="text" class="form-control" maxlength="100" placeholder="Enter Subject" name="subject" method="post" autocomplete="off"> 
  </div>
	<div class="form-group">
		<label id="emailshare-commen" tabindex="0" aria-labelledby="emailshare-commen">Comments</label>
		<span id="share-char-count" class="character-count">500</span>
		<textarea id="share-text-area" class="form-control" name="comments" method="post" placeholder="Enter your comment"></textarea>
	</div>
     <input type="hidden" id="selected-docids" name="docidlist" value="" method="post">
     <input type="hidden" id="selected-imageurl" name="selectedImageList" method="post">
     <input type="hidden" id="selected-citations" name="citationlist" method="post">
     <input type="hidden" id="selected-content-paths" name="contenttypelist" method="post">
     <input type="hidden" id="selectedsavedItems" name="savesearchnames" method="post">
	 <input type="hidden" id="selected-xml-list" name="selectedxmls" method="post">
	 <input type="hidden" id="selected-source-xml-list" name="selectedsourcexmls" method="post">
	 <input type="hidden" id="selectedsavedContenttypes" name="contenttypesavedlist" method="post">
	 <input type="hidden" id="selected-contenttypes" name="content_type" value="" method="post">
	 <input type="hidden" id="selected-subtitle" name="share_subtitle" value="" method="post">
	 <input type="hidden" id="selected-pubDate" name="share_date" value="" method="post">
 	 <input type="hidden" id="share-title" name="share_title" method="post">
	 <input type="hidden" id="share-authors" name="share_authors" method="post">
	 <input type="hidden" id="share-contenttype" name="share_contenttype" method="post">
	 <input type="hidden" id="share-image" name="share_image" method="post">
	 <input type="hidden" id="share-mylibrary-items" name="share_libraryitems" method="post">
	 <input type="hidden" id="share-saved-search" name="share_saved_search" value="false" method="post">
	 <input type="hidden" id="citation-exist" name="citation_exist" method="post">
	 <input type="hidden" name="docidForFree" value="b-9781718209565" method="post">
	 <input type="hidden" id="shared-description" name="shared-description" method="post">
	 <input type="hidden" id="shared-itemdate" name="shared-itemdate" method="post">
	 <input type="hidden" id="shared-alternativetitle" name="shared-alternativetitle" method="post">
	 <input type="hidden" id="shared-filedate" name="shared-filedate" method="post">
	 <input type="hidden" id="shared-filedescription" name="shared-filedescription" method="post">
	 <input type="hidden" id="shared-filealternativetitle" name="shared-filealternativetitle" method="post">
	 <input type="hidden" name="docidForOg" value="b-9781718209565" method="post">
	 <input type="hidden" name="lang" value="en" method="post">
	  <input type="hidden" id="shared-contentcdescription" name="shared-contentcdescription" method="post">
	  <input type="hidden" id="shared-contentfileTitle" name="shared-contentfileTitle" method="post">

	 	 	<input type="hidden" id="current-docid" name="docid" value="b-9781718209565" method="post">
          <input type="hidden" id="current-contentType" name="contentType" value="encyclopedia" method="post">
	 
	 
	 
	 			<input type="hidden" id="contenttypeurl" name="contenttypeurl" value="/encyclopedia?docid=b-9781718209565" method="post">
		    <input type="hidden" id="userloggedin" name="userloggedin" value="true" method="post">
		<input type="hidden" id="sitename" name="sitename" value="hklp" method="post">
		<input type="hidden" name="title" value="title" method="post">
		<input type="hidden" id="authors" name="authors" value="authors" method="post">
		<input type="hidden" id="page_image" name="page_image" value="" method="post">
		<input type="hidden" id="hostname" name="hostname" value="https://www-humankineticslibrary-com.ezproxy.lib.hkmu.edu.hk" method="post">
		<input type="hidden" name="citation_exist_single" value="$citationExist" method="post">
	 	
	 	<input type="hidden" id="publishUrl" value="https://www-humankineticslibrary-com.ezproxy.lib.hkmu.edu.hk/">

	 		 	<div align="center" class="capcha">
	      <div align="center" class="g-recaptcha" data-callback="shareCaptchaSuccess" data-expired-callback="shareCaptchaExpire" data-sitekey="6LdegBoUAAAAAKKIzS-B9ySCuRyg3cCODS044F-I"><div style="width: 304px; height: 78px;"><div><iframe title="reCAPTCHA" src="https://www.recaptcha.net/recaptcha/api2/anchor?ar=1&amp;k=6LdegBoUAAAAAKKIzS-B9ySCuRyg3cCODS044F-I&amp;co=aHR0cHM6Ly93d3ctaHVtYW5raW5ldGljc2xpYnJhcnktY29tLmV6cHJveHkubGliLmhrbXUuZWR1LmhrOjQ0Mw..&amp;hl=en&amp;v=khH7Ei3klcvfRI74FvDcfuOo&amp;size=normal&amp;cb=1a7vpxmog4q8" width="304" height="78" role="presentation" name="a-j4vwtrgh899" frameborder="0" scrolling="no" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox"></iframe></div><textarea id="g-recaptcha-response" name="g-recaptcha-response" class="g-recaptcha-response" style="width: 250px; height: 40px; border: 1px solid rgb(193, 193, 193); margin: 10px 25px; padding: 0px; resize: none; display: none;"></textarea></div><iframe style="display: none;"></iframe></div>
	    </div>
	    		<div class="share_btns">
			<input type="button" id="share-btn" class="primary_btn disabled-btn" value="Send">			
			<!--<input type="button" value="Reset" class="secondary_btn" data-toggle="modal" data-target="#share-via-reset">-->
			<input type="button" value="Reset" class="secondary_btn share-clear-btn">
		</div>		
</form>


<!--<div class="modal fade" id="share-via-reset" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-backdrop="static" data-keyboard="false">
    <div class="vertical-alignment-helper">
		<div class="modal-dialog alert_modal vertical-align-center" role="document">
			<div class="modal-content">
				<div class="modal-body">
					<h2>Alert</h2>
					<p>Are you sure you want to reset the form?</p>
					<input type="button" value="Yes" class="primary_btn share-clear-btn"> 
					<input type="button" value="No" class="secondary_btn share-clear-no-btn">
				</div>
			</div>
		</div>
	</div>	
</div>-->
<script type="text/javascript">
function shareCaptchaSuccess() {
   var $shareMandatory = $("#to-name, #to-email, #your-name, #your-email, #subject");
   shareValidate($shareMandatory);
}
function shareCaptchaExpire() {
    var $shareMandatory = $("#to-name, #to-email, #your-name, #your-email, #subject");
    shareValidate($shareMandatory);
}
var hostName = window.location.hostname;
var publishUrl = $("#publishUrl").val();
if (publishUrl) {
	if (!~publishUrl.indexOf(hostName)) {
		$('body').append('<input type="hidden" id="noCaptcha" value="true"/>');
		$(".capcha").remove();
	}
}
</script>
            </div>
         </div>
      </div>
   </div>
</div>

<div class="modal fade" id="share_success_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-backdrop="static" data-keyboard="false">
	<div class="vertical-alignment-helper">
		<div class="modal-dialog alert_modal vertical-align-center" role="document">
			<div class="modal-content">
				<div class="modal-body">
					<h2 id="emailshare-successtxt" tabindex="0" aria-labelledby="emailshare-successtxt">Success</h2>
					<p id="email-enquiry" tabindex="0" aria-labelledby="email-enquiry">Your mail has been sent successfully</p>
					<input type="button" value="OK" class="primary_btn share-success-btn" data-dismiss="modal">
				</div>
			</div>
		</div>
	</div>	
</div>

<script type="text/javascript">

var doctype = "encyclopedia";
var documentId = "b-9781718209565";
var titlename = "$titleQuote";
var titlevalue = "";
var description = "";
var xmlSource = "9781718209565_txt_xml.xml";
var contentType ="encyclopedia";
var mlaCitation = "$mlaCitation";
var partId = "$partid";
var lang = "en";
var productname = "hklp";
var contentDispType;
var ua = window.navigator.userAgent;
var msie = ua.indexOf("MSIE");
var isIE = false;
if (msie > 0 || !!navigator.userAgent.match(/Trident.*rv\:11\./)) {
	isIE = true;
}
var isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;
var siteId = 'bb01';
	$( "#save-btn" ).on('click',function() {
		if(!$(this).hasClass('disabled-btn')){
			var imagepath = '';
			var pageNo;
			var actionType="save";
			$("#authorname").children('.hide').remove();
			var authorname=$('#authorname').val() || $('#authorname').text();
			var imprintvalue = $('#imprintvalue').val();
			var publicationYear = $('#publicationYear').val() || $('#latlong').val();
			titlename = $('#title').text() || $('#title').val();
			titlevalue = $('#sub-title').text().length > 0 ? $('#sub-title').text().trim() : "";
			description = $('#description').text().trim().length >0 ? $('#description').text().trim():"";
			//var titlevalue = $('#titlevalue').val();
			if($('#actvalues').length > 0) {
				titlevalue += "~act~" + $.trim($('#actvalues').html().replaceAll('<b>','~b~').replaceAll('</b>','~/b~'));
			} else if ($(".drama-inline-block>.section-header").length > 0) {
				titlevalue = titlename;
            	if ($(".drama-inline-block>.section-header").text().toLowerCase().trim() != "playtext" && $(".drama-inline-block>.section-header").text().trim()) {
            		titlename = $(".drama-inline-block>.section-header").text() + " (text)";
            	} else {
            		titlename += " (text)";				
				}
			}
			if($("#seriesTitle").length > 0 && $("#seriesTitle").val()) {
				imprintvalue += "~~" + $("#seriesTitle").val();
			}
			if (!contentDispType) {
				if ($("#vol-contentTypes a").length > 0) {
					contentDispType = $("#vol-contentTypes a").eq(0).text();
				} else if ($("#vol-documentType a").length > 0) {
					contentDispType = $("#vol-documentType a").eq(0).text();
				} else if ($("#vol-contentType a").length > 0) {
					contentDispType = $("#vol-contentType a").eq(0).text();
				} else {
					contentDispType = "";
				}
			}
            var authorText = "";
            if ($(".drama-title-sub").length > 0) {
            	$(".drama-title-sub").each(function(){
            		var newContent = $(this).clone();
            		newContent.find("a").each(function(){
            			$(this).removeAttr("href").removeAttr("class");
            		});
            		authorText += "<p class='det-auth'>" + $.trim(newContent.html()) + "</p>"; 
            	});
            	authorname = authorText.replaceAll("<", "~").replaceAll(">","~~");
            }
            if ($("#authors-playtext").length > 0) {
				authorname = $("#authors-playtext").text().trim();
			}
            var selectedfolder=$('#save-item-page').find('.dropdown-toggle').attr('title');
			var selectedfolderid=$('#save-item-page').find('.selectpicker').find('option:selected').attr('label');
			var link=window.location.pathname;
			link=link.replaceAll('&','~');
			link=link.replaceAll('~com.dotmarketing.htmlpage.language=1','');			
			var queryStr = window.location.search;			
			
			link = (link+queryStr).split('&st=')[0];
			link=link.replaceAll('&','~');
			
            var coverImageUrl = $("#coverImageUrl").length>0?$("#coverImageUrl").attr('src'):$('#buildsupportimagelist').length>0?$('#buildsupportimagelist').val().split('~')[0]:0;
                        if(typeof coverImageUrl != "undefined" && coverImageUrl.length>0){
                imagepath = coverImageUrl;
            }

            			
            var referencingStyle=$('#refsyle').val();
           
			var selectedfolder=$('#save-item-page').find('.dropdown-toggle').attr('title');
			var selectedfolderid=$('#save-item-page').find('.selectpicker').find('option:selected').attr('label');
			var link=window.location.pathname;
			link=link.replaceAll('&','~');
			link=link.replaceAll('~com.dotmarketing.htmlpage.language=1','');			
			var queryStr = window.location.search;			
			
			link = (link+queryStr).split('&st=')[0];
			link=link.replaceAll('&','~');
			
			var path=window.location.href;
			documentId="b-9781718209565";
			var tocid="";
						if(tocid.length>0){
				documentId=tocid;
			}
			if(doctype == 'audio' || doctype == 'video'){
				titlename = $('#titletop').val();
				documentId="b-9781718209565";
			}
			if(doctype == 'image' ){
				documentId="b-9781718209565";
			}
			var ContentTypes ="";
			if("$level" == "file") {
			    ContentTypes = "catalogue-viewer-file";
			}else if("$level" == "item") {
			    ContentTypes = "catalogue-item";
			}
			var foldername = $(".addfoldername").val();
			var data =  {
                contentId: documentId,
                titlename: titlename,
                description: description,
                actionType: actionType,
                folder:selectedfolderid,
                imageUrl:imagepath,
                authorname:authorname,
                xmlSource:xmlSource,
                contentType:ContentTypes,
				contentDispType:contentDispType,
                product:productname,
				publicationYear:publicationYear,
				imprintvalue:imprintvalue,
				titlevalue:titlevalue,			
                link:link,
                referencingStyle:referencingStyle
            };
            
            var params = {name:foldername,description:'',product:productname,actionType:"save"};
			if (selectedfolderid == '-1') {
				showProgress();
				$.ajax({
					url: "/app/foldermanagement",
		            type: "POST",
		            data: params,
		            success: function(response) {
						if (response && response != "-1") {
		                	data.folder = response;
		                	callSaveMethod(data);
		                	$("#save-item-page").modal("hide");
		                } else {
		                	hideProgress();
		                	$("#errormsg").text('Folder name already exists');
							$('#errormsg').removeClass('hide');
		                }
		            },
		            error: function(xhr) {
		                hideProgress();
		            }	
				});
			} else {
				
			callSaveMethod(data);
			}
           					squidCall('Save', 'Toolbar');
					}
        });
	
	function callSaveMethod(data) {
		$.ajax({
            url: "/app/savepageservlet",
            type: "get",
            data: data,
            success: function(response) {
                window.location.reload(true);
            },
            error: function(xhr) {
                hideProgress();
            }
        });
			
	}

	$( "#save-item-btn" ).on('click',function() {
		if($(this).hasClass('active')) {
			$("#delete-folder-common").modal('show');
		} else {
			$(this).attr('data-target','#save-item-page');
			$($(this).data("target")).show();
		}
		
	});
	
	$("#deletefolder").on('click', function(){
		var link=window.location.pathname;
		var queryStr = window.location.search;
		link = (link+queryStr).split('&st=')[0];
		link=link.replaceAll('&','~');
        var actionType="delete";
		if(link.length>0){
            showProgress();
            $.ajax({
                url: "/app/savepageservlet",
                type: "get",
                data: {
                    contentId: documentId,
                    actionType: actionType,
                    link:link
                },
                success: function(response) {
                    hideProgress();
                    $("#delete-folder-common").modal("hide");
                    $("#save-item-btn").removeClass("active").removeClass('selected');
                },
                error: function(xhr) {
                    hideProgress();
                }
            });
		}
	});


	/* Move to Bloomsbury JS */
	function getMobileOperatingSystem() {
        var userAgent = navigator.userAgent || navigator.vendor || window.opera;
        // Windows Phone must come first because its UA also contains "Android"
        if (/windows phone/i.test(userAgent)) {
            return "Windows Phone";
        }
        if (/android/i.test(userAgent)) {
            return "Android";
        }
        // iOS detection from: http://stackoverflow.com/a/9039885/177710
        if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
            return "iOS";
        }
        return "unknown";
    }
    /* Move to Bloomsbury JS */

	

    /* Ctrl + P print functionality */
	
	

	/* Ctrl + P print functionality */
            
	$( "#print_page" ).click(function() {
		var OS = getMobileOperatingSystem();
		if ((isIE || isFirefox || OS == "Android" || OS == "iOS") && $("#pdf-name").length > 0) {
	    } else if (OS == "Android") {
	       	var originalContents = document.body.innerHTML;
	      	if (window.printContents) {
				document.body.innerHTML = window.printContents;
	       	}
	       	setTimeout(function() {
	           	window.print();
	           	document.body.innerHTML = originalContents;
	           	showProgress();
	           	window.location.href=window.location.href;
	       	}, 3000);
	    } else if (OS == "iOS") {
	      	setTimeout(function () {
	      		if (window.frames["frame1"]) {
		        	window.frames["frame1"].focus();
		        	window.frames["frame1"].print();
		    	}
	       	}, 500);
	    } else {
	       	setTimeout(function () {
	       		if (window.frames["frame1"]) {
	       			window.frames["frame1"].focus();
		        	window.frames["frame1"].print();
	       		}
	       	}, 500);
	    }	
					squidCall('Print', 'Toolbar');
				$("#print-dialog").modal("hide");
		/*$("#print_waiting").removeClass("hide");
		$("#print_loading").removeClass("hide");
		$("#print_ready").addClass("hide");*/
	});
	
			function squidCall(event, location, link) {
			var mdid = link || "";
			var options = window.squidObj || {};
			options.mact = event;
			options.mut = "Event";
			options.mdid = mdid;
			options.mcz = location;

			var userId;
			var formData;
			if (window.formObj) {
				formData = window.formObj;
				window.formObj = '';
			}
			triggerSquidEvent(options, event, siteId, userId, formData);
		}
		
		$("#citation-modal input[type='button']").on('click', function(e) {
			squidCall('Cite', 'Toolbar');		
		});

		$("#share-btn").on('click', function(e){
			if(!$(this).hasClass('disabled-btn')) {
				setTimeout(function(){
					squidCall('Share', 'Toolbar');
				}, 300);
			}
		});
		
		$("#download").click(function() {
			squidCall('Download', 'Toolbar');	
		});
	    
    /* Citation Modal Responsive TABS - MLA, APA, Chicago */
	$.fn.responsiveTabs = function() {
          this.addClass('responsive-tabs');
          this.append($('<span class="glyphicon glyphicon-triangle-bottom"></span>'));
          this.append($('<span class="glyphicon glyphicon-triangle-top"></span>'));
   
          this.on('click', 'li.active > a, span.glyphicon', function() {
              this.toggleClass('open');
          }.bind(this));
   
          this.on('click', 'li:not(.active) > a', function() {
              this.removeClass('open');
          }.bind(this));
    };
    $('.nav.nav-tabs').responsiveTabs();
    /* Citation Modal Responsive TABS - MLA, APA, Chicago */

	$('#citation-btn').on('click',function(){
		if(!$(this).parent().hasClass('inactive')) {
		    				var citeUrl = "/app/getCitations?doctype="+doctype+"&docid="+documentId;
			
			var targetElement = $(this);
			showProgress();
			$.ajax({
	            url: citeUrl, 
	            success: function (result) {
	                hideProgress();
	                var all_citations = JSON.parse(result);
	                for(member in all_citations) {
	                	$('.citation_'+member).html(all_citations[member]);	
	                }
					 $('.exportFile').attr('href',all_citations["risFile"]);
					 $('.exportFile').attr('target','_blank');
					var citation_modal=$('#citation-modal');
					citation_modal.find('li').removeClass('active');
					citation_modal.find('.citation').children('li:first').addClass('active');
					citation_modal.find('.responsive-tabs').children('li:first').addClass('active');
					citation_modal.find('.tab-content').children().removeClass('active');
					citation_modal.find('.tab-content').children('div:first').addClass('active');
					$(this).attr('data-target','#citation-modal');
					citation_modal.find('.primary_btn').val('Copy to Clipboard').removeAttr('disabled');
					document.getSelection().removeAllRanges();
					citation_modal.modal('show');
	            },
	            error: function(error) {
	            	hideProgress();
	            }
        	});
        	
		}
	});
  	

  	$(document).ready(function(event) {
    	$('.favourite-signin').on('click', function(){
  			addModalClass();
  		});

  		
  		/* External links Alert Pop up */
  		
  		/* External links Alert Pop up */

  		/* Page Numbering indicators in document pages */
  		
		/* Page Numbering indicators in document pages */

		/* Table and Image modal*/
		
		/* Table and Image modal*/
		

  		$('.addfoldername').on('keyup', function(e){
	  		$("#errormsg").addClass('hide');
	  		if($(this).val()) {
	  			$('#save-btn').removeClass('disabled-btn');
	  		} else {
	  			$('#save-btn').addClass('disabled-btn');
	  		}
	  		var keyPressed = e.keyCode;
	  		if (keyPressed == 13) {
	  			$("#save-btn").click();
	  		}
	  	});
	  	$('.addfoldername').on('keydown', function(e){
	  		var keyPressed = e.keyCode;
	  		if (keyPressed == 13) {
	  			e.preventDefault();
	  		}
	  	});

		$("#favorite-dwnld, #favorite-sbscript, #share-sharetxtmail, #citation-btn, #save-item-btn").on('click', function(e) {
			if( e.which != 2 ) {
				$(this).addClass('active');
			}
		});

		$('#share-mail').on('shown.bs.modal',function(){
		    var author=$('#author a').text();
		    if(author.length==0){
                var authors=[];
                $('.article_cont .pull-left a').each(function(){
                    if($(this).text().length>0) {
                        authors.push($(this).text());
                    }
                });
                author=authors.join(',');
            }

            var title=$('#title').text() || $('#title').val();
            var date=$('#share_itemdate').text() || $('#share_itemdate').val();
            var description=$('#share_description').text() || $('#share_description').val();
            var alternativetitle=$('#share_alternativetitle').text() || $('#share_alternativetitle').val();
            var filedate=$('#share_filedate').text() || $('#share_filedate').val();
            var filealternativetitle=$('#share_filealternative_title').text() || $('#share_filealternative_title').val();
            var filedescription=$('#share_filedescription').text() || $('#share_filedescription').val();
            
			if(title.length==0){
				title=$('.article_right #title h2').text()
			}
            $('#share-title').val(title);
            $('#shared-itemdate').val(date);
            $('#shared-description').val(description);
            $('#shared-alternativetitle').val(alternativetitle);
            $('#shared-filedate').val(filedate);
            $('#shared-filedescription').val(filedescription);
            $('#shared-filealternativetitle').val(filealternativetitle);
            $('#share-authors').val(author);
            if ($('#vol-contentType').text()) {
            	$('#share-contenttype').val($('#vol-contentType').text());
            } else if ($('#vol-contentTypes').text()) {
            	$('#share-contenttype').val($('#vol-contentTypes').text());
            } else if ($('#vol-documentType').text()) {
            	$('#share-contenttype').val($('#vol-documentType').text());
            }
            var coverImageUrl = $("#coverImageUrl").attr('src')?$("#coverImageUrl").attr('src'):$("#coverImage").attr('src')?$("#coverImage").attr('src'):$("#coverImageUrl").val()?$("#coverImageUrl").val():$('#buildsupportimagelist').length>0?$('#buildsupportimagelist').val().split('~')[0]:"";
            $("#selected-imageurl").val(coverImageUrl);
            var titlevalue = $('#titlevalue').val();
            if("encyclopedia" == "museum") {
            	$("#current-contentType").val($("#recentcontenttype").val());	
            }
            $("#selected-subtitle").val(titlevalue);
            $("#selected-pubDate").val($('#publicationYear').val());
            $('#share-image').val($('#coverImageUrl').attr('src'));
        });

        $('#download-modal, #subscription-modal, #share-mail, #citation-modal, #save-item-page,#signin_modal').on('hidden.bs.modal', function(e) {
            $("#favorite-dwnld, #favorite-sbscript, #share-sharetxtmail, #citation-btn").removeClass('active');
            if(!$('#save-item-btn').hasClass('selected')){
                $('#save-item-btn').removeClass('active');
            }
        });
        $("#save-item-page").on("show.bs.modal", function (e) {
        	$('.addfoldername').val('').parent().addClass('hide');
            $('#save-item-page').find('.selectpicker').selectpicker('val', '');
            $('#save-btn').addClass('disabled-btn');
        });

        $('#save-item-page').find('#folder-select').on('change', function() {
            selectedFolder = $(this).val();
  			if (selectedFolder == '-1') {
  				$('.addfoldername').parent().removeClass('hide');
  				$('#errormsg').html("");
  			} else {
  				$('.addfoldername').val('').parent().addClass('hide');
  				if(selectedFolder.trim().length == 0){
                	$('#save-btn').addClass('disabled-btn');
            	} else {
                	$('#save-btn').removeClass('disabled-btn');
            	}
  			}
        });
        $(".author-view-more").text("More...");
        $(".author-view-less").text("...Less");
        $('.subfacet').on('click', function(){
        	$.cookie('type', 'taxonomy');
        });
  	});
			/* Squid calls for Recently Viewed/Related Content/Reference Links */
		
		/* Squid calls for Recently Viewed/Related Content/Reference Links */
		
</script>	
	<script language="javascript">
		var _$tarQ = _$tarQ || [];
		//Create an instance of contenttype and call getHtmlContent method passing content type and cache page type
	   	var evolm = Object.create(contenttype);
		evolm.getHtmlContent("encyclopedia", "evolm");			
	</script>
<div class="ssp-footer-layout">    <footer class="footer-temp2">    	<div class="ssp-footer-top">            <div class="container">                <div class="row ssp-foot">                    <div class="col-xs-12 col-sm-12 hidden-md hidden-lg">                        <ul class="ssp-footer-menu">                        						                    	<li class="" role="listitem"><a tabindex="0" aria-label="Home" href="/home">Home</a></li><li class="" role="listitem"><a tabindex="0" aria-label="About" href="/about-human-kinetics-library">About</a></li><li class="" role="listitem"><a tabindex="0" aria-label="Help" href="/help-content">Help</a></li><li class="" role="listitem"><a tabindex="0" aria-label="Accessibility" href="/accessibility">Accessibility</a></li><li class="" role="listitem"><a tabindex="0" aria-label="Contact Us" href="/contact-us">Contact Us</a></li>		                                            </ul>                    </div>							<div class="sm-temp2-container">								<div class="ssp-foot-logo">                    <div class="col-xs-3 col-sm-3 col-md-2 col-lg-2 ssp-footleft-img">                        <span class="navbar-brand zero-leftpad first-logo">						    <a class="confirmModal" target="_blank" href="https://www.bloomsbury.com/dr/digital-resources/"><img src="/bloomsbury_assets/hklp/images/Bloomsbury Digital Resources.jpg" class="img-responsive" alt="Bloomsbury Digital Resources" title="Bloomsbury Digital Resources"></a>                        </span>                    </div>                    <div class="col-xs-3 col-sm-3 col-md-2 col-lg-2 ssp-footright-img">						<span class="navbar-brand second-logo">                            <a class="confirmModal" target="_blank" href="https://uk-humankinetics-com.ezproxy.lib.hkmu.edu.hk/"><img src="/bloomsbury_assets/hklp/images/hklogo.png" class="img-responsive" alt="Human Kinetics" title="Human Kinetics"></a>                        </span>                    </div>					</div>                    <div class="col-xs-6 hidden-sm col-md-5 col-lg-6 hidden-xs footer2-nav">                        <ul class="ssp-footer-menu">                        						                    	<li class="" role="listitem"><a tabindex="0" aria-label="Home" href="/home">Home</a></li><li class="" role="listitem"><a tabindex="0" aria-label="About" href="/about-human-kinetics-library">About</a></li><li class="" role="listitem"><a tabindex="0" aria-label="Help" href="/help-content">Help</a></li><li class="" role="listitem"><a tabindex="0" aria-label="Accessibility" href="/accessibility">Accessibility</a></li><li class="" role="listitem"><a tabindex="0" aria-label="Contact Us" href="/contact-us">Contact Us</a></li>		                                            </ul>                    </div>                    <div class="col-xs-6 col-sm-3 col-md-3 col-lg-2 footer2-social">						<div class="hidden-xs footer2-social-inner">															<div class="social-media">									<!-- <h5 tabindex="0">Social Media</h5> -->									<ul role="menu">										<li role="menuitem" class=""><a target="_blank" class="confirmModal" href="https://www.bloomsbury.com/newsletter/academic/bloomsbury-digital-resources/human-kinetics-library" title="Newsletters"><span class="icon-Newsletters" title="Newsletters"></span></a></li><li role="menuitem" class=""><a target="_blank" class="confirmModal" href="https://twitter.com/BloomsburyDigtl" title="Twitter"><span class="icon-Twitter" title="Twitter"></span></a></li><li role="menuitem" class=""><a target="_blank" class="confirmModal" href="https://www.instagram.com/bloomsburydigtl/" title="Instagram"><span class="icon-Instagram" title="Instagram"></span></a></li>									</ul>								</div>													</div>						</div>						<!-- social Icons for mobile devices starts-->						<div class="visible-xs xs-social">														<div class="social-media">									<!-- <h5 tabindex="0">Social Media</h5> -->									<ul role="menu">										<li role="menuitem" class=""><a target="_blank" class="confirmModal" href="https://www.bloomsbury.com/newsletter/academic/bloomsbury-digital-resources/human-kinetics-library" title="Newsletters"><span class="icon-Newsletters" title="Newsletters"></span></a></li><li role="menuitem" class=""><a target="_blank" class="confirmModal" href="https://twitter.com/BloomsburyDigtl" title="Twitter"><span class="icon-Twitter" title="Twitter"></span></a></li><li role="menuitem" class=""><a target="_blank" class="confirmModal" href="https://www.instagram.com/bloomsburydigtl/" title="Instagram"><span class="icon-Instagram" title="Instagram"></span></a></li>									</ul>								</div>								<div class="dropup">									<div class="more-social-icon dropdown">										<a class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">											<img src="/bloomsbury_assets/bloomsbury/images/more-dot-icon.png" alt="">										</a>										<div class="dropdown-menu signin_dropdown social-dropdown-layer" role="menu">											<div class="social-dropdown">												<ul role="menu">													<li role="menuitem" class=""><a target="_blank" class="confirmModal" href="https://www.bloomsbury.com/newsletter/academic/bloomsbury-digi